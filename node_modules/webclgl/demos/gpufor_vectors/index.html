<!DOCTYPE html>
<html>
<head>
    <title>WebCLGL</title>
    <meta name="description" content="WebCLGL" />
    <meta charset=utf-8 />

    <title>WebCLGL</title>

    <script src="../../dist/webclgl/WebCLGL.min.js"></script>
</head>
<body style="background-color:#FFF">

A<div id="DIVA"></div>
<br />
B<div id="DIVB"></div>
<br />
A+B GPU<div id="DIVC_GPU"></div>

<script>
    // FILL ARRAYS A AND B
    var _length = 2*2;
    var arrayA = [];
    var arrayB = [];
    for(var n = 0; n < _length; n++) {
        var randA = Math.random()/2.0;
        var randB = Math.random()/2.0;
        arrayA.push(randA);
        arrayB.push(randB,randA,randB/2.0,1.0);
    }
    document.getElementById('DIVA').appendChild(document.createTextNode(arrayA));
    document.getElementById('DIVB').appendChild(document.createTextNode(arrayB));







    // PERFORM A + B WITH GPU
    var result = gpufor({"float* A": arrayA, "float4* B": arrayB}, "n",
                        'float _A = A[n];'+
                        'vec4 _B = B[n];'+
                        "float sum = _A+_B.z;"+
                        "return sum;"); // return range is from 0.0 to 1.0
    document.getElementById('DIVC_GPU').innerText = result.join();
</script>
</body>
</html>
