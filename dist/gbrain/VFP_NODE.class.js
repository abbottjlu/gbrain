(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
(function (global){
!function(){function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(e,t){return i(n,e,t)}):"object"==typeof t&&t.exports?t.exports=i(n,e("get-size"),e("unidragger")):n.Draggabilly=i(n,n.getSize,n.Unidragger)}(window,function(e,t,n){"use strict";function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){this.element="string"==typeof e?document.querySelector(e):e,s&&(this.$element=s(this.element)),this.options=i({},this.constructor.defaults),this.option(t),this._create()}function r(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}var s=e.jQuery,a=o.prototype=Object.create(n.prototype);o.defaults={},a.option=function(e){i(this.options,e)};var l={relative:!0,absolute:!0,fixed:!0};return a._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=i({},this.position);var e=getComputedStyle(this.element);l[e.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},a.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},a.dispatchEvent=function(e,t,n){var i=[t].concat(n);this.emitEvent(e,i),this.dispatchJQueryEvent(e,t,n)},a.dispatchJQueryEvent=function(t,n,i){var o=e.jQuery;if(o&&this.$element){var r=o.Event(n);r.type=t,this.$element.trigger(r,i)}},a._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},a._getPositionCoord=function(e,n){if(-1!=e.indexOf("%")){var i=t(this.element.parentNode);return i?parseFloat(e)/100*i[n]:0}return parseInt(e,10)},a._addTransformPosition=function(e){var t=e.transform;if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,o=parseInt(n[i],10),r=parseInt(n[i+1],10);this.position.x+=o,this.position.y+=r}},a.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",e,[t])},a.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},a.measureContainment=function(){var e=this.getContainer();if(e){var n=t(this.element),i=t(e),o=this.element.getBoundingClientRect(),r=e.getBoundingClientRect(),s=i.borderLeftWidth+i.borderRightWidth,a=i.borderTopWidth+i.borderBottomWidth,l=this.relativeStartPosition={x:o.left-(r.left+i.borderLeftWidth),y:o.top-(r.top+i.borderTopWidth)};this.containSize={width:i.width-s-l.x-n.width,height:i.height-a-l.y-n.height}}},a.getContainer=function(){var e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},a.onPointerMove=function(e,t,n){this.dispatchJQueryEvent("pointerMove",e,[t,n])},a.dragMove=function(e,t,n){if(this.isEnabled){var i=n.x,o=n.y,s=this.options.grid,a=s&&s[0],l=s&&s[1];i=r(i,a),o=r(o,l),i=this.containDrag("x",i,a),o=this.containDrag("y",o,l),i="y"==this.options.axis?0:i,o="x"==this.options.axis?0:o,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+o,this.dragPoint.x=i,this.dragPoint.y=o,this.dispatchEvent("dragMove",e,[t,n])}},a.containDrag=function(e,t,n){if(!this.options.containment)return t;var i="x"==e?"width":"height",o=r(-this.relativeStartPosition[e],n,"ceil"),s=this.containSize[i];return s=r(s,n,"floor"),Math.max(o,Math.min(s,t))},a.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",e,[t])},a.dragEnd=function(e,t){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},a.animate=function(){if(this.isDragging){this.positionDrag();var e=this;requestAnimationFrame(function(){e.animate()})}},a.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},a.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},a.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},a.enable=function(){this.isEnabled=!0},a.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},a._init=function(){},s&&s.bridget&&s.bridget("draggabilly",o),o})},{"get-size":3,unidragger:4}],2:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports=n():e.EvEmitter=n()}("undefined"!=typeof window?window:this,function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})},{}],3:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports=n():e.getSize=n()}(window,function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<l;t++)e[a[t]]=0;return e}function n(e){var t=getComputedStyle(e);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function i(){if(!u){u=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var s=n(t);r=200==Math.round(e(s.width)),o.isBoxSizeOuter=r,i.removeChild(t)}}function o(o){if(i(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var s=n(o);if("none"==s.display)return t();var u={};u.width=o.offsetWidth,u.height=o.offsetHeight;for(var c=u.isBorderBox="border-box"==s.boxSizing,d=0;d<l;d++){var h=a[d],f=s[h],p=parseFloat(f);u[h]=isNaN(p)?0:p}var g=u.paddingLeft+u.paddingRight,v=u.paddingTop+u.paddingBottom,_=u.marginLeft+u.marginRight,m=u.marginTop+u.marginBottom,y=u.borderLeftWidth+u.borderRightWidth,b=u.borderTopWidth+u.borderBottomWidth,E=c&&r,C=e(s.width);!1!==C&&(u.width=C+(E?0:g+y));var T=e(s.height);return!1!==T&&(u.height=T+(E?0:v+b)),u.innerWidth=u.width-(g+y),u.innerHeight=u.height-(v+b),u.outerWidth=u.width+_,u.outerHeight=u.height+m,u}}var r,s="undefined"==typeof console?function(){}:function(e){console.error(e)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=a.length,u=!1;return o})},{}],4:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(e){return i(n,e)}):"object"==typeof t&&t.exports?t.exports=i(n,e("unipointer")):n.Unidragger=i(n,n.Unipointer)}(window,function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,t),r[n]("click",this),e.PointerEvent&&(r.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},r={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=o[e.target.nodeName],n=r[e.target.type],i=!t||n;return i||this._pointerReset(),i},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},i._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},i.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},i.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n})},{unipointer:5}],5:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return i(n,e)}):"object"==typeof t&&t.exports?t.exports=i(n,e("ev-emitter")):n.Unipointer=i(n,n.EvEmitter)}(window,function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i._bindStartEvent=function(t,n){var i=(n=void 0===n||n)?"addEventListener":"removeEventListener",o="mousedown";e.PointerEvent?o="pointerdown":"ontouchstart"in e&&(o="touchstart"),t[i](o,this)},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.onpointerdown=function(e){this._pointerDown(e,e)},i._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var n=o[t.type];n.forEach(function(t){e.addEventListener(t,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){e.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(e){this._pointerMove(e,e)},i.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i._pointerMove=function(e,t){this.pointerMove(e,t)},i.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.onmouseup=function(e){this._pointerUp(e,e)},i.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n})},{"ev-emitter":2}],6:[function(e,t,n){(function(t){!function(){function t(n,i,o){function r(a,l){if(!i[a]){if(!n[a]){var u="function"==typeof e&&e;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};n[a][0].call(d.exports,function(e){return r(n[a][1][e]||e)},d,d.exports,t,n,i,o)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}return t}()({1:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLBuffer.class"),a=e("./WebCLGLKernel.class"),l=e("./WebCLGLVertexFragmentProgram.class"),u=e("./WebCLGLUtils.class"),c=i.WebCLGL=function(){function e(t){o(this,e),this.utils=new u.WebCLGLUtils,this._gl=null,this.e=null,void 0===t||null===t?(this.e=document.createElement("canvas"),this.e.width=32,this.e.height=32,this._gl=u.WebCLGLUtils.getWebGLContextFromCanvas(this.e,{antialias:!1})):this._gl=t,this._arrExt={OES_texture_float:null,OES_texture_float_linear:null,OES_element_index_uint:null,WEBGL_draw_buffers:null};for(var n in this._arrExt)this._arrExt[n]=this._gl.getExtension(n),null==this._arrExt[n]&&console.error("extension "+n+" not available");this._maxDrawBuffers=null,this._arrExt.hasOwnProperty("WEBGL_draw_buffers")&&null!=this._arrExt.WEBGL_draw_buffers?(this._maxDrawBuffers=this._gl.getParameter(this._arrExt.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL),console.log("Max draw buffers: "+this._maxDrawBuffers)):console.log("Max draw buffers: 1");var i=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this.precision=0!==i.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n",this._currentTextureUnit=0,this._bufferWidth=0;var r=this.utils.loadQuad(void 0,1,1);this.vertexBuffer_QUAD=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(r.vertexArray),this._gl.STATIC_DRAW),this.indexBuffer_QUAD=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(r.indexArray),this._gl.STATIC_DRAW),this.arrayCopyTex=[];var s=this.precision+"attribute vec3 aVertexPosition;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nvCoord = aVertexPosition.xy*0.5+0.5;\n}\n",a=this.precision+"uniform sampler2D sampler_buffer;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_FragColor = texture2D(sampler_buffer, vCoord);}\n";this.shader_readpixels=this._gl.createProgram(),this.utils.createShader(this._gl,"CLGLREADPIXELS",s,a,this.shader_readpixels),this.attr_VertexPos=this._gl.getAttribLocation(this.shader_readpixels,"aVertexPosition"),this.sampler_buffer=this._gl.getUniformLocation(this.shader_readpixels,"sampler_buffer");var l=function(){return void 0!==this._maxDrawBuffers&&null!==this._maxDrawBuffers?"#extension GL_EXT_draw_buffers : require\n":""}.bind(this),c=(function(){for(var e="",t=0,n=this._maxDrawBuffers;t<n;t++)e+="layout(location = "+t+") out vec4 outCol"+t+";\n";return e}.bind(this),function(){for(var e="",t=0,n=this._maxDrawBuffers;t<n;t++)e+="gl_FragData["+t+"] = texture2D(uArrayCT["+t+"], vCoord);\n";return e}.bind(this));s=this.precision+"attribute vec3 aVertexPosition;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nvCoord = aVertexPosition.xy*0.5+0.5;\n}",a=l()+this.precision+"uniform sampler2D uArrayCT["+this._maxDrawBuffers+"];\nvarying vec2 vCoord;\nvoid main(void) {\n"+c()+"}",this.shader_copyTexture=this._gl.createProgram(),this.utils.createShader(this._gl,"CLGLCOPYTEXTURE",s,a,this.shader_copyTexture),this.attr_copyTexture_pos=this._gl.getAttribLocation(this.shader_copyTexture,"aVertexPosition");for(var d=0,h=this._maxDrawBuffers;d<h;d++)this.arrayCopyTex[d]=this._gl.getUniformLocation(this.shader_copyTexture,"uArrayCT["+d+"]");this.textureDataAux=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,2,2,0,this._gl.RGBA,this._gl.FLOAT,new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,1,1])),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,null)}return r(e,[{key:"getContext",value:function(){return this._gl}},{key:"getMaxDrawBuffers",value:function(){return this._maxDrawBuffers}},{key:"checkFramebufferStatus",value:function(){var e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER),t={};return t[this._gl.FRAMEBUFFER_COMPLETE]=!0,t[this._gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT: The attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete",t[this._gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT: There is no attachment",t[this._gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS: Height and width of the attachment are not the same",t[this._gl.FRAMEBUFFER_UNSUPPORTED]="FRAMEBUFFER_UNSUPPORTED: The format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer",!0===t[e]&&null!==t[e]||(console.log(t[e]),!1)}},{key:"copy",value:function(e,t){if(void 0!==t&&null!==t)if(void 0!==t[0]&&null!==t[0]){this._gl.viewport(0,0,t[0].W,t[0].H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,t[0].fBuffer);for(var n=[],i=0,o=t.length;i<o;i++)void 0!==t[i]&&null!==t[i]?(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"],this._gl.TEXTURE_2D,t[i].textureData,0),n[i]=this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"]):n[i]=this._gl.NONE;if(this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(n),!0===this.checkFramebufferStatus()){this._gl.useProgram(this.shader_copyTexture);for(var r=0,s=t.length;r<s;r++)this._gl.activeTexture(this._gl["TEXTURE"+r]),void 0!==t[r]&&null!==t[r]?this._gl.bindTexture(this._gl.TEXTURE_2D,t[r].textureDataTemp):this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.uniform1i(this.arrayCopyTex[r],r);this.copyNow(t)}}else this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null);else this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null)}},{key:"copyNow",value:function(e){this._gl.enableVertexAttribArray(this.attr_copyTexture_pos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(this.attr_copyTexture_pos,3,this._gl.FLOAT,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0)}},{key:"createBuffer",value:function(e,t,n){return new s.WebCLGLBuffer(this._gl,e,t,n)}},{key:"createKernel",value:function(e,t){return new a.WebCLGLKernel(this._gl,e,t)}},{key:"createVertexFragmentProgram",value:function(e,t,n,i){return new l.WebCLGLVertexFragmentProgram(this._gl,e,t,n,i)}},{key:"fillBuffer",value:function(e,t,n){this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,n),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL,this._gl.TEXTURE_2D,e,0);var i=[this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL];this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(i),void 0!==t&&null!==t&&this._gl.clearColor(t[0],t[1],t[2],t[3]),this._gl.clear(this._gl.COLOR_BUFFER_BIT)}},{key:"bindAttributeValue",value:function(e,t){void 0!==t&&null!==t?"float4_fromAttr"===e.type?(this._gl.enableVertexAttribArray(e.location[0]),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.vertexData0),this._gl.vertexAttribPointer(e.location[0],4,this._gl.FLOAT,!1,0,0)):"float_fromAttr"===e.type&&(this._gl.enableVertexAttribArray(e.location[0]),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.vertexData0),this._gl.vertexAttribPointer(e.location[0],1,this._gl.FLOAT,!1,0,0)):this._gl.disableVertexAttribArray(e.location[0])}},{key:"bindSamplerValue",value:function(e,t,n){this._currentTextureUnit<16?this._gl.activeTexture(this._gl["TEXTURE"+this._currentTextureUnit]):this._gl.activeTexture(this._gl.TEXTURE16),void 0!==n&&null!==n?(this._gl.bindTexture(this._gl.TEXTURE_2D,n.textureData),0===this._bufferWidth&&(this._bufferWidth=n.W,this._gl.uniform1f(e,this._bufferWidth))):this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.uniform1i(t.location[0],this._currentTextureUnit),this._currentTextureUnit++}},{key:"bindUniformValue",value:function(e,t){void 0!==t&&null!==t&&("float"===e.type?t.constructor===Array?this._gl.uniform1fv(e.location[0],t):this._gl.uniform1f(e.location[0],t):"float4"===e.type?this._gl.uniform4f(e.location[0],t[0],t[1],t[2],t[3]):"mat4"===e.type&&this._gl.uniformMatrix4fv(e.location[0],!1,t))}},{key:"bindValue",value:function(e,t,n){switch(t.expectedMode){case"ATTRIBUTE":this.bindAttributeValue(t,n);break;case"SAMPLER":this.bindSamplerValue(e.uBufferWidth,t,n);break;case"UNIFORM":this.bindUniformValue(t,n)}}},{key:"bindFB",value:function(e,t){if(void 0!==e&&null!==e){if(void 0!==e[0]&&null!==e[0]){this._gl.viewport(0,0,e[0].W,e[0].H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,!0===t?e[0].fBufferTemp:e[0].fBuffer);for(var n=[],i=0,o=e.length;i<o;i++)if(void 0!==e[i]&&null!==e[i]){var r=!0===t?e[i].textureDataTemp:e[i].textureData;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"],this._gl.TEXTURE_2D,r,0),n[i]=this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"]}else n[i]=this._gl.NONE;return this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(n),this.checkFramebufferStatus()}return this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),!0}return this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),!0}},{key:"enqueueNDRangeKernel",value:function(e,t,n,i){if(this._bufferWidth=0,this._gl.useProgram(e.kernel),!0===this.bindFB(t,n)){this._currentTextureUnit=0;for(var o in e.in_values)this.bindValue(e,e.in_values[o],i[o]);this._gl.enableVertexAttribArray(e.attr_VertexPos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(e.attr_VertexPos,3,this._gl.FLOAT,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0)}}},{key:"enqueueVertexFragmentProgram",value:function(e,t,n,i,o,r){this._bufferWidth=0,this._gl.useProgram(e.vertexFragmentProgram);var s=void 0!==n&&null!==n?n:4;if(!0===this.bindFB(i,o)&&void 0!==t&&null!==t){this._currentTextureUnit=0;for(var a in e.in_vertex_values)this.bindValue(e,e.in_vertex_values[a],r[a]);for(var l in e.in_fragment_values)this.bindValue(e,e.in_fragment_values[l],r[l]);"VERTEX_INDEX"===t.mode?(this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,t.vertexData0),this._gl.drawElements(s,t.length,this._gl.UNSIGNED_SHORT,0)):this._gl.drawArrays(s,0,t.length)}}},{key:"readBuffer",value:function(e){void 0!==this.e&&null!==this.e&&(this.e.width=e.W,this.e.height=e.H),this._gl.useProgram(this.shader_readpixels),this._gl.viewport(0,0,e.W,e.H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,e.fBufferTemp),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL,this._gl.TEXTURE_2D,e.textureDataTemp,0);var t=[this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL];if(this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(t),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,e.textureData),this._gl.uniform1i(this.sampler_buffer,0),this._gl.enableVertexAttribArray(this.attr_VertexPos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(this.attr_VertexPos,3,e._supportFormat,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0),void 0!==e.outArrayFloat&&null!==e.outArrayFloat||(e.outArrayFloat=new Float32Array(e.W*e.H*4)),this._gl.readPixels(0,0,e.W,e.H,this._gl.RGBA,this._gl.FLOAT,e.outArrayFloat),"FLOAT"===e.type){for(var n=new Float32Array(e.outArrayFloat.length/4),i=0,o=e.outArrayFloat.length/4;i<o;i++)n[i]=e.outArrayFloat[4*i];e.outArrayFloat=n}return e.outArrayFloat}}],[{key:"enqueueReadBuffer_WebGLTexture",value:function(e){return e.textureData}}]),e}();t.WebCLGL=c,n.exports.WebCLGL=c}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLBuffer.class":2,"./WebCLGLKernel.class":4,"./WebCLGLUtils.class":5,"./WebCLGLVertexFragmentProgram.class":6}],2:[function(e,n,i){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i.WebCLGLBuffer=function(){function e(n,i,o,r){t(this,e),this._gl=n,this.type=void 0!==i||null!==i?i:"FLOAT",this._supportFormat=this._gl.FLOAT,this.linear=void 0===o&&null===o||o,this.mode=void 0!==r||null!==r?r:"SAMPLER",this.W=null,this.H=null,this.textureData=null,this.textureDataTemp=null,this.vertexData0=null,this.fBuffer=null,this.renderBuffer=null,this.fBufferTemp=null,this.renderBufferTemp=null,"SAMPLER"===this.mode&&(this.textureData=this._gl.createTexture(),this.textureDataTemp=this._gl.createTexture()),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode&&"VERTEX_INDEX"!==this.mode||(this.vertexData0=this._gl.createBuffer())}return o(e,[{key:"createFramebufferAndRenderbuffer",value:function(){var e=function(){var e=this._gl.createRenderbuffer();return this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,e),this._gl.renderbufferStorage(this._gl.RENDERBUFFER,this._gl.DEPTH_COMPONENT16,this.W,this.H),this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,null),e}.bind(this);null!=this.fBuffer&&(this._gl.deleteFramebuffer(this.fBuffer),this._gl.deleteFramebuffer(this.fBufferTemp),this._gl.deleteRenderbuffer(this.renderBuffer),this._gl.deleteRenderbuffer(this.renderBufferTemp)),this.fBuffer=this._gl.createFramebuffer(),this.renderBuffer=e(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this.fBuffer),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,this.renderBuffer),this.fBufferTemp=this._gl.createFramebuffer(),this.renderBufferTemp=e(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this.fBufferTemp),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,this.renderBufferTemp)}},{key:"writeWebGLTextureBuffer",value:function(e,t){var n=function(e,t){!1===t||void 0===t||null===t?this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,!1):this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,!0),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this._gl.bindTexture(this._gl.TEXTURE_2D,e)}.bind(this),i=function(e){e instanceof HTMLImageElement?"FLOAT4"===this.type&&this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._supportFormat,e):this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this.W,this.H,0,this._gl.RGBA,this._supportFormat,e)}.bind(this),o=function(){this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)}.bind(this);e instanceof WebGLTexture?(this.textureData=e,this.textureDataTemp=e):(n(this.textureData,t),i(e),o(),n(this.textureDataTemp,t),i(e),o()),this._gl.bindTexture(this._gl.TEXTURE_2D,null)}},{key:"writeBuffer",value:function(e,t,n){var i=function(e){if(!(e instanceof HTMLImageElement))if(this.length.constructor===Array?(this.length=this.length[0]*this.length[1],this.W=this.length[0],this.H=this.length[1]):(this.W=Math.ceil(Math.sqrt(this.length)),this.H=this.W),"FLOAT4"===this.type){e=e instanceof Float32Array?e:new Float32Array(e);var t=this.W*this.H*4;if(e.length!==t){for(var n=new Float32Array(t),i=0;i<t;i++)n[i]=null!=e[i]?e[i]:0;e=n}}else if("FLOAT"===this.type){for(var o=this.W*this.H*4,r=new Float32Array(o),s=0,a=this.W*this.H;s<a;s++){var l=4*s;r[l]=null!=e[s]?e[s]:0,r[l+1]=0,r[l+2]=0,r[l+3]=0}e=r}return e}.bind(this);void 0===n||null===n?e instanceof HTMLImageElement?this.length=e.width*e.height:this.length="FLOAT4"===this.type?e.length/4:e.length:this.length=[n[0],n[1]],"SAMPLER"===this.mode&&this.writeWebGLTextureBuffer(i(e),t),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode||(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexData0),this._gl.bufferData(this._gl.ARRAY_BUFFER,e instanceof Float32Array?e:new Float32Array(e),this._gl.STATIC_DRAW)),"VERTEX_INDEX"===this.mode&&(this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.vertexData0),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),this._gl.STATIC_DRAW)),this.createFramebufferAndRenderbuffer()}},{key:"remove",value:function(){"SAMPLER"===this.mode&&(this._gl.deleteTexture(this.textureData),this._gl.deleteTexture(this.textureDataTemp)),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode&&"VERTEX_INDEX"!==this.mode||this._gl.deleteBuffer(this.vertexData0),this._gl.deleteFramebuffer(this.fBuffer),this._gl.deleteFramebuffer(this.fBufferTemp),this._gl.deleteRenderbuffer(this.renderBuffer),this._gl.deleteRenderbuffer(this.renderBufferTemp)}}]),e}();e.WebCLGLBuffer=r,n.exports.WebCLGLBuffer=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=new u,t=null;return arguments[0]instanceof WebGLRenderingContext?(t=arguments[0],e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.iniG(arguments),e):arguments[0]instanceof HTMLCanvasElement?(t=l.WebCLGLUtils.getWebGLContextFromCanvas(arguments[0]),e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.iniG(arguments),e):(t=l.WebCLGLUtils.getWebGLContextFromCanvas(document.createElement("canvas"),{antialias:!1}),e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.ini(arguments))}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLFor=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();i.gpufor=r;var a=e("./WebCLGL.class"),l=e("./WebCLGLUtils.class"),u=i.WebCLGLFor=function(){function e(t){o(this,e),this.kernels={},this.vertexFragmentPrograms={},this._args={},this._argsValues={},this.calledArgs={},this._webCLGL=null,this._gl=null}return s(e,[{key:"defineOutputTempModes",value:function(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=null!=e[i]&&function(e,t){var n=!1;for(var i in t)if("indices"!==i){var o=i.split(" ");if(o.length>0&&o[1]===e){n=!0;break}}return n}(e[i],t);return n}},{key:"prepareReturnCode",value:function(e,t){var n=[],i=e.match(new RegExp(/return.*$/gm)),o=(i=i[0].replace("return ","")).match(new RegExp(/\[/gm));if(null!=o&&o.length>=1){i=i.split("[")[1].split("]")[0];for(var r="",s=0,a=0;a<i.length;a++)","===i[a]&&0===s?(n.push(r),r=""):r+=i[a],"("===i[a]&&s++,")"===i[a]&&s--;n.push(r)}else n.push(i.replace(/;$/gm,""));for(var l="",u=0;u<t.length;u++){var c=!1;for(var d in this._args)if("indices"!==d){var h=d.split(" ");if(h[1]===t[u]){var f=h[0].match(new RegExp("float4","gm"));l+=null!=f&&f.length>0?"out"+u+"_float4 = "+n[u]+";\n":"out"+u+"_float = "+n[u]+";\n",c=!0;break}}!1===c&&(l+="out"+u+"_float4 = "+n[u]+";\n")}return l}},{key:"addKernel",value:function(e){var t=e.config,n=t[0],i=t[1]instanceof Array?t[1]:[t[1]],o=t[2],r=t[3],s=this._webCLGL.createKernel(),a=[];for(var l in this._args){var u=l.split(" ")[1];if(void 0!==u&&null!==u){var c=(o+r).match(new RegExp(u.replace(/\[\d.*/,""),"gm"));"indices"!==l&&null!=c&&c.length>0&&(s.in_values[u]={},a.push(l.replace("*attr ","* ").replace(/\[\d.*/,"")))}}r="void main("+a.toString()+") {vec2 "+n+" = get_global_id();"+r.replace(/return.*$/gm,this.prepareReturnCode(r,i))+"}",s.name=e.name,s.viewSource=null!=e.viewSource&&e.viewSource,s.setKernelSource(r,o),s.output=i,s.outputTempModes=this.defineOutputTempModes(i,this._args),s.enabled=!0,s.drawMode=null!=e.drawMode?e.drawMode:4,s.depthTest=null==e.depthTest||e.depthTest,s.blend=null!=e.blend&&e.blend,s.blendEquation=null!=e.blendEquation?e.blendEquation:"FUNC_ADD",s.blendSrcMode=null!=e.blendSrcMode?e.blendSrcMode:"SRC_ALPHA",s.blendDstMode=null!=e.blendDstMode?e.blendDstMode:"ONE_MINUS_SRC_ALPHA",this.kernels[Object.keys(this.kernels).length.toString()]=s}},{key:"addGraphic",value:function(e){var t=e.config,n=[null],i=void 0,o=void 0,r=void 0,s=void 0;5===t.length?(n=t[0]instanceof Array?t[0]:[t[0]],i=t[1],o=t[2],r=t[3],s=t[4]):(i=t[0],o=t[1],r=t[2],s=t[3]);var a=this._webCLGL.createVertexFragmentProgram(),l=[],u=[];for(var c in this._args){var d=c.split(" ")[1];if(void 0!==d&&null!==d){var h=(i+o).match(new RegExp(d.replace(/\[\d.*/,""),"gm"));"indices"!==c&&null!=h&&h.length>0&&(a.in_vertex_values[d]={},l.push(c.replace(/\[\d.*/,"")))}}for(var f in this._args){var p=f.split(" ")[1];if(void 0!==p&&null!==p){var g=(r+s).match(new RegExp(p.replace(/\[\d.*/,""),"gm"));"indices"!==f&&null!=g&&g.length>0&&(a.in_fragment_values[p]={},u.push(f.replace(/\[\d.*/,"")))}}o="void main("+l.toString()+") {"+o+"}",s="void main("+u.toString()+") {"+s.replace(/return.*$/gm,this.prepareReturnCode(s,n))+"}",a.name=e.name,a.viewSource=null!=e.viewSource&&e.viewSource,a.setVertexSource(o,i),a.setFragmentSource(s,r),a.output=n,a.outputTempModes=this.defineOutputTempModes(n,this._args),a.enabled=!0,a.drawMode=null!=e.drawMode?e.drawMode:4,a.depthTest=null==e.depthTest||e.depthTest,a.blend=null==e.blend||e.blend,a.blendEquation=null!=e.blendEquation?e.blendEquation:"FUNC_ADD",a.blendSrcMode=null!=e.blendSrcMode?e.blendSrcMode:"SRC_ALPHA",a.blendDstMode=null!=e.blendDstMode?e.blendDstMode:"ONE_MINUS_SRC_ALPHA",this.vertexFragmentPrograms[Object.keys(this.vertexFragmentPrograms).length.toString()]=a}},{key:"checkArg",value:function(e,t,n){var i=[],o=!1,r=!1;for(var s in t)for(var a in t[s].in_values)if(t[s].in_values[a],a===e){i.push(t[s]);break}for(var l in n){for(var u in n[l].in_vertex_values)if(n[l].in_vertex_values[u],u===e){o=!0;break}for(var c in n[l].in_fragment_values)if(n[l].in_fragment_values[c],c===e){r=!0;break}}return{usedInVertex:o,usedInFragment:r,kernelPr:i}}},{key:"fillArg",value:function(e,t){this._webCLGL.fillBuffer(this._argsValues[e].textureData,t,this._argsValues[e].fBuffer),this._webCLGL.fillBuffer(this._argsValues[e].textureDataTemp,t,this._argsValues[e].fBufferTemp)}},{key:"getAllArgs",value:function(){return this._argsValues}},{key:"addArg",value:function(e){this._args[e]=null}},{key:"getGPUForArg",value:function(e,t){!1===this.calledArgs.hasOwnProperty(e)&&(this.calledArgs[e]=[]),-1===this.calledArgs[e].indexOf(t)&&this.calledArgs[e].push(t),!1===t.calledArgs.hasOwnProperty(e)&&(t.calledArgs[e]=[]),-1===t.calledArgs[e].indexOf(this)&&t.calledArgs[e].push(this);for(var n in t._args){var i=n.split(" ")[1];if(i===e){this._args[n]=t._args[n],this._argsValues[i]=t._argsValues[i];break}}}},{key:"setArg",value:function(e,t,n,i){if("indices"===e)this.setIndices(t);else for(var o in this._args){var r=o.split(" ")[1];if(void 0!==r&&r.replace(/\[\d.*/,"")===e){r!==e&&(e=r);var s=!1;if(null!=o.match(/\*/gm)){var a=this.checkArg(e,this.kernels,this.vertexFragmentPrograms),l="SAMPLER";!0===a.usedInVertex&&0===a.kernelPr.length&&!1===a.usedInFragment&&(l="ATTRIBUTE");var u=o.split("*")[0].toUpperCase();void 0!==i&&null!==i&&(u=i),void 0!==t&&null!==t?((!1===this._argsValues.hasOwnProperty(e)||!0===this._argsValues.hasOwnProperty(e)&&null==this._argsValues[e])&&(this._argsValues[e]=this._webCLGL.createBuffer(u,!1,l),this._argsValues[e].argument=e,s=!0),this._argsValues[e].writeBuffer(t,!1,n)):this._argsValues[e]=null}else void 0!==t&&null!==t&&(this._argsValues[e]=t),s=!0;if(!0===s&&!0===this.calledArgs.hasOwnProperty(e))for(var c=0;c<this.calledArgs[e].length;c++)this.calledArgs[e][c]._argsValues[e]=this._argsValues[e];break}}return t}},{key:"readArg",value:function(e){return this._webCLGL.readBuffer(this._argsValues[e])}},{key:"setIndices",value:function(e){this.CLGL_bufferIndices=this._webCLGL.createBuffer("FLOAT",!1,"VERTEX_INDEX"),this.CLGL_bufferIndices.writeBuffer(e)}},{key:"getCtx",value:function(){return this._webCLGL.getContext()}},{key:"setCtx",value:function(e){this._gl=e}},{key:"getWebCLGL",value:function(){return this._webCLGL}},{key:"onPreProcessKernel",value:function(e,t){this.kernels[e].onpre=t}},{key:"onPostProcessKernel",value:function(e,t){this.kernels[e].onpost=t}},{key:"enableKernel",value:function(e){this.kernels["0"|e.toString()].enabled=!0}},{key:"disableKernel",value:function(e){this.kernels["0"|e.toString()].enabled=!1}},{key:"getKernel",value:function(e){for(var t in this.kernels)if(t===e)return this.kernels[t];return null}},{key:"getAllKernels",value:function(){return this.kernels}},{key:"onPreProcessGraphic",value:function(e,t){this.vertexFragmentPrograms[e].onpre=t}},{key:"onPostProcessGraphic",value:function(e,t){this.vertexFragmentPrograms[e].onpost=t}},{key:"enableGraphic",value:function(e){this.vertexFragmentPrograms["0"|e.toString()].enabled=!0}},{key:"disableGraphic",value:function(e){this.vertexFragmentPrograms["0"|e.toString()].enabled=!1}},{key:"getVertexFragmentProgram",value:function(e){for(var t in this.vertexFragmentPrograms)if(t===e)return this.vertexFragmentPrograms[t];return null}},{key:"getAllVertexFragmentProgram",value:function(){return this.vertexFragmentPrograms}},{key:"processKernel",value:function(e,t,n){if(!0===e.enabled){if(void 0!==n&&null!==n&&!0===n&&(this.arrMakeCopy=[]),!0===e.depthTest?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),!0===e.blend?this._gl.enable(this._gl.BLEND):this._gl.disable(this._gl.BLEND),this._gl.blendFunc(this._gl[e.blendSrcMode],this._gl[e.blendDstMode]),this._gl.blendEquation(this._gl[e.blendEquation]),void 0!==e.onpre&&null!==e.onpre&&e.onpre(),void 0===t||null===t||!0===t){for(var i=!1,o=0;o<e.output.length;o++)if(null!=e.output[o]&&!0===e.outputTempModes[o]){i=!0;break}!0===i?(this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!0,this._argsValues),this.arrMakeCopy.push(e)):this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!1,this._argsValues)}else this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!1,this._argsValues);void 0!==e.onpost&&null!==e.onpost&&e.onpost(),void 0!==n&&null!==n&&!0===n&&this.processCopies()}}},{key:"processCopies",value:function(e){for(var t=0;t<this.arrMakeCopy.length;t++)this._webCLGL.copy(this.arrMakeCopy[t],l.WebCLGLUtils.getOutputBuffers(this.arrMakeCopy[t],this._argsValues))}},{key:"processKernels",value:function(e){this.arrMakeCopy=[];for(var t in this.kernels)this.processKernel(this.kernels[t],e);this.processCopies()}},{key:"processGraphic",value:function(e){var t=[];for(var n in this.vertexFragmentPrograms){var i=this.vertexFragmentPrograms[n];if(!0===i.enabled){var o=void 0!==e&&null!==e||void 0===this.CLGL_bufferIndices||null===this.CLGL_bufferIndices?this._argsValues[e]:this.CLGL_bufferIndices;if(void 0!==o&&null!==o&&o.length>0){!0===i.depthTest?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),!0===i.blend?this._gl.enable(this._gl.BLEND):this._gl.disable(this._gl.BLEND),this._gl.blendFunc(this._gl[i.blendSrcMode],this._gl[i.blendDstMode]),this._gl.blendEquation(this._gl[i.blendEquation]),void 0!==i.onpre&&null!==i.onpre&&i.onpre();for(var r=!1,s=0;s<i.output.length;s++)if(null!=i.output[s]&&!0===i.outputTempModes[s]){r=!0;break}!0===r?(this._webCLGL.enqueueVertexFragmentProgram(i,o,i.drawMode,l.WebCLGLUtils.getOutputBuffers(i,this._argsValues),!0,this._argsValues),t.push(i)):this._webCLGL.enqueueVertexFragmentProgram(i,o,i.drawMode,l.WebCLGLUtils.getOutputBuffers(i,this._argsValues),!1,this._argsValues),void 0!==i.onpost&&null!==i.onpost&&i.onpost()}}}for(var a=0;a<t.length;a++)this._webCLGL.copy(t[a],l.WebCLGLUtils.getOutputBuffers(t[a],this._argsValues))}},{key:"ini",value:function(){var e=arguments[0],t=void 0,n=void 0,i=void 0;e.length>3?(this._args=e[0],t=e[1],n=e[2],i=e[3]):(this._args=e[0],t=e[1],n="FLOAT",i=e[2]);var o=0;for(var r in this._args){var s=this._args[r];this.setArg(r.split(" ")[1],s),0===o&&(s instanceof Array||s instanceof Float32Array||s instanceof Uint8Array||s instanceof HTMLImageElement)&&(o=s.length)}return"FLOAT"===n?this.addArg("float* result"):this.addArg("float4* result"),this.setArg("result",new Float32Array(o),null,n),this.addKernel({type:"KERNEL",name:"SIMPLE_KERNEL",viewSource:!1,config:[t,["result"],"",i]}),this.processKernels(),this._webCLGL.readBuffer(this._argsValues.result)}},{key:"iniG",value:function(){this._webCLGL.getContext().depthFunc(this._webCLGL.getContext().LEQUAL),this._webCLGL.getContext().clearDepth(1);var e=arguments[0];this._args=e[1];for(var t=2;t<e.length;t++)"KERNEL"===e[t].type?this.addKernel(e[t]):"GRAPHIC"===e[t].type&&this.addGraphic(e[t]);for(var n in this._args){var i=this._args[n];"indices"===n?null!==i&&this.setIndices(i):this.setArg(n.split(" ")[1],i)}}}]),e}();t.WebCLGLFor=u,n.exports.WebCLGLFor=u,t.gpufor=r,n.exports.gpufor=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGL.class":1,"./WebCLGLUtils.class":5}],4:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLKernel=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLUtils.class"),a=i.WebCLGLKernel=function(){function e(t,n,i){o(this,e),this._gl=t;var r=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this._precision=0!==r.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n";var s=this._gl.getExtension("WEBGL_draw_buffers");this._maxDrawBuffers=null,null!=s&&(this._maxDrawBuffers=this._gl.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)),this.name="",this.enabled=!0,this.depthTest=null,this.blend=null,this.blendSrcMode=null,this.blendDstMode=null,this.blendEquation=null,this.onpre=null,this.onpost=null,this.viewSource=!1,this.in_values={},this.output=null,this.outputTempModes=null,this.fBuffer=null,this.fBufferTemp=null,this.fBufferLength=0,this.fBufferCount=0,void 0!==n&&null!==n&&this.setKernelSource(n,i)}return r(e,[{key:"setKernelSource",value:function(e,t){for(var n=function(){var e=this._precision+"attribute vec3 aVertexPosition;\nvarying vec2 global_id;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nglobal_id = aVertexPosition.xy*0.5+0.5;\n}\n",t="#extension GL_EXT_draw_buffers : require\n"+this._precision+s.WebCLGLUtils.lines_fragment_attrs(this.in_values)+"varying vec2 global_id;\nuniform float uBufferWidth;vec2 get_global_id() {\nreturn global_id;\n}\n"+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._head+"void main(void) {\n"+s.WebCLGLUtils.lines_drawBuffersInit(8)+this._source+s.WebCLGLUtils.lines_drawBuffersWrite(8)+"}\n";this.kernel=this._gl.createProgram(),(new s.WebCLGLUtils).createShader(this._gl,"WEBCLGL",e,t,this.kernel),this.attr_VertexPos=this._gl.getAttribLocation(this.kernel,"aVertexPosition"),this.uBufferWidth=this._gl.getUniformLocation(this.kernel,"uBufferWidth");for(var n in this.in_values){var i={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_values[n].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_values,n),this.in_values[n].location=[this._gl.getUniformLocation(this.kernel,n.replace(/\[\d.*/,""))],this.in_values[n].expectedMode=i}return"VERTEX PROGRAM\n"+e+"\n FRAGMENT PROGRAM\n"+t}.bind(this),i=e.split(")")[0].split("(")[1].split(","),o=0,r=i.length;o<r;o++)if(null!==i[o].match(/\*/gm)){var a=i[o].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_values,a),null!=i[o].match(/float4/gm)?this.in_values[a].type="float4_fromSampler":null!=i[o].match(/float/gm)&&(this.in_values[a].type="float_fromSampler")}else if(""!==i[o]){var l=i[o].split(" ")[1].trim();for(var u in this.in_values)if(u.replace(/\[\d.*/,"")===l){l=u;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_values,l),null!=i[o].match(/float4/gm)?this.in_values[l].type="float4":null!=i[o].match(/float/gm)?this.in_values[l].type="float":null!=i[o].match(/mat4/gm)&&(this.in_values[l].type="mat4")}this._head=void 0!==t&&null!==t?t:"",this._head=this._head.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._head=s.WebCLGLUtils.parseSource(this._head,this.in_values),this._source=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._source=this._source.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._source=s.WebCLGLUtils.parseSource(this._source,this.in_values);var c=n();!0===this.viewSource&&(console.log("%c KERNEL: "+this.name,"font-size: 20px; color: blue"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+c,"color: darkgray"))}}]),e}();t.WebCLGLKernel=a,n.exports.WebCLGLKernel=a}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLUtils.class":5}],5:[function(e,n,i){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i.WebCLGLUtils=function(){function e(){t(this,e)}return o(e,[{key:"loadQuad",value:function(e,t,n){var i=void 0===t||null===t?.5:t,o=void 0===n||null===n?.5:n;this.vertexArray=[-i,-o,0,i,-o,0,i,o,0,-i,o,0],this.textureArray=[0,0,0,1,0,0,1,1,0,0,1,0],this.indexArray=[0,1,2,0,2,3];var r={};return r.vertexArray=this.vertexArray,r.textureArray=this.textureArray,r.indexArray=this.indexArray,r}},{key:"createShader",value:function(e,t,n,i,o){var r=!1,s=!1,a=function(t,n){console.log(t);for(var i=[],o=t.split("\n"),r=0,s=o.length;r<s;r++)if(null!=o[r].match(/^ERROR/gim)){var a=o[r].split(":"),l=parseInt(a[2]);i.push([l,o[r]])}var u=e.getShaderSource(n).split("\n");u.unshift("");for(var c=0,d=u.length;c<d;c++){for(var h=!1,f="",p=0,g=i.length;p<g;p++)if(c===i[p][0]){h=!0,f=i[p][1];break}!1===h?console.log("%c"+c+" %c"+u[c],"color:black","color:blue"):console.log("%c►►%c"+c+" %c"+u[c]+"\n%c"+f,"color:red","color:black","color:blue","color:red")}}.bind(this),l=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(l,n),e.compileShader(l),e.getShaderParameter(l,e.COMPILE_STATUS))e.attachShader(o,l),r=!0;else{var u=e.getShaderInfoLog(l);console.log("%c"+t+" ERROR (vertex program)","color:red"),void 0!==u&&null!==u&&a(u,l)}var c=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(c,i),e.compileShader(c),e.getShaderParameter(c,e.COMPILE_STATUS))e.attachShader(o,c),s=!0;else{var d=e.getShaderInfoLog(c);console.log("%c"+t+" ERROR (fragment program)","color:red"),void 0!==d&&null!==d&&a(d,c)}if(!0===r&&!0===s){if(e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))return!0;console.log("Error shader program "+t+":\n ");var h=e.getProgramInfoLog(o);return void 0!==h&&null!==h&&console.log(h),!1}return!1}},{key:"pack",value:function(e){var t=[1/255,1/255,1/255,0],n=e,i=this.fract(255*n),o=this.fract(255*i),r=[n,i,o,this.fract(255*o)],s=[r[1]*t[0],r[2]*t[1],r[3]*t[2],r[3]*t[3]];return[r[0]-s[0],r[1]-s[1],r[2]-s[2],r[3]-s[3]]}},{key:"unpack",value:function(e){var t=[1,1/255,1/65025,1/16581375];return this.dot4(e,t)}}],[{key:"getWebGLContextFromCanvas",value:function(e,t){var n=null;if(null==n)try{n=void 0===t||null===t?e.getContext("webgl"):e.getContext("webgl",t),console.log(null==n?"no webgl":"using webgl")}catch(e){n=null}if(null==n)try{n=void 0===t||null===t?e.getContext("experimental-webgl"):e.getContext("experimental-webgl",t),console.log(null==n?"no experimental-webgl":"using experimental-webgl")}catch(e){n=null}return null==n&&(n=!1),n}},{key:"getUint8ArrayFromHTMLImageElement",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}},{key:"dot4",value:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},{key:"fract",value:function(e){return e>0?e-Math.floor(e):e-Math.ceil(e)}},{key:"packGLSLFunctionString",value:function(){return"vec4 pack (float depth) {\nconst vec4 bias = vec4(1.0 / 255.0,\n1.0 / 255.0,\n1.0 / 255.0,\n0.0);\nfloat r = depth;\nfloat g = fract(r * 255.0);\nfloat b = fract(g * 255.0);\nfloat a = fract(b * 255.0);\nvec4 colour = vec4(r, g, b, a);\nreturn colour - (colour.yzww * bias);\n}\n"}},{key:"unpackGLSLFunctionString",value:function(){return"float unpack (vec4 colour) {\nconst vec4 bitShifts = vec4(1.0,\n1.0 / 255.0,\n1.0 / (255.0 * 255.0),\n1.0 / (255.0 * 255.0 * 255.0));\nreturn dot(colour, bitShifts);\n}\n"}},{key:"getOutputBuffers",value:function(e,t){var n=null;if(void 0!==e.output&&null!==e.output)if(n=[],null!=e.output[0])for(var i=0;i<e.output.length;i++)n[i]=t[e.output[i]];else n=null;return n}},{key:"parseSource",value:function(e,t){for(var n in t){var i=new RegExp(n+"\\[(?!\\d).*?\\]","gm"),o=e.match(i);if(null!=o)for(var r=0,s=o.length;r<s;r++){var a=new RegExp("```(s|\t)*gl.*"+o[r]+".*```[^```(s|\t)*gl]","gm");if(null==e.match(a)){var l=o[r].split("[")[0],u=o[r].split("[")[1].split("]")[0];e={float4_fromSampler:e.replace(l+"["+u+"]","texture2D("+l+","+u+")"),float_fromSampler:e.replace(l+"["+u+"]","texture2D("+l+","+u+").x"),float4_fromAttr:e.replace(l+"["+u+"]",l),float_fromAttr:e.replace(l+"["+u+"]",l)}[t[n].type]}}}return e=e.replace(/```(\s|\t)*gl/gi,"").replace(/```/gi,"").replace(/;/gi,";\n").replace(/}/gi,"}\n").replace(/{/gi,"{\n")}},{key:"lines_vertex_attrs",value:function(e){var t="";for(var n in e)t+={float4_fromSampler:"uniform sampler2D "+n+";",float_fromSampler:"uniform sampler2D "+n+";",float4_fromAttr:"attribute vec4 "+n+";",float_fromAttr:"attribute float "+n+";",float:"uniform float "+n+";",float4:"uniform vec4 "+n+";",mat4:"uniform mat4 "+n+";"}[e[n].type]+"\n";return t}},{key:"lines_fragment_attrs",value:function(e){var t="";for(var n in e)t+={float4_fromSampler:"uniform sampler2D "+n+";",float_fromSampler:"uniform sampler2D "+n+";",float:"uniform float "+n+";",float4:"uniform vec4 "+n+";",mat4:"uniform mat4 "+n+";"}[e[n].type]+"\n";return t}},{key:"lines_drawBuffersInit",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="float out"+n+"_float = -999.99989;\nvec4 out"+n+"_float4;\n";return t}},{key:"lines_drawBuffersWriteInit",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="layout(location = "+n+") out vec4 outCol"+n+";\n";return t}},{key:"lines_drawBuffersWrite",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="if(out"+n+"_float != -999.99989) gl_FragData["+n+"] = vec4(out"+n+"_float,0.0,0.0,1.0);\n else gl_FragData["+n+"] = out"+n+"_float4;\n";return t}},{key:"checkArgNameInitialization",value:function(e,t){!1===e.hasOwnProperty(t)&&(e[t]={type:null,expectedMode:null,location:null})}},{key:"get_global_id3_GLSLFunctionString",value:function(){return"vec2 get_global_id(float id, float bufferWidth, float geometryLength) {\nfloat texelSize = 1.0/bufferWidth;float num = (id*geometryLength)/bufferWidth;float column = fract(num)+(texelSize/2.0);float row = (floor(num)/bufferWidth)+(texelSize/2.0);return vec2(column, row);}\n"}},{key:"get_global_id2_GLSLFunctionString",value:function(){return"vec2 get_global_id(vec2 id, float bufferWidth) {\nfloat texelSize = 1.0/bufferWidth;float column = (id.x/bufferWidth)+(texelSize/2.0);float row = (id.y/bufferWidth)+(texelSize/2.0);return vec2(column, row);}\n"}}]),e}();e.WebCLGLUtils=r,n.exports.WebCLGLUtils=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLVertexFragmentProgram=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLUtils.class"),a=i.WebCLGLVertexFragmentProgram=function(){function e(t,n,i,r,s){o(this,e),this._gl=t;var a=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this._precision=0!==a.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n";var l=this._gl.getExtension("WEBGL_draw_buffers");this._maxDrawBuffers=null,null!=l&&(this._maxDrawBuffers=this._gl.getParameter(l.MAX_DRAW_BUFFERS_WEBGL)),this.name="",this.viewSource=!1,this.in_vertex_values={},this.in_fragment_values={},this._vertexP_ready=!1,this._fragmentP_ready=!1,this._vertexHead=null,this._vertexSource=null,this._fragmentHead=null,this._fragmentSource=null,this.output=null,this.outputTempModes=null,this.fBuffer=null,this.fBufferTemp=null,this.drawMode=4,void 0!==n&&null!==n&&this.setVertexSource(n,i),void 0!==r&&null!==r&&this.setFragmentSource(r,s)}return r(e,[{key:"compileVertexFragmentSource",value:function(){var e=this._precision+"uniform float uOffset;\nuniform float uBufferWidth;"+s.WebCLGLUtils.lines_vertex_attrs(this.in_vertex_values)+s.WebCLGLUtils.unpackGLSLFunctionString()+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._vertexHead+"void main(void) {\n"+this._vertexSource+"}\n",t="#extension GL_EXT_draw_buffers : require\n"+this._precision+s.WebCLGLUtils.lines_fragment_attrs(this.in_fragment_values)+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._fragmentHead+"void main(void) {\n"+s.WebCLGLUtils.lines_drawBuffersInit(8)+this._fragmentSource+s.WebCLGLUtils.lines_drawBuffersWrite(8)+"}\n";this.vertexFragmentProgram=this._gl.createProgram(),(new s.WebCLGLUtils).createShader(this._gl,"WEBCLGL VERTEX FRAGMENT PROGRAM",e,t,this.vertexFragmentProgram),this.uOffset=this._gl.getUniformLocation(this.vertexFragmentProgram,"uOffset"),this.uBufferWidth=this._gl.getUniformLocation(this.vertexFragmentProgram,"uBufferWidth");for(var n in this.in_vertex_values){var i={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float4_fromAttr:"ATTRIBUTE",float_fromAttr:"ATTRIBUTE",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_vertex_values[n].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,n);var o="ATTRIBUTE"===i?this._gl.getAttribLocation(this.vertexFragmentProgram,n):this._gl.getUniformLocation(this.vertexFragmentProgram,n.replace(/\[\d.*/,""));this.in_vertex_values[n].location=[o],this.in_vertex_values[n].expectedMode=i}for(var r in this.in_fragment_values){var a={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_fragment_values[r].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,r),this.in_fragment_values[r].location=[this._gl.getUniformLocation(this.vertexFragmentProgram,r.replace(/\[\d.*/,""))],this.in_fragment_values[r].expectedMode=a}return"VERTEX PROGRAM\n"+e+"\n FRAGMENT PROGRAM\n"+t}},{key:"setVertexSource",value:function(e,t){for(var n=e.split(")")[0].split("(")[1].split(","),i=0,o=n.length;i<o;i++)if(null!==n[i].match(/\*attr/gm)){var r=n[i].split("*attr")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,r),null!=n[i].match(/float4/gm)?this.in_vertex_values[r].type="float4_fromAttr":null!=n[i].match(/float/gm)&&(this.in_vertex_values[r].type="float_fromAttr")}else if(null!==n[i].match(/\*/gm)){var a=n[i].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,a),null!=n[i].match(/float4/gm)?this.in_vertex_values[a].type="float4_fromSampler":null!=n[i].match(/float/gm)&&(this.in_vertex_values[a].type="float_fromSampler")}else if(""!==n[i]){var l=n[i].split(" ")[1].trim();for(var u in this.in_vertex_values)if(u.replace(/\[\d.*/,"")===l){l=u;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,l),null!=n[i].match(/float4/gm)?this.in_vertex_values[l].type="float4":null!=n[i].match(/float/gm)?this.in_vertex_values[l].type="float":null!=n[i].match(/mat4/gm)&&(this.in_vertex_values[l].type="mat4")}if(this._vertexHead=void 0!==t&&null!==t?t:"",this._vertexHead=this._vertexHead.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._vertexHead=s.WebCLGLUtils.parseSource(this._vertexHead,this.in_vertex_values),this._vertexSource=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._vertexSource=this._vertexSource.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._vertexSource=s.WebCLGLUtils.parseSource(this._vertexSource,this.in_vertex_values),this._vertexP_ready=!0,!0===this._fragmentP_ready){var c=this.compileVertexFragmentSource();!0===this.viewSource&&(console.log("%c VFP: "+this.name,"font-size: 20px; color: green"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+c,"color: darkgray"))}}},{key:"setFragmentSource",value:function(e,t){for(var n=e.split(")")[0].split("(")[1].split(","),i=0,o=n.length;i<o;i++)if(null!==n[i].match(/\*/gm)){var r=n[i].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,r),null!=n[i].match(/float4/gm)?this.in_fragment_values[r].type="float4_fromSampler":null!=n[i].match(/float/gm)&&(this.in_fragment_values[r].type="float_fromSampler")}else if(""!==n[i]){var a=n[i].split(" ")[1].trim();for(var l in this.in_fragment_values)if(l.replace(/\[\d.*/,"")===a){a=l;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,a),null!=n[i].match(/float4/gm)?this.in_fragment_values[a].type="float4":null!=n[i].match(/float/gm)?this.in_fragment_values[a].type="float":null!=n[i].match(/mat4/gm)&&(this.in_fragment_values[a].type="mat4")}if(this._fragmentHead=void 0!==t&&null!==t?t:"",this._fragmentHead=this._fragmentHead.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._fragmentHead=s.WebCLGLUtils.parseSource(this._fragmentHead,this.in_fragment_values),this._fragmentSource=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._fragmentSource=this._fragmentSource.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._fragmentSource=s.WebCLGLUtils.parseSource(this._fragmentSource,this.in_fragment_values),this._fragmentP_ready=!0,!0===this._vertexP_ready){var u=this.compileVertexFragmentSource();!0===this.viewSource&&(console.log("%c VFP: ","font-size: 20px; color: green"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+u,"color: darkgray"))}}}]),e}();t.WebCLGLVertexFragmentProgram=a,n.exports.WebCLGLVertexFragmentProgram=a}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLUtils.class":5}],7:[function(e,n,i){(function(t){"use strict";e("./WebCLGL.class"),e("./WebCLGLBuffer.class"),e("./WebCLGLFor.class"),e("./WebCLGLKernel.class"),e("./WebCLGLUtils.class"),e("./WebCLGLVertexFragmentProgram.class"),n.exports.WebCLGL=t.WebCLGL=WebCLGL,n.exports.WebCLGLBuffer=t.WebCLGLBuffer=WebCLGLBuffer,n.exports.WebCLGLFor=t.WebCLGLFor=WebCLGLFor,n.exports.WebCLGLKernel=t.WebCLGLKernel=WebCLGLKernel,n.exports.WebCLGLUtils=t.WebCLGLUtils=WebCLGLUtils,n.exports.WebCLGLVertexFragmentProgram=t.WebCLGLVertexFragmentProgram=WebCLGLVertexFragmentProgram}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGL.class":1,"./WebCLGLBuffer.class":2,"./WebCLGLFor.class":3,"./WebCLGLKernel.class":4,"./WebCLGLUtils.class":5,"./WebCLGLVertexFragmentProgram.class":6}]},{},[7])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayGenerator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=n.ArrayGenerator=function(){function e(){o(this,e)}return r(e,[{key:"volumeArray",value:function(e){if(this.arrayNodeDestination=[],this.arrayNodeVertexColor=[],this.vo=e,this.vo instanceof StormVoxelizator==!1)return alert("You must select a voxelizator object with albedo fillmode enabled."),!1;if(void 0===this.vo.image3D_VoxelsColor||null===this.vo.image3D_VoxelsColor)return alert("You must select a voxelizator object with albedo fillmode enabled."),!1;this.data=this.vo.clglBuff_VoxelsColor.items[0].inData;for(var t=0,n=0,i=this.data.length/4;n<i;n++){var o=4*n;this.data[o+3]>0&&t++}var r=(this.currentNodeId-1)/t;this.incremNodesCell=0;var s=-1;this.currentVoxelCell=null,this.CCX=0,this.CCY=0,this.CCZ=0,this.CCXMAX=this.vo.resolution-1,this.CCYMAX=this.vo.resolution-1,this.CCZMAX=this.vo.resolution-1;for(var a=void 0,l=void 0,u=function(){for(;;){if(this.CCX===this.CCXMAX&&this.CCZ===this.CCZMAX&&this.CCY===this.CCYMAX)break;if(this.CCX===this.CCXMAX&&this.CCZ===this.CCZMAX?(this.CCX=0,this.CCZ=0,this.CCY++):this.CCX===this.CCXMAX?(this.CCX=0,this.CCZ++):this.CCX++,this.currentVoxelCell=this.CCY*(this.vo.resolution*this.vo.resolution)+this.CCZ*this.vo.resolution+this.CCX,this.data[4*this.currentVoxelCell+3]>0&&(this.incremNodesCell+=r,this.incremNodesCell>=1)){this.incremNodesCell-=1;break}}}.bind(this),c=0;c<this.arrayNodeId.length;c++)s!==this.arrayNodeId[c]?(s=this.arrayNodeId[c],this.incremNodesCell>=1?this.incremNodesCell-=1:u(),a=(a=(a=$V3([0,0,0]).add($V3([-this.vo.size/2,-this.vo.size/2,-this.vo.size/2]))).add($V3([this.vo.cs*this.CCX*1,this.vo.cs*this.CCY*1,this.vo.cs*(this.CCZMAX-this.CCZ)*1]))).add($V3([this.vo.cs*Math.random(),this.vo.cs*Math.random(),this.vo.cs*Math.random()])),l=$V3([this.data[4*this.currentVoxelCell]/255,this.data[4*this.currentVoxelCell+1]/255,this.data[4*this.currentVoxelCell+2]/255]),this.arrayNodeDestination.push(a.e[0],a.e[1],a.e[2],1),this.arrayNodeVertexColor.push(l.e[0],l.e[1],l.e[2],1)):(this.arrayNodeDestination.push(a.e[0],a.e[1],a.e[2],1),this.arrayNodeVertexColor.push(l.e[0],l.e[1],l.e[2],1));comp_renderer_nodes.setArg("dest",function(){return this.arrayNodeDestination}.bind(this),this.splitNodes),comp_renderer_nodes.setArg("nodeVertexCol",function(){return this.arrayNodeVertexColor}.bind(this),this.splitNodes)}}],[{key:"randomArray",value:function(e){for(var t=[],n=0;n<e.count;n++)"float"===e.type?t.push(-e.offset/2+Math.random()*e.offset):t.push(-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset);return t}},{key:"widthHeightArray",value:function(e){for(var t=[],n=e.width*e.height,i=e.count/n,o=0,r=0,s=0,a=void 0!==e.spacing&&null!==e.spacing?e.spacing:.01,l=0;l<e.count;l++)o>=i&&(++r>e.width-1&&(r=0,s++),o-=i),o+=1,t.push(r*a,0,s*a,1);return t}},{key:"float4Array",value:function(e){for(var t=[],n=0;n<e.count;n++)t.push(e.float4[0],e.float4[1],e.float4[2],e.float4[3]);return t}},{key:"sphericalArray",value:function(e){for(var t=[],n=void 0===e?1:e.radius,i=0;i<e.count;i++){var o=360*Math.random(),r=180*Math.random();t.push(Math.cos(o)*Math.abs(Math.sin(r))*n,Math.cos(r)*n*Math.random(),Math.sin(o)*Math.abs(Math.sin(r))*n,1)}return t}},{key:"hemArray",value:function(e){for(var t=[],n=void 0===e?1:e.radius,i=0;i<e.count;i++){var o=(new s.Utils).getVector(e.normalVector,e.degrees);t.push(o.e[0]*n,o.e[1]*n,o.e[2]*n,1)}return t}},{key:"imageArray",value:function(e){for(var t=s.Utils.getUint8ArrayFromHTMLImageElement(e.image),n=[],i=0;i<e.count;i++){var o=4*i;n.push(parseFloat(t[o]/255),parseFloat(t[o+1]/255),parseFloat(t[o+2]/255),parseFloat(t[o+3]/255))}return n}}]),e}();i.ArrayGenerator=a,t.exports.ArrayGenerator=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utils.class":38}],8:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Component=function(){function e(){i(this,e),this.type=null,this.node=null}return o(e,[{key:"initialize",value:function(e,t){}},{key:"tick",value:function(e){}}]),e}();e.Component=r,t.exports.Component=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentControllerTransformTarget=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentControllerTransformTarget=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.CONTROLLER_TRANSFORM_TARGET,e.node=null,e.gl=null,e.comp_transformTarget=null,e.comp_projection=null,e._vel=.1,e.forwardE=0,e.backwardE=0,e.leftE=0,e.rightE=0,e.frontE=0,e.backE=0,e.leftButton=0,e.middleButton=0,e.rightButton=0,e.leftButtonAction="ORBIT",e.middleButtonAction="PAN",e.rightButtonAction="ZOOM",e.lastX=0,e.lastY=0,e.lockRotX=!1,e.lockRotY=!1,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.comp_transformTarget=this.node.getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM_TARGET),this.comp_projection=this.node.getComponent(u.Constants.COMPONENT_TYPES.PROJECTION)}},{key:"setVelocity",value:function(e){this._vel=e}},{key:"lockRotX",value:function(){this.lockRotX=!0}},{key:"unlockRotX",value:function(){this.lockRotX=!1}},{key:"isLockRotX",value:function(){return this.lockRotX}},{key:"lockRotY",value:function(){this.lockRotY=!0}},{key:"unlockRotY",value:function(){this.lockRotY=!1}},{key:"isLockRotY",value:function(){return this.lockRotY}},{key:"forward",value:function(){this.forwardE=1}},{key:"backward",value:function(){this.backwardE=1}},{key:"strafeLeft",value:function(){this.leftE=1}},{key:"strafeRight",value:function(){this.rightE=1}},{key:"strafeFront",value:function(){this.frontE=1}},{key:"strafeBack",value:function(){this.backE=1}},{key:"stopForward",value:function(){this.forwardE=0}},{key:"stopBackward",value:function(){this.backwardE=0}},{key:"stopStrafeLeft",value:function(){this.leftE=0}},{key:"stopStrafeRight",value:function(){this.rightE=0}},{key:"stopStrafeFront",value:function(){this.frontE=0}},{key:"stopStrafeBack",value:function(){this.backE=0}},{key:"mouseDown",value:function(e){this.lastX=e.screenX,this.lastY=e.screenY,0===e.button&&(this.leftButton=1),1===e.button&&(this.middleButton=1),2===e.button&&(this.rightButton=1),this.updateGoal(e)}},{key:"mouseUp",value:function(e){0===e.button&&(this.leftButton=0),1===e.button&&(this.middleButton=0),2===e.button&&(this.rightButton=0)}},{key:"mouseMove",value:function(e){1!==this.leftButton&&1!==this.middleButton||this.updateGoal(e)}},{key:"isLeftBtnActive",value:function(){return 1===this.leftButton}},{key:"isMiddleBtnActive",value:function(){return 1===this.middleButton}},{key:"isRightBtnActive",value:function(){return 1===this.rightButton}},{key:"setLeftButtonAction",value:function(e){this.leftButtonAction=e}},{key:"setMiddleButtonAction",value:function(e){this.middleButtonAction=e}},{key:"setRightButtonAction",value:function(e){this.rightButtonAction=e}},{key:"tick",value:function(e){var t=$V3([0,0,0]);1===this.forwardE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getForward().x(-this._vel))),1===this.backwardE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getForward().x(this._vel))),1===this.leftE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getLeft().x(-this._vel))),1===this.rightE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getLeft().x(this._vel))),1===this.backE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getUp().x(-this._vel))),1===this.frontE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getUp().x(this._vel))),this.comp_transformTarget.setPositionTarget(this.comp_transformTarget.getPositionTarget().add(t)),this.comp_transformTarget.setPositionGoal(this.comp_transformTarget.getPositionGoal().add(t))}},{key:"updateGoal",value:function(e){1===this.middleButton?"PAN"===this.middleButtonAction?this.makePan(e):"ORBIT"===this.middleButtonAction&&this.makeOrbit(e):"PAN"===this.leftButtonAction?this.comp_projection.getProjection()===u.Constants.PROJECTION_TYPES.PERSPECTIVE?this.makeOrbit(e):this.makePan(e):"ORBIT"===this.leftButtonAction&&this.makeOrbit(e),this.lastX=e.screenX,this.lastY=e.screenY}},{key:"makePan",value:function(e){e.preventDefault();var t=this.comp_transformTarget.getMatrix().getLeft().x((this.lastX-e.screenX)*(.005*this.comp_projection.getFov())),n=this.comp_transformTarget.getMatrix().getUp().x((this.lastY-e.screenY)*(-.005*this.comp_projection.getFov())),i=t.add(n.x(-1));this.comp_transformTarget.setPositionGoal(this.comp_transformTarget.getPositionGoal().add(i)),this.comp_transformTarget.setPositionTarget(this.comp_transformTarget.getPositionTarget().add(i))}},{key:"makeOrbit",value:function(e){!1===this.lockRotY&&(this.lastX>e.screenX?this.comp_transformTarget.yaw(.5*-(this.lastX-e.screenX)):this.comp_transformTarget.yaw(.5*(e.screenX-this.lastX))),!1===this.lockRotX&&(this.lastY>e.screenY?this.comp_transformTarget.pitch(.5*(this.lastY-e.screenY)):this.comp_transformTarget.pitch(.5*-(e.screenY-this.lastY)))}}]),t}();i.ComponentControllerTransformTarget=c,t.exports.ComponentControllerTransformTarget=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],10:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentKeyboardEvents=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentKeyboardEvents=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,e.node=null,e.gl=null,e._onkeydown=null,e._onkeyup=null,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"onkeydown",value:function(e){this._onkeydown=e}},{key:"onkeyup",value:function(e){this._onkeyup=e}}]),t}();i.ComponentKeyboardEvents=c,t.exports.ComponentKeyboardEvents=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],11:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentMouseEvents=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentMouseEvents=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.MOUSE_EVENTS,e.node=null,e.gl=null,e._onmousedown=null,e._onmouseup=null,e._onmousemove=null,e._onmousewheel=null,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"onmousedown",value:function(e){this._onmousedown=e}},{key:"onmouseup",value:function(e){this._onmouseup=e}},{key:"onmousemove",value:function(e){this._onmousemove=e}},{key:"onmousewheel",value:function(e){this._onmousewheel=e}}]),t}();i.ComponentMouseEvents=c,t.exports.ComponentMouseEvents=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],12:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentProjection=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./StormMath.class"),c=e("./Constants"),d=n.ComponentProjection=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=c.Constants.COMPONENT_TYPES.PROJECTION,e.node=null,e.gl=null,e.mProjectionMatrix=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.proy=c.Constants.PROJECTION_TYPES.PERSPECTIVE,e._width=512,e._height=512,e._fov=45,e._fovOrtho=20,e._near=.1,e._far=1e4,e._nearOrtho=-1e5,e._farOrtho=1e5,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.updateProjectionMatrix()}},{key:"getMatrix",value:function(){return this.mProjectionMatrix}},{key:"getProjection",value:function(){return this.proy}},{key:"setProjection",value:function(e){this.proy=e,this.updateProjectionMatrix()}},{key:"setResolution",value:function(e,t){this._width=e,this._height=t,this.updateProjectionMatrix()}},{key:"getResolution",value:function(){return{width:this._width,height:this._height}}},{key:"setFov",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov=e:this._fovOrtho=e,this.updateProjectionMatrix()}},{key:"getFov",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov:this._fovOrtho}},{key:"setNear",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._near=e:this._nearOrtho=e,this.updateProjectionMatrix()}},{key:"getNear",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._near:this._nearOrtho}},{key:"setFar",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._far=e:this._farOrtho=e,this.updateProjectionMatrix()}},{key:"getFar",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._far:this._farOrtho}},{key:"updateProjectionMatrix",value:function(){var e=this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov:this._fovOrtho,t=this._width/this._height;this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this.mProjectionMatrix=u.StormM16.setPerspectiveProjection(e,t,this._near,this._far):this.mProjectionMatrix=u.StormM16.setOrthographicProjection(-t*e,t*e,-t*e,t*e,this._nearOrtho,this._farOrtho)}}]),t}();i.ComponentProjection=d,t.exports.ComponentProjection=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,"./StormMath.class":25}],13:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentTransform=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentTransform=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.TRANSFORM,e.node=null,e.gl=null,e.mModelMatrix_Position=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.mModelMatrix_Rotation=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"getMatrixPosition",value:function(){return this.mModelMatrix_Position}},{key:"getPosition",value:function(){return $V3([this.mModelMatrix_Position.e[3],this.mModelMatrix_Position.e[7],this.mModelMatrix_Position.e[11]])}},{key:"getPosX",value:function(){return this.mModelMatrix_Position.e[3]}},{key:"getPosY",value:function(){return this.mModelMatrix_Position.e[7]}},{key:"getPosZ",value:function(){return this.mModelMatrix_Position.e[11]}},{key:"setPosition",value:function(e){this.mModelMatrix_Position.e[3]=e.e[0],this.mModelMatrix_Position.e[7]=e.e[1],this.mModelMatrix_Position.e[11]=e.e[2]}},{key:"setPosX",value:function(e){this.mModelMatrix_Position.e[3]=e}},{key:"setPosY",value:function(e){this.mModelMatrix_Position.e[7]=e}},{key:"setPosZ",value:function(e){this.mModelMatrix_Position.e[11]=e}},{key:"getMatrixRotation",value:function(){return this.mModelMatrix_Rotation}}]),t}();i.ComponentTransform=c,t.exports.ComponentTransform=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],14:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentTransformTarget=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Utils.class"),c=e("./StormMath.class"),d=e("./Constants"),h=n.ComponentTransformTarget=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=d.Constants.COMPONENT_TYPES.TRANSFORM_TARGET,e.node=null,e.gl=null,e.mModelMatrix=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.targetDistance=5,e.positionGoal=$V3([0,0,e.targetDistance]),e.positionTarget=$V3([0,0,0]),e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.performMatrix()}},{key:"getMatrix",value:function(){return this.mModelMatrix}},{key:"setTargetDistance",value:function(e){this.targetDistance=e}},{key:"getTargetDistance",value:function(){return this.targetDistance}},{key:"setPositionGoal",value:function(e){this.positionGoal=e,this.performMatrix()}},{key:"getPositionGoal",value:function(){return this.positionGoal}},{key:"setPositionTarget",value:function(e){this.positionTarget=e,this.performMatrix()}},{key:"getPositionTarget",value:function(){return this.positionTarget}},{key:"reset",value:function(){this.positionGoal=$V3([0,0,this.targetDistance]),this.positionTarget=$V3([0,0,0]),this.performMatrix()}},{key:"yaw",value:function(e){var t=this.getPositionGoal().subtract(this.getPositionTarget()),n=u.Utils.cartesianToSpherical(t.normalize()),i=u.Utils.sphericalToCartesian(n.radius,n.lat,n.lng+e);this.setPositionGoal(this.getPositionTarget().add(i.x(this.getTargetDistance())))}},{key:"pitch",value:function(e){var t=this.getPositionGoal().subtract(this.getPositionTarget()),n=u.Utils.cartesianToSpherical(t.normalize()),i=u.Utils.sphericalToCartesian(n.radius,n.lat+e,n.lng);this.setPositionGoal(this.getPositionTarget().add(i.x(this.getTargetDistance())))}},{key:"performMatrix",value:function(){this.mModelMatrix=c.StormM16.makeLookAt(this.getPositionGoal().e[0],this.getPositionGoal().e[1],this.getPositionGoal().e[2],this.getPositionTarget().e[0],this.getPositionTarget().e[1],this.getPositionTarget().e[2],0,1,0)}}]),t}();i.ComponentTransformTarget=h,t.exports.ComponentTransformTarget=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,"./StormMath.class":25,"./Utils.class":38}],15:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Component_GPU=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e("webclgl");var l=e("./Component.class"),u=e("./Constants"),c=n.Component_GPU=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.GPU,e.node=null,e.gl=null,e.gpufG=null,e.args={},e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"tick",value:function(e){this.tickArguments(),null!=this.gpufG&&this.gpufG.processKernels(),null!=this.gpufG&&this.gpufG.processGraphic(void 0)}},{key:"setGPUFor",value:function(){var e=this,t=arguments;for(var n in arguments[1]){var i=n.split(" ");if(null!=i&&i.length>1){var o=i[1];this.args[o]={fnvalue:arguments[1][n],updatable:null,splits:null,overrideDimensions:null}}arguments[1][n]=arguments[1][n]()}this.gpufG=new function(){return gpufor.apply(e,t)}}},{key:"getWebCLGL",value:function(){return this.gpufG.getWebCLGL()}},{key:"addArgument",value:function(e,t){this.args[e.split(" ")[1]]={fnvalue:t,updatable:null,splits:null,overrideDimensions:null},this.gpufG.addArg(e)}},{key:"setArg",value:function(e,t,n,i){var o=this.gpufG.setArg(e,t(),n,i);return this.args[e]={fnvalue:t,updatable:null,splits:n,overrideDimensions:i},o}},{key:"getComponentBufferArg",value:function(e,t){this.gpufG.getGPUForArg(e,t.gpufG),this.args[e]={fnvalue:null,updatable:null,splits:null,overrideDimensions:null}}},{key:"getArgs",value:function(){return this.args}},{key:"getAllArgs",value:function(){return this.gpufG.getAllArgs()}},{key:"getBuffers",value:function(){return this.gpufG._argsValues}},{key:"setArgUpdatable",value:function(e,t){this.args[e].updatable=t}},{key:"tickArguments",value:function(){for(var e in this.args)if(!0===this.args[e].updatable){var t=this.args[e];this.gpufG.setArg(e,t.fnvalue(),t.splits,t.overrideDimensions)}}}]),t}();i.Component_GPU=c,t.exports.Component_GPU=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,webclgl:6}],16:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=n.Constants={EVENT_TYPES:{KEY_DOWN:0,KEY_UP:1,MOUSE_DOWN:2,MOUSE_UP:3,MOUSE_MOVE:4,MOUSE_WHEEL:5},COMPONENT_TYPES:{KEYBOARD_EVENTS:0,MOUSE_EVENTS:1,TRANSFORM:2,TRANSFORM_TARGET:3,CONTROLLER_TRANSFORM_TARGET:4,PROJECTION:5,GPU:6},PROJECTION_TYPES:{PERSPECTIVE:0,ORTHO:1},VIEW_TYPES:{LEFT:0,RIGHT:1,FRONT:2,BACK:3,TOP:4,BOTTOM:5},BLENDING_MODES:{ZERO:"ZERO",ONE:"ONE",SRC_COLOR:"SRC_COLOR",ONE_MINUS_SRC_COLOR:"ONE_MINUS_SRC_COLOR",DST_COLOR:"DST_COLOR",ONE_MINUS_DST_COLOR:"ONE_MINUS_DST_COLOR",SRC_ALPHA:"SRC_ALPHA",ONE_MINUS_SRC_ALPHA:"ONE_MINUS_SRC_ALPHA",DST_ALPHA:"DST_ALPHA",ONE_MINUS_DST_ALPHA:"ONE_MINUS_DST_ALPHA",SRC_ALPHA_SATURATE:"SRC_ALPHA_SATURATE",CONSTANT_COLOR:"CONSTANT_COLOR",ONE_MINUS_CONSTANT_COLOR:"ONE_MINUS_CONSTANT_COLOR",CONSTANT_ALPHA:"CONSTANT_ALPHA",ONE_MINUS_CONSTANT_ALPHA:"ONE_MINUS_CONSTANT_ALPHA"},BLENDING_EQUATION_TYPES:{FUNC_ADD:"FUNC_ADD",FUNC_SUBTRACT:"FUNC_SUBTRACT",FUNC_REVERSE_SUBTRACT:"FUNC_REVERSE_SUBTRACT"},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}};e.Constants=i,t.exports.Constants=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Mesh=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=n.Mesh=function(){function e(){o(this,e),this._obj={},this._textures={},this.objIndex=null,this.indexMax=0}return r(e,[{key:"loadPoint",value:function(){return this._obj.vertexArray=[0,0,0,0],this._obj.normalArray=[0,1,0,0],this._obj.textureArray=[0,0,0,0],this._obj.textureUnitArray=[0],this._obj.indexArray=[0],this._obj}},{key:"loadTriangle",value:function(e){var t=void 0!==e&&void 0!==e.scale?e.scale:1,n=void 0!==e&&void 0!==e.side?e.side:1;return this._obj.vertexArray=[0,0,0,1,n/2*t,0,-1*t,1,-n/2*t,0,-1*t,1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1],this._obj.textureUnitArray=[0,0,0],this._obj.indexArray=[0,1,2],this._obj}},{key:"loadQuad",value:function(e,t){var n=void 0===e?.5:e,i=void 0===t?.5:t;return this._obj={},this._obj.vertexArray=[-n,-i,0,1,n,-i,0,1,n,i,0,1,-n,i,0,1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1],this._obj.textureUnitArray=[0,0,0,0],this._obj.indexArray=[0,1,2,0,2,3],this._obj}},{key:"loadCircle",value:function(e){this._obj={vertexArray:[],normalArray:[],textureArray:[],textureUnitArray:[],indexArray:[]},this.objIndex=[],this.indexMax=0;for(var t=void 0!==e&&void 0!==e.segments?e.segments:6,n=void 0!==e&&void 0!==e.radius?e.radius:.5,i=360/t,o=360/i,r=function(e){return Math.cos((new s.Utils).degToRad(e))}.bind(this),a=function(e){return Math.sin((new s.Utils).degToRad(e))}.bind(this),l=1,u=o;l<=u;l++){var c=i*l,d=$V3([r(c)*n,0,a(c)*n]),h=$V3([r(c-i)*n,0,a(c-i)*n]),f=$V3([0,0,0]),p=h.subtract(d).cross(f.subtract(d)).normalize(),g=$V3([c/360,0,0]),v=$V3([(c-i)/360,0,0]),_=$V3([0,0,0]),m=this.testIfInIndices(this._obj,d,p,g),y=this.testIfInIndices(this._obj,h,p,v),b=this.testIfInIndices(this._obj,f,p,_);this._obj.indexArray.push(m,y,b)}return this._obj}},{key:"testIfInIndices",value:function(e,t,n,i){for(var o=void 0,r=0,s=this.objIndex.length;r<s;r++)this.objIndex[r].v.e[0]===t.e[0]&&this.objIndex[r].v.e[1]===t.e[1]&&this.objIndex[r].v.e[2]===t.e[2]&&(o=this.objIndex[r].i);return void 0===o&&(o=this.indexMax,this.objIndex.push({i:o,v:$V3([t.e[0],t.e[1],t.e[2]])}),this.indexMax++,e.vertexArray.push(t.e[0],t.e[1],t.e[2],1),e.normalArray.push(n.e[0],n.e[1],n.e[2],1),e.textureArray.push(t.e[0]+.5,t.e[2]+.5,t.e[2]+.5,1),e.textureUnitArray.push(0)),o}},{key:"loadBox",value:function(){this._obj={};var e=new Float32Array([.5,.5,.5]);return this._obj.vertexArray=[-1*e[0],-1*e[1],1*e[2],1,1*e[0],-1*e[1],1*e[2],1,1*e[0],1*e[1],1*e[2],1,-1*e[0],1*e[1],1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,-1*e[0],1*e[1],-1*e[2],1,1*e[0],1*e[1],-1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,-1*e[0],1*e[1],-1*e[2],1,-1*e[0],1*e[1],1*e[2],1,1*e[0],1*e[1],1*e[2],1,1*e[0],1*e[1],-1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,1*e[0],-1*e[1],1*e[2],1,-1*e[0],-1*e[1],1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,1*e[0],1*e[1],-1*e[2],1,1*e[0],1*e[1],1*e[2],1,1*e[0],-1*e[1],1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,-1*e[0],-1*e[1],1*e[2],1,-1*e[0],1*e[1],1*e[2],1,-1*e[0],1*e[1],-1*e[2],1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1,1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,1,0,1,1,1,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,1,0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1],this._obj.textureUnitArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._obj.indexArray=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],this._obj}},{key:"loadObj",value:function(e,t){for(var n="",i=e.split("/"),o=0,r=i.length-1;o<r;o++)n=n+i[o]+"/";var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(e){var t=new FileReader;t.onload=function(e,t){var i=t.target.result;this.loadObjFromSourceText({sourceText:i,objDirectory:n}),void 0!==e&&"function"==typeof e&&e(this._obj,this._textures)}.bind(this,e),t.readAsText(s.response)}.bind(this,t),s.send(null)}},{key:"loadObjFromSourceText",value:function(e){this._obj={},this._textures={};var t=void 0,n=void 0;t=void 0!==e.sourceText?e.sourceText:void 0,n=void 0!==e.objDirectory?e.objDirectory:void 0;var i=t.split("\r\n");if(1===i.length&&(i=t.split("\n")),null!=i[0].match(/OBJ/gim)){var o=[],r=[],s=[],a=[],l=[],u=[],c=[],d=[],h=[],f=[],p=0,g=[],v=0,_=0,m=!1,y=[],b=[],E=[],C=[],T=[],x=[],P=[],w=[],L=[],S=0,A=0,k=0,M=[],R=0,N={},U=[-1,0];N._unnamed=U;for(var O="",I="",D=0,G=i.length;D<G;D++){var F=i[D].replace(/\t+/gi," ").replace(/\s+$/gi,"").replace(/\s+/gi," ");if("#"!==F[0]){var B=F.split(" ");if("mtllib"===B[0]&&(O=B[1]),"g"===B[0]&&(U=[g.length,0],N[B[1]]=U),"v"===B[0]&&(y[S]=parseFloat(B[1]),b[S]=parseFloat(B[2]),E[S]=parseFloat(B[3]),S++),"vn"===B[0]&&(C[A]=parseFloat(B[1]),T[A]=parseFloat(B[2]),x[A]=parseFloat(B[3]),A++),"vt"===B[0]&&(P[k]=parseFloat(B[1]),w[k]=parseFloat(B[2]),L[k]=parseFloat(B[3]),k++),"usemtl"===B[0]&&(I=B[1],this._textures[p]={fileUrl:n+O,materialName:I},p++),"f"===B[0]){4!==B.length&&console.log("*** Error: face '"+F+"' not handled");for(var W=1;W<4;++W){m=!0;var V=B[W].split("/");if(void 0===M[B[W]]){var j=void 0,Y=void 0,H=void 0;if(1===V.length)Y=j=parseInt(V[0])-1,H=j;else{if(3!==V.length)return null;j=parseInt(V[0])-1,H=parseInt(V[1])-1,Y=parseInt(V[2])-1}f[v]=p-1,o[v]=0,r[v]=0,s[v]=0,j<E.length&&(o[v]=y[j],r[v]=b[j],s[v]=E[j]),c[v]=0,d[v]=0,h[v]=0,H<L.length&&(c[v]=P[H],d[v]=w[H],h[v]=L[H]),a[v]=0,l[v]=0,u[v]=1,Y<x.length&&(a[v]=C[Y],l[v]=T[Y],u[v]=x[Y]),v++,M[B[W]]=R,R++}g[_]=M[B[W]],_++,U[1]++}}}}if(!0===m){this._obj.vertexArray=new Float32Array(4*o.length);for(var X=0,z=o.length;X<z;X++){var K=4*X;this._obj.vertexArray[K]=o[X],this._obj.vertexArray[K+1]=r[X],this._obj.vertexArray[K+2]=s[X],this._obj.vertexArray[K+3]=1}this._obj.normalArray=new Float32Array(4*a.length);for(var q=0,$=a.length;q<$;q++){var Z=4*q;this._obj.normalArray[Z]=a[q],this._obj.normalArray[Z+1]=l[q],this._obj.normalArray[Z+2]=u[q],this._obj.normalArray[Z+3]=1}this._obj.textureArray=new Float32Array(4*c.length);for(var Q=0,J=c.length;Q<J;Q++){var ee=4*Q;this._obj.textureArray[ee]=c[Q],this._obj.textureArray[ee+1]=d[Q],this._obj.textureArray[ee+2]=h[Q],this._obj.textureArray[ee+3]=1}this._obj.textureUnitArray=f,this._obj.indexArray=g}}else alert("Not OBJ file")}}]),e}();i.Mesh=a,t.exports.Mesh=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utils.class":38}],18:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Node=function(){function e(){i(this,e),this._components={},this._name=null,this._gl=null,this._enabled=!0,this.onTick=null}return o(e,[{key:"initialize",value:function(e,t){this._name=e,this._gl=t}},{key:"addComponent",value:function(e){this._components[e.type]=e,this._components[e.type].initialize(this,this._gl)}},{key:"getComponent",value:function(e){return this._components[e]}},{key:"getComponents",value:function(){return this._components}},{key:"setEnabled",value:function(e){this._enabled=e}},{key:"isEnabled",value:function(){return this._enabled}},{key:"setName",value:function(e){this._name=e}},{key:"getName",value:function(){return this._name}}]),e}();e.Node=r,t.exports.Node=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Grid=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../Utils.class"),a=e("../../ComponentTransform.class"),l=e("../../Component_GPU.class"),u=e("../../Mesh.class"),c=e("../../Constants"),d=n.Grid=function(){function e(t){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this._gl=this._project.getActiveStage().getWebGLContext(),this._utils=new s.Utils,this.node=new Node,this.node.setName("grid"),this._project.getActiveStage().addNode(this.node),this.mesh=(new u.Mesh).loadBox(),this.comp_transform=new a.ComponentTransform,this.node.addComponent(this.comp_transform),this.comp_renderer=new l.Component_GPU,this.node.addComponent(this.comp_renderer),this.gridColor=$V3([.3,.3,.3])}return r(e,[{key:"generate",value:function(e,t){this.gridEnabled=!0,this.size=void 0!==e&&null!==e?e:this.size,this.separation=void 0!==t&&null!==t?t:this.separation,this.countLines=this.size/this.separation+1,this.countLines*=2;var n=-this.size/2,i=this.size/2,o=-this.size/2,r=this.size/2,s=n,a=o,l=[],u=[],d=[];this.id=0;for(var h=0,f=this.countLines;h<f;h++)a<=r?(l.push(n,0,a,1,i,0,a,1),a+=this.separation):(l.push(s,0,o,1,s,0,r,1),s+=this.separation),u.push(this.gridColor.e[0],this.gridColor.e[1],this.gridColor.e[2],1,this.gridColor.e[0],this.gridColor.e[1],this.gridColor.e[2],1),d.push(this.id,this.id+1),this.id+=2;l.push(0,0,0,1,10,0,0,1),u.push(1,0,0,1,1,0,0,1),d.push(this.id,this.id+1),this.id+=2,l.push(0,0,0,1,0,10,0,1),u.push(0,1,0,1,0,1,0,1),d.push(this.id,this.id+1),this.id+=2,l.push(0,0,0,1,0,0,10,1),u.push(0,0,1,1,0,0,1,1),d.push(this.id,this.id+1),this.comp_renderer.setGPUFor(this.comp_renderer.gl,{"float4*attr vertexPos":function(){return l}.bind(this),"float4*attr vertexColor":function(){return u}.bind(this),indices:function(){return d}.bind(this),"mat4 PMatrix":function(){return this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.PROJECTION).getMatrix().transpose().e}.bind(this),"mat4 cameraWMatrix":function(){return this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix().transpose().e}.bind(this),"mat4 nodeWMatrix":function(){return this.node.getComponent(c.Constants.COMPONENT_TYPES.TRANSFORM).getMatrixPosition().transpose().e}.bind(this)},{type:"GRAPHIC",config:[["RGB"],"varying vec4 vVC;\n","vec4 vp = vertexPos[];\nvec4 vc = vertexColor[];\nvVC = vc;gl_Position = PMatrix * cameraWMatrix * nodeWMatrix * vp;\n","varying vec4 vVC;\n","return [vVC];\n"],drawMode:1,depthTest:!0,blend:!0,blendEquation:c.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:c.Constants.BLENDING_MODES.SRC_ALPHA,blendDstMode:c.Constants.BLENDING_MODES.ONE_MINUS_SRC_ALPHA}),this.comp_renderer.setArgUpdatable("PMatrix",!0),this.comp_renderer.setArgUpdatable("cameraWMatrix",!0),this.comp_renderer.setArgUpdatable("nodeWMatrix",!0),this.comp_renderer.getComponentBufferArg("RGB",this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.GPU))}}]),e}();i.Grid=d,t.exports.Grid=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentTransform.class":13,"../../Component_GPU.class":15,"../../Constants":16,"../../Mesh.class":17,"../../Utils.class":38}],20:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleCamera=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../ComponentTransformTarget.class"),a=e("../../ComponentProjection.class"),l=e("../../ComponentControllerTransformTarget.class"),u=e("../../Component_GPU.class"),c=e("../../ComponentKeyboardEvents.class"),d=e("../../ComponentMouseEvents.class"),h=e("../../Node.class"),f=e("../../Constants"),p=function(){function e(t,n){var i=this;o(this,e);var r=t,p=r.getLoadedProject();this._onkeydown=void 0!==n&&void 0!==n.onkeydown&&null!==n.onkeydown?n.onkeydown:null,this._onkeyup=void 0!==n&&void 0!==n.onkeyup&&null!==n.onkeyup?n.onkeyup:null,this._onmousedown=void 0!==n&&void 0!==n.onmousedown&&null!==n.onmousedown?n.onmousedown:null,this._onmouseup=void 0!==n&&void 0!==n.onmouseup&&null!==n.onmouseup?n.onmouseup:null,this._onmousemove=void 0!==n&&void 0!==n.onmousemove&&null!==n.onmousemove?n.onmousemove:null,this._onmousewheel=void 0!==n&&void 0!==n.onmousewheel&&null!==n.onmousewheel?n.onmousewheel:null,this._useAltKey=!0,this.altKeyPressed=!1,this._preventMove=!1,this.camera=new h.Node,this.camera.setName("simple camera"),p.getActiveStage().addNode(this.camera),p.getActiveStage().setActiveCamera(this.camera),this.comp_transformTarget=new s.ComponentTransformTarget,this.camera.addComponent(this.comp_transformTarget),this.comp_transformTarget.setTargetDistance(.5),this.comp_projection=new a.ComponentProjection,this.camera.addComponent(this.comp_projection),this.comp_controllerTransformTarget=new l.ComponentControllerTransformTarget,this.camera.addComponent(this.comp_controllerTransformTarget),this.comp_screenEffects=new u.Component_GPU,this.camera.addComponent(this.comp_screenEffects),this.comp_screenEffects.setGPUFor(this.comp_screenEffects.gl,{"float4* RGB":function(){return new Float32Array(r.getCanvas().width*r.getCanvas().width*4)}},{type:"KERNEL",name:"CAMERA_RGB_KERNEL",viewSource:!1,config:["n",void 0,"","vec4 color = RGB[n];\nreturn color;\n"],drawMode:4,depthTest:!1,blend:!1,blendEquation:f.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:f.Constants.BLENDING_MODES.ONE,blendDstMode:f.Constants.BLENDING_MODES.ZERO}),this.comp_screenEffects.gpufG.onPostProcessKernel(0,function(){}),this.comp_keyboardEvents=new c.ComponentKeyboardEvents,this.camera.addComponent(this.comp_keyboardEvents),this.comp_keyboardEvents.onkeydown(function(e){var t=String.fromCharCode(e.keyCode);"W"===t&&i.comp_controllerTransformTarget.forward(),"S"===t&&i.comp_controllerTransformTarget.backward(),"A"!==t&&"%"!==t||i.comp_controllerTransformTarget.strafeLeft(),"D"!==t&&"'"!==t||i.comp_controllerTransformTarget.strafeRight(),"E"!==t&&"&"!==t||i.comp_controllerTransformTarget.strafeFront(),"C"!==t&&"("!==t||i.comp_controllerTransformTarget.strafeBack(),"L"===t&&i.setView(f.Constants.VIEW_TYPES.LEFT),"R"===t&&i.setView(f.Constants.VIEW_TYPES.RIGHT),"F"===t&&i.setView(f.Constants.VIEW_TYPES.FRONT),"B"===t&&i.setView(f.Constants.VIEW_TYPES.BACK),"T"===t&&i.setView(f.Constants.VIEW_TYPES.TOP),"P"===t&&i.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.PERSPECTIVE),"O"===t&&i.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.ORTHO),!0===e.altKey&&(i.altKeyPressed=!0),null!=i._onkeydown&&i._onkeydown()}),this.comp_keyboardEvents.onkeyup(function(e){var t=String.fromCharCode(e.keyCode);"W"===t&&i.comp_controllerTransformTarget.stopForward(),"S"===t&&i.comp_controllerTransformTarget.stopBackward(),"A"!==t&&"%"!==t||i.comp_controllerTransformTarget.stopStrafeLeft(),"D"!==t&&"'"!==t||i.comp_controllerTransformTarget.stopStrafeRight(),"E"!==t&&"&"!==t||i.comp_controllerTransformTarget.stopStrafeFront(),"C"!==t&&"("!==t||i.comp_controllerTransformTarget.stopStrafeBack(),!1===e.altKey&&(i.altKeyPressed=!1),null!=i._onkeyup&&i._onkeyup()});var g=new d.ComponentMouseEvents;this.camera.addComponent(g),g.onmousedown(function(e){i.comp_controllerTransformTarget.mouseDown(e),!0===e.altKey&&(i.altKeyPressed=!0),null!=i._onmousedown&&i._onmousedown()}),g.onmouseup(function(e){i.comp_controllerTransformTarget.mouseUp(e),!1===e.altKey&&(i.altKeyPressed=!1),null!=i._onmouseup&&i._onmouseup()}),g.onmousemove(function(e,t){null!=i._onmousemove&&i._onmousemove(),!1===i._preventMove&&((i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.PERSPECTIVE||!0===i._useAltKey&&!0===i.altKeyPressed||!1===i._useAltKey)&&i.comp_controllerTransformTarget.mouseMove(e),!0===i.comp_controllerTransformTarget.isRightBtnActive()&&i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.ORTHO&&!0===i.altKeyPressed&&(t.e[2]>0?i.comp_projection.setFov(i.comp_projection.getFov()*(1+Math.abs(.005*t.e[2]))):i.comp_projection.setFov(i.comp_projection.getFov()/(1+Math.abs(.005*t.e[2])))))}),g.onmousewheel(function(e,t){void 0!==e.wheelDeltaY&&e.wheelDeltaY>=0||void 0!==e.deltaY&&e.deltaY<=0?i.comp_projection.setFov(i.comp_projection.getFov()/1.1):i.comp_projection.setFov(1.1*i.comp_projection.getFov()),i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.ORTHO&&(i.comp_transformTarget.setPositionTarget(i.comp_transformTarget.getPositionTarget().add(t)),i.comp_transformTarget.setPositionGoal(i.comp_transformTarget.getPositionGoal().add(t))),null!=i._onmousewheel&&i._onmousewheel()})}return r(e,[{key:"setView",value:function(e){switch(this.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.ORTHO),this.comp_transformTarget.reset(),e){case f.Constants.VIEW_TYPES.LEFT:this.comp_transformTarget.yaw(90);break;case f.Constants.VIEW_TYPES.RIGHT:this.comp_transformTarget.yaw(-90);break;case f.Constants.VIEW_TYPES.FRONT:case f.Constants.VIEW_TYPES.BACK:break;case f.Constants.VIEW_TYPES.TOP:this.comp_transformTarget.pitch(-89.9);break;case f.Constants.VIEW_TYPES.BOTTOM:this.comp_transformTarget.pitch(90)}}},{key:"setLeftButtonAction",value:function(e){this.comp_controllerTransformTarget.setLeftButtonAction(e)}},{key:"setMiddleButtonAction",value:function(e){this.comp_controllerTransformTarget.setMiddleButtonAction(e)}},{key:"setRightButtonAction",value:function(e){this.comp_controllerTransformTarget.setRightButtonAction(e)}},{key:"isAltKeyEnabled",value:function(){return this._useAltKey}},{key:"isAltKeyPressed",value:function(){return this.altKeyPressed}},{key:"setVelocity",value:function(e){this.comp_controllerTransformTarget.setVelocity(e)}},{key:"setFov",value:function(e){this.comp_projection.setFov(e)}},{key:"getFov",value:function(){return this.comp_projection.getFov()}}],[{key:"preventMove",value:function(e){this._preventMove=e}},{key:"useAltKey",value:function(e){this._useAltKey=e}}]),e}();n.SimpleCamera=p,i.SimpleCamera=p,t.exports.SimpleCamera=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentControllerTransformTarget.class":9,"../../ComponentKeyboardEvents.class":10,"../../ComponentMouseEvents.class":11,"../../ComponentProjection.class":12,"../../ComponentTransformTarget.class":14,"../../Component_GPU.class":15,"../../Constants":16,"../../Node.class":18}],21:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleNode=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../ComponentTransform.class"),a=e("../../Component_GPU.class"),l=e("../../VFP_RGB.class"),u=e("../../Constants"),c=n.SimpleNode=function(){function e(t){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this.node=new Node,this._project.getActiveStage().addNode(this.node),this._mesh=null;var n=new s.ComponentTransform;this.node.addComponent(n),this.comp_renderer=new a.Component_GPU,this.node.addComponent(this.comp_renderer)}return r(e,[{key:"setMesh",value:function(e){var t=this;this._mesh=e,this.comp_renderer.setGPUFor(this.comp_renderer.gl,{"float4*attr vertexPos":function(){return t._mesh.vertexArray},"float4*attr vertexNormal":function(){return t._mesh.normalArray},"float4*attr vertexTexture":function(){return t._mesh.textureArray},"float*attr vertexTextureUnit":function(){return t._mesh.textureUnitArray},indices:function(){return t._mesh.indexArray},"mat4 PMatrix":function(){return t._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.PROJECTION).getMatrix().transpose().e},"mat4 cameraWMatrix":function(){return t._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix().transpose().e},"mat4 nodeWMatrix":function(){return t.node.getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM).getMatrixPosition().transpose().e},"float nodesSize":function(){return 30},"float4* texAlbedo":function(){return t._mesh.vertexArray}},{type:"GRAPHIC",config:new l.VFP_RGB(1).getSrc(),drawMode:4,depthTest:!0,blend:!0,blendEquation:u.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:u.Constants.BLENDING_MODES.SRC_ALPHA,blendDstMode:u.Constants.BLENDING_MODES.ONE_MINUS_SRC_ALPHA}),this.comp_renderer.setArgUpdatable("PMatrix",!0),this.comp_renderer.setArgUpdatable("cameraWMatrix",!0),this.comp_renderer.setArgUpdatable("nodeWMatrix",!0),this.comp_renderer.getComponentBufferArg("RGB",this._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.GPU)),this.comp_renderer.gpufG.onPreProcessGraphic(0,function(){})}},{key:"setImage",value:function(e){var t=this,n=new Image;n.onload=function(){t.comp_renderer.setArg("texAlbedo",function(){return n})},n.src=e}}]),e}();i.SimpleNode=c,t.exports.SimpleNode=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentTransform.class":13,"../../Component_GPU.class":15,"../../Constants":16,"../../VFP_RGB.class":39}],22:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Project=function(){function e(){i(this,e),this.stages=[],this.activeStage=null,this.gl=null}return o(e,[{key:"setActiveStage",value:function(e){this.activeStage=e,this.activeStage.setWebGLContext(this.gl)}},{key:"getActiveStage",value:function(){return this.activeStage}},{key:"addStage",value:function(e){this.stages.push(e)}},{key:"setWebGLContext",value:function(e){this.gl=e}}]),e}();e.Project=r,t.exports.Project=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SCE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./SystemEvents.class"),a=e("./Utils.class"),l=e("./UI/UI.class"),u=e("./Constants"),c=n.SCE=function(){function e(){o(this,e),this.target=null,this.project=null,this.dimensions=null,this.canvas=null,this.gl=null,this._UI=null,this._enableUI=null,this._events=null}return r(e,[{key:"initialize",value:function(e){if(this.target=void 0!==e.target?e.target:void 0,this.dimensions=void 0!==e.dimensions?e.dimensions:{width:512,height:512},this._enableUI=void 0!==e.enableUI&&e.enableUI,null!=this.target){if(this.canvas=document.createElement("canvas"),this.target.appendChild(this.canvas),this.setDimensions(this.dimensions.width,this.dimensions.height),void 0!==e.gl&&null!==e.gl)this.gl=e.gl;else if(!(this.gl=a.Utils.getWebGLContextFromCanvas(this.canvas)))return alert("No WebGLRenderingContext"),!1}else alert("Target DIV required")}},{key:"loadProject",value:function(e){this.project=e,this.project.setWebGLContext(this.gl),!0===this._enableUI&&(this._UI=new l.UI(this.project).render(this.target,this.canvas)),this._events=new s.SystemEvents(this,this.canvas),this._events.initialize()}},{key:"getLoadedProject",value:function(){return this.project}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getEvents",value:function(){return this._events}},{key:"setDimensions",value:function(e,t){if(this.dimensions={width:e,height:t},this.canvas.setAttribute("width",this.dimensions.width),this.canvas.setAttribute("height",this.dimensions.height),null!=this.project&&null!=this.project.getActiveStage()){var n=this.project.getActiveStage().getActiveCamera();if(null!=n){var i=n.getComponent(u.Constants.COMPONENT_TYPES.PROJECTION),o=n.getComponent(u.Constants.COMPONENT_TYPES.GPU);i.setResolution(this.dimensions.width,this.dimensions.width),o.setArg("RGB",function(){return new Float32Array(this.dimensions.width*this.dimensions.width*4)}.bind(this))}}}},{key:"getDimensions",value:function(){return this.dimensions}}]),e}();i.SCE=c,t.exports.SCE=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16,"./SystemEvents.class":26,"./UI/UI.class":32,"./Utils.class":38}],24:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Constants"),a=n.Stage=function(){function e(){o(this,e),this.nodes=[],this.activeCamera=null,this.selectedNode=null,this.paused=!1,this.backgroundColor=[0,0,0,1],this.gl=null,this._ontick=null}return r(e,[{key:"setActiveCamera",value:function(e){this.activeCamera=e}},{key:"getActiveCamera",value:function(){return this.activeCamera}},{key:"setSelectedNode",value:function(e){this.selectedNode=e}},{key:"getSelectedNode",value:function(){return this.selectedNode}},{key:"addNode",value:function(e){this.nodes.push(e),e.initialize(null!=e.getName()?e.getName():"node "+(this.nodes.length-1),this.gl)}},{key:"removeNode",value:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t]===e){this.nodes.splice(t,1);break}}},{key:"getNodes",value:function(){return this.nodes}},{key:"render",value:function(e){this._ontick=e,this.paused=!1,this.setBackgroundColor(this.backgroundColor),this.tick()}},{key:"pause",value:function(){this.paused=!0}},{key:"setWebGLContext",value:function(e){this.gl=e}},{key:"setBackgroundColor",value:function(e){this.backgroundColor=e}},{key:"getBackgroundColor",value:function(){return this.backgroundColor}},{key:"getWebGLContext",value:function(){return this.gl}},{key:"tick",value:function(){if(null!=this.activeCamera){void 0!==this._ontick&&null!==this._ontick&&this._ontick();var e=this.activeCamera.getComponent(s.Constants.COMPONENT_TYPES.PROJECTION).getResolution();this.gl.viewport(0,0,e.width,e.height),this.gl.clearColor(this.backgroundColor[0],this.backgroundColor[1],this.backgroundColor[2],this.backgroundColor[3]),this.gl.clearDepth(1),this.gl.depthFunc(this.gl.LEQUAL);var t=this.activeCamera.getComponent(s.Constants.COMPONENT_TYPES.GPU);void 0!==t&&null!==t&&t.gpufG.fillArg("RGB",[this.backgroundColor[0],this.backgroundColor[1],this.backgroundColor[2],this.backgroundColor[3]]);for(var n=0,i=this.nodes.length;n<i;n++)if(this.nodes[n]!==this.activeCamera){for(var o in this.nodes[n].getComponents()){var r=this.nodes[n].getComponent(o);null!=r.tick&&r.tick()}null!=this.nodes[n].onTick&&this.nodes[n].onTick()}for(var a=0,l=this.nodes.length;a<l;a++)if(this.nodes[a]!==this.activeCamera)for(var u in this.nodes[a].getComponents()){var c=this.nodes[a].getComponent(u);if(null!=c.gpufG)for(var d in c.gpufG.vertexFragmentPrograms){var h=c.gpufG.vertexFragmentPrograms[d],f=WebCLGLUtils.getOutputBuffers(h,c.gpufG._argsValues);!0===h.enabled&&null!=f&&(c.gpufG._gl.bindFramebuffer(c.gpufG._gl.FRAMEBUFFER,f[0].fBuffer),c.gpufG._gl.clear(c.gpufG._gl.DEPTH_BUFFER_BIT),c.gpufG._gl.bindFramebuffer(c.gpufG._gl.FRAMEBUFFER,f[0].fBufferTemp),c.gpufG._gl.clear(c.gpufG._gl.DEPTH_BUFFER_BIT))}}for(var p in this.activeCamera.getComponents()){var g=this.activeCamera.getComponent(p);null!=g.tick&&g.tick()}}}}]),e}();i.Stage=a,t.exports.Stage=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16}],25:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return new a(e)}function r(e){return new l(e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n.$M16=o,n.$V3=r;var a=n.StormM16=function(){function e(t){i(this,e),this.e=null,this.e=void 0!==t&&null!==t?new Float32Array(t):new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return s(e,[{key:"x",value:function(t){return o(t instanceof e?[this.e[0]*t.e[0]+this.e[1]*t.e[4]+this.e[2]*t.e[8]+this.e[3]*t.e[12],this.e[0]*t.e[1]+this.e[1]*t.e[5]+this.e[2]*t.e[9]+this.e[3]*t.e[13],this.e[0]*t.e[2]+this.e[1]*t.e[6]+this.e[2]*t.e[10]+this.e[3]*t.e[14],this.e[0]*t.e[3]+this.e[1]*t.e[7]+this.e[2]*t.e[11]+this.e[3]*t.e[15],this.e[4]*t.e[0]+this.e[5]*t.e[4]+this.e[6]*t.e[8]+this.e[7]*t.e[12],this.e[4]*t.e[1]+this.e[5]*t.e[5]+this.e[6]*t.e[9]+this.e[7]*t.e[13],this.e[4]*t.e[2]+this.e[5]*t.e[6]+this.e[6]*t.e[10]+this.e[7]*t.e[14],this.e[4]*t.e[3]+this.e[5]*t.e[7]+this.e[6]*t.e[11]+this.e[7]*t.e[15],this.e[8]*t.e[0]+this.e[9]*t.e[4]+this.e[10]*t.e[8]+this.e[11]*t.e[12],this.e[8]*t.e[1]+this.e[9]*t.e[5]+this.e[10]*t.e[9]+this.e[11]*t.e[13],this.e[8]*t.e[2]+this.e[9]*t.e[6]+this.e[10]*t.e[10]+this.e[11]*t.e[14],this.e[8]*t.e[3]+this.e[9]*t.e[7]+this.e[10]*t.e[11]+this.e[11]*t.e[15],this.e[12]*t.e[0]+this.e[13]*t.e[4]+this.e[14]*t.e[8]+this.e[15]*t.e[12],this.e[12]*t.e[1]+this.e[13]*t.e[5]+this.e[14]*t.e[9]+this.e[15]*t.e[13],this.e[12]*t.e[2]+this.e[13]*t.e[6]+this.e[14]*t.e[10]+this.e[15]*t.e[14],this.e[12]*t.e[3]+this.e[13]*t.e[7]+this.e[14]*t.e[11]+this.e[15]*t.e[15]]:[0,0,0,this.e[0]*t.e[0]+this.e[1]*t.e[1]+this.e[2]*t.e[2],0,0,0,this.e[4]*t.e[0]+this.e[5]*t.e[1]+this.e[6]*t.e[2],0,0,0,this.e[8]*t.e[0]+this.e[9]*t.e[1]+this.e[10]*t.e[2],0,0,0,this.e[12]*t.e[0]+this.e[13]*t.e[1]+this.e[14]*t.e[2]])}},{key:"transpose",value:function(){return o([this.e[0],this.e[4],this.e[8],this.e[12],this.e[1],this.e[5],this.e[9],this.e[13],this.e[2],this.e[6],this.e[10],this.e[14],this.e[3],this.e[7],this.e[11],this.e[15]])}},{key:"inverse",value:function(){var e=o(this.e).transpose().e,t=new Float32Array(12),n=new Float32Array(16);t[0]=e[10]*e[15],t[1]=e[11]*e[14],t[2]=e[9]*e[15],t[3]=e[11]*e[13],t[4]=e[9]*e[14],t[5]=e[10]*e[13],t[6]=e[8]*e[15],t[7]=e[11]*e[12],t[8]=e[8]*e[14],t[9]=e[10]*e[12],t[10]=e[8]*e[13],t[11]=e[9]*e[12],n[0]=t[0]*e[5]+t[3]*e[6]+t[4]*e[7],n[0]-=t[1]*e[5]+t[2]*e[6]+t[5]*e[7],n[1]=t[1]*e[4]+t[6]*e[6]+t[9]*e[7],n[1]-=t[0]*e[4]+t[7]*e[6]+t[8]*e[7],n[2]=t[2]*e[4]+t[7]*e[5]+t[10]*e[7],n[2]-=t[3]*e[4]+t[6]*e[5]+t[11]*e[7],n[3]=t[5]*e[4]+t[8]*e[5]+t[11]*e[6],n[3]-=t[4]*e[4]+t[9]*e[5]+t[10]*e[6],n[4]=t[1]*e[1]+t[2]*e[2]+t[5]*e[3],n[4]-=t[0]*e[1]+t[3]*e[2]+t[4]*e[3],n[5]=t[0]*e[0]+t[7]*e[2]+t[8]*e[3],n[5]-=t[1]*e[0]+t[6]*e[2]+t[9]*e[3],n[6]=t[3]*e[0]+t[6]*e[1]+t[11]*e[3],n[6]-=t[2]*e[0]+t[7]*e[1]+t[10]*e[3],n[7]=t[4]*e[0]+t[9]*e[1]+t[10]*e[2],n[7]-=t[5]*e[0]+t[8]*e[1]+t[11]*e[2],t[0]=e[2]*e[7],t[1]=e[3]*e[6],t[2]=e[1]*e[7],t[3]=e[3]*e[5],t[4]=e[1]*e[6],t[5]=e[2]*e[5],t[6]=e[0]*e[7],t[7]=e[3]*e[4],t[8]=e[0]*e[6],t[9]=e[2]*e[4],t[10]=e[0]*e[5],t[11]=e[1]*e[4],n[8]=t[0]*e[13]+t[3]*e[14]+t[4]*e[15],n[8]-=t[1]*e[13]+t[2]*e[14]+t[5]*e[15],n[9]=t[1]*e[12]+t[6]*e[14]+t[9]*e[15],n[9]-=t[0]*e[12]+t[7]*e[14]+t[8]*e[15],n[10]=t[2]*e[12]+t[7]*e[13]+t[10]*e[15],n[10]-=t[3]*e[12]+t[6]*e[13]+t[11]*e[15],n[11]=t[5]*e[12]+t[8]*e[13]+t[11]*e[14],n[11]-=t[4]*e[12]+t[9]*e[13]+t[10]*e[14],n[12]=t[2]*e[10]+t[5]*e[11]+t[1]*e[9],n[12]-=t[4]*e[11]+t[0]*e[9]+t[3]*e[10],n[13]=t[8]*e[11]+t[0]*e[8]+t[7]*e[10],n[13]-=t[6]*e[10]+t[9]*e[11]+t[1]*e[8],n[14]=t[6]*e[9]+t[11]*e[11]+t[3]*e[8],n[14]-=t[10]*e[11]+t[2]*e[8]+t[7]*e[9],n[15]=t[10]*e[10]+t[4]*e[8]+t[9]*e[9],n[15]-=t[8]*e[9]+t[11]*e[10]+t[5]*e[8];var i=e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3];return o([n[0]*i,n[1]*i,n[2]*i,n[3]*i,n[4]*i,n[5]*i,n[6]*i,n[7]*i,n[8]*i,n[9]*i,n[10]*i,n[11]*i,n[12]*i,n[13]*i,n[14]*i,n[15]*i])}},{key:"getLeft",value:function(){return r([this.e[0],this.e[4],this.e[8]]).normalize()}},{key:"getUp",value:function(){return r([this.e[1],this.e[5],this.e[9]]).normalize()}},{key:"getForward",value:function(){return r([this.e[2],this.e[6],this.e[10]]).normalize()}},{key:"setRotation",value:function(e,t,n){return void 0!==n&&null!==n&&null!==n.e[0]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1])):o([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[1]?void 0===t||null===t||!0===t?this.x(o([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1])):o([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[2]?void 0===t||null===t||!0===t?this.x(o([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1])):o([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1]):void 0}},{key:"setRotationX",value:function(e,t){return this.setRotation(e,t,r([1,0,0]))}},{key:"setRotationY",value:function(e,t){return this.setRotation(e,t,r([0,1,0]))}},{key:"setRotationZ",value:function(e,t){return this.setRotation(e,t,r([0,0,1]))}},{key:"setScale",value:function(e,t,n){return void 0!==n&&null!==n&&null!==n.e[0]?void 0===t||null===t||!0===t?this.x(o([e,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):o([e,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[1]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1])):o([1,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[2]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,1,0,0,0,0,e,0,0,0,0,1])):o([1,0,0,0,0,1,0,0,0,0,e,0,0,0,0,1]):void 0}},{key:"setScaleX",value:function(e,t){return this.setScale(e,t,r([1,0,0]))}},{key:"setScaleY",value:function(e,t){return this.setScale(e,t,r([0,1,0]))}},{key:"setScaleZ",value:function(e,t){return this.setScale(e,t,r([0,0,1]))}},{key:"getPosition",value:function(){return r([this.e[3],this.e[7],this.e[11]])}},{key:"setPosition",value:function(e){return this.e[3]=e.e[0],this.e[7]=e.e[1],this.e[11]=e.e[2],this}}],[{key:"makeLookAt",value:function(e,t,n,i,s,a,l,u,c){var d=r([e,t,n]),h=r([i,s,a]),f=r([l,u,c]),p=d.subtract(h).normalize(),g=f.cross(p).normalize(),v=p.cross(g).normalize(),_=o([g.e[0],g.e[1],g.e[2],0,v.e[0],v.e[1],v.e[2],0,p.e[0],p.e[1],p.e[2],0,0,0,0,1]),m=o([1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1]);return _.x(m)}},{key:"setPerspectiveProjection",value:function(e,t,n,i){var r=Math.tan(e*Math.PI/360)*n,s=-r,a=t*s,l=t*r;return o([2*n/(l-a),0,(l+a)/(l-a),0,0,2*n/(r-s),(r+s)/(r-s),0,0,0,-(i+n)/(i-n),-2*i*n/(i-n),0,0,-1,0])}},{key:"setOrthographicProjection",value:function(e,t,n,i,r,s){return o([2/(t-e),0,0,-(t+e)/(t-e),0,2/(i-n),0,-(i+n)/(i-n),0,0,-2/(s-r),-(s+r)/(s-r),0,0,0,1])}}]),e}();e.StormM16=a,t.exports.StormM16=a,e.$M16=o,t.exports.$M16=o;var l=n.StormV3=function(){function e(t){i(this,e),this.e=new Float32Array(t)}return s(e,[{key:"add",value:function(e){return r([this.e[0]+e.e[0],this.e[1]+e.e[1],this.e[2]+e.e[2]])}},{key:"cross",value:function(e){return r([this.e[1]*e.e[2]-this.e[2]*e.e[1],this.e[2]*e.e[0]-this.e[0]*e.e[2],this.e[0]*e.e[1]-this.e[1]*e.e[0]])}},{key:"distance",value:function(e){return Math.sqrt((this.e[0]-e.e[0])*(this.e[0]-e.e[0])+(this.e[1]-e.e[1])*(this.e[1]-e.e[1])+(this.e[2]-e.e[2])*(this.e[2]-e.e[2]))}},{key:"dot",value:function(e){return this.e[0]*e.e[0]+this.e[1]*e.e[1]+this.e[2]*e.e[2]}},{key:"equal",value:function(e){return this.e[0]===e.e[0]&&this.e[1]===e.e[1]&&this.e[2]===e.e[2]}},{key:"modulus",value:function(){return Math.sqrt(this.sumComponentSqrs())}},{key:"sumComponentSqrs",value:function(){var e=this.sqrComponents();return e[0]+e[1]+e[2]}},{key:"sqrComponents",value:function(){var e=new Float32Array(3);return e.set([this.e[0]*this.e[0],this.e[1]*this.e[1],this.e[2]*this.e[2]]),e}},{key:"x",value:function(t){var n=t instanceof a;if(t instanceof e)return r([this.e[0]*t.e[0],this.e[1]*t.e[1],this.e[2]*t.e[2]]);if(n){var i=o([1,0,0,this.e[0],0,1,0,this.e[1],0,0,1,this.e[2],0,0,0,1]);return o([i.e[0]+0+0+0,0+i.e[1]+0+0,0+i.e[2]+0,i.e[0]*t.e[0]+i.e[1]*t.e[1]+i.e[2]*t.e[2]+i.e[3],i.e[4]+0+0+0,0+i.e[5]+0+0,0+i.e[6]+0,i.e[4]*t.e[0]+i.e[5]*t.e[1]+i.e[6]*t.e[2]+i.e[7],i.e[8]+0+0+0,0+i.e[9]+0+0,0+i.e[10]+0,i.e[8]*t.e[0]+i.e[9]*t.e[1]+i.e[10]*t.e[2]+i.e[11],i.e[12]+0+0+0,0+i.e[13]+0+0,0+i.e[14]+0,i.e[12]*t.e[0]+i.e[13]*t.e[1]+i.e[14]*t.e[2]+i.e[15]*t.e[15]])}return r([this.e[0]*t,this.e[1]*t,this.e[2]*t])}},{key:"reflect",value:function(e){var t=r([this.e[0],this.e[1],this.e[2]]),n=r([e.e[0],e.e[1],e.e[2]]),i=n.x(t.dot(n));return i=i.x(2),i=t.subtract(i)}},{key:"subtract",value:function(e){return r([this.e[0]-e.e[0],this.e[1]-e.e[1],this.e[2]-e.e[2]])}},{key:"normalize",value:function(){var e=1/this.modulus();return r([this.e[0]*e,this.e[1]*e,this.e[2]*e])}}]),e}();e.StormV3=l,t.exports.StormV3=l,e.$V3=r,t.exports.$V3=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SystemEvents=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=e("./Constants"),l=n.SystemEvents=function(){function e(t,n){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this._target=n,this._utils=new s.Utils,this.mousePosX_orig=0,this.mousePosY_orig=0,this.mousePosX=0,this.mousePosY=0,this.mouseOldPosX=0,this.mouseOldPosY=0,this.divPositionX=0,this.divPositionY=0,this.focused=!1}return r(e,[{key:"initialize",value:function(){document.body.addEventListener("keydown",this.keydownListener.bind(this)),document.body.addEventListener("keyup",this.keyupListener.bind(this)),this._target.addEventListener("mousewheel",this.mousewheelListener.bind(this)),this._target.addEventListener("wheel",this.mousewheelListener.bind(this)),document.body.addEventListener("mouseup",this.mouseupListener.bind(this),!1),document.body.addEventListener("touchend",this.mouseupListener.bind(this),!1),this._target.addEventListener("mousedown",this.mousedownListener.bind(this),!1),this._target.addEventListener("touchstart",this.mousedownListener.bind(this).bind(this),!1),document.body.addEventListener("mousemove",this.mousemoveListener.bind(this),!1),document.body.addEventListener("touchmove",this.mousemoveListener.bind(this),!1),this._target.addEventListener("mouseover",function(){this.focused=!0}.bind(this),!1),this._target.addEventListener("mouseleave",function(){this.focused=!1}.bind(this),!1)}},{key:"getMousePosition",value:function(){return{x:this.mousePosX,y:this.mousePosY}}},{key:"updateDivPosition",value:function(e){this.divPositionX=s.Utils.getElementPosition(this._sce.getCanvas()).x,this.divPositionY=s.Utils.getElementPosition(this._sce.getCanvas()).y,this.mousePosX=e.clientX-this.divPositionX,this.mousePosY=e.clientY-this.divPositionY,this.mousePosX_orig=this.mousePosX,this.mousePosY_orig=this.mousePosY,this.mouseOldPosX=this.mousePosX,this.mouseOldPosY=this.mousePosY}},{key:"callComponentEvent",value:function(e,t,n){if(void 0!==this._project&&null!==this._project){var i=this._project.getActiveStage(),o=i.getActiveCamera().getComponent(a.Constants.COMPONENT_TYPES.PROJECTION),r=null;if(t===a.Constants.EVENT_TYPES.MOUSE_DOWN&&this.updateDivPosition(n),t===a.Constants.EVENT_TYPES.MOUSE_MOVE&&(this.mouseOldPosX=this.mousePosX,this.mouseOldPosY=this.mousePosY,this.mousePosX=n.clientX-this.divPositionX,this.mousePosY=n.clientY-this.divPositionY,r=$V3([this.mousePosX-this.mousePosX_orig,0,this.mousePosY-this.mousePosY_orig])),t===a.Constants.EVENT_TYPES.MOUSE_WHEEL){this.updateDivPosition(n);var s=o.getFov(),l=(this.mousePosX-this._sce.getCanvas().width/2)/this._sce.getCanvas().width*s*.2,u=(this.mousePosY-this._sce.getCanvas().height/2)/this._sce.getCanvas().height*s*.2;(void 0!==n.wheelDeltaY&&n.wheelDeltaY>=0||void 0!==n.deltaY&&n.deltaY>=0)&&(l*=-1,u*=-1);var c=i.getActiveCamera().getComponent(a.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix(),d=c.getLeft().x(l),h=c.getUp().x(u);r=d.add(h)}for(var f=0,p=i.getNodes().length;f<p;f++)for(var g in i.getNodes()[f].getComponents()){var v=i.getNodes()[f].getComponent(g);v.type===e&&(t===a.Constants.EVENT_TYPES.KEY_DOWN&&null!=v._onkeydown&&!0===this.focused&&v._onkeydown(n),t===a.Constants.EVENT_TYPES.KEY_UP&&null!=v._onkeyup&&v._onkeyup(n),t===a.Constants.EVENT_TYPES.MOUSE_DOWN&&null!=v._onmousedown&&v._onmousedown(n),t===a.Constants.EVENT_TYPES.MOUSE_UP&&null!=v._onmouseup&&v._onmouseup(n),t===a.Constants.EVENT_TYPES.MOUSE_MOVE&&null!=v._onmousemove&&v._onmousemove(n,r),t===a.Constants.EVENT_TYPES.MOUSE_WHEEL&&null!=v._onmousewheel&&v._onmousewheel(n,r))}}}},{key:"keydownListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,a.Constants.EVENT_TYPES.KEY_DOWN,e)}},{key:"keyupListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,a.Constants.EVENT_TYPES.KEY_UP,e)}},{key:"mousedownListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_DOWN,e)}},{key:"mouseupListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_UP,e)}},{key:"mousemoveListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_MOVE,e)}},{key:"mousewheelListener",value:function(e){e.preventDefault(),this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_WHEEL,e)}}]),e}();i.SystemEvents=l,t.exports.SystemEvents=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16,"./Utils.class":38}],27:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.ActionHelpers=function(){function e(){i(this,e),this.firstColumWidth="40%",this.secondColumWidth="60%"}return o(e,[{key:"add_btn",value:function(e,t,n){var i="<div><button id='BUTTONID_"+t+"' style='width:100%'>"+t+"</button></div>";this.constructor.appendStringChild(i,e);var o=document.getElementById("BUTTONID_"+t);o.addEventListener("click",function(e,t){e(t)}.bind(this,n,o))}},{key:"add_valuesAndBtn",value:function(e,t,n,i,o,r){for(var s='<div><div style="display:inline-block;width:'+this.firstColumWidth+";vertical-align:top;overflow:hidden;\"><button id='BUTTONID_"+t+"' style='width:100%'>"+t+'</button></div><div style="display:inline-block;width:'+this.secondColumWidth+';">',a=0;a<i.length;a++)s+='<input type="'+n+'" id="INPUTID_'+t+"_"+i[a]+'" step="'+o[a]/20+'" value="'+o[a]+'" title="'+i[a]+'" style="width:'+(100/i.length-1)+'%"/>';s+="</div></div>",this.constructor.appendStringChild(s,e),document.getElementById("BUTTONID_"+t).addEventListener("click",function(e){for(var n=[],o=0;o<i.length;o++)n.push(document.querySelector("#INPUTID_"+t+"_"+i[o]).innerHTML);e(n)}.bind(this,r))}},{key:"add_checkbox",value:function(e,t,n,i,o){var r='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input type="checkbox" id="INPUTID_'+t+'" /></div></div>';this.constructor.appendStringChild(r,e);var s=document.getElementById("INPUTID_"+t);s.checked=!0===n||1===n,s.addEventListener("click",function(e,t,n){!1===n.checked?t():e()}.bind(this,i,o,s))}},{key:"add_select",value:function(e,t,n,i,o){for(var r='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><select id="SELECTID_'+t+'" style="width:100%">',s=0;s<n.length;s++){var a="";i===n[s]&&(a="selected='selected'"),r+="<option value='"+n[s]+"' "+a+">"+n[s]+"</option>"}r+="</select></div></div>",this.constructor.appendStringChild(r,e);var l=document.getElementById("SELECTID_"+t);l.addEventListener("change",function(e,t){e(t.options[t.selectedIndex].value)}.bind(this,o,l))}},{key:"add_slider",value:function(e,t,n,i,o,r,s){var a='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input id="INPUTID_'+t+'X" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n+'" style="vertical-align:middle;width:20%"><input id="INPUTID_'+t+'X_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n+'" style="vertical-align:middle;width:78%"></div></div>';this.constructor.appendStringChild(a,e);var l=function(e,n){var i=document.getElementById("INPUTID_"+t+"X").value;e(parseFloat(i))},u=function(e,t){t.nextSibling.value=parseFloat(t.value).toFixed(3),l(e)},c=document.getElementById("INPUTID_"+t+"X");c.addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),c.addEventListener("click",u.bind(this,s,c));(c=document.getElementById("INPUTID_"+t+"X_slider")).addEventListener("input",function(e,t){t.previousSibling.value=parseFloat(t.value).toFixed(3),l(e)}.bind(this,s,c))}},{key:"add_3dslider",value:function(e,t,n,i,o,r,s){var a='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input id="INPUTID_'+t+'X" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[0]+'" style="background:red;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'X_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[0]+'" style="background:red;color:#FFF;vertical-align:middle;width:78%"><input id="INPUTID_'+t+'Y" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[1]+'" style="background:green;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'Y_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[1]+'" style="background:green;color:#FFF;vertical-align:middle;width:78%"><input id="INPUTID_'+t+'Z" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[2]+'" style="background:blue;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'Z_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[2]+'" style="background:blue;color:#FFF;vertical-align:middle;width:78%"></div></div>';this.constructor.appendStringChild(a,e);var l=function(e,n){e([parseFloat(document.getElementById("INPUTID_"+t+"X").value),parseFloat(document.getElementById("INPUTID_"+t+"Y").value),parseFloat(document.getElementById("INPUTID_"+t+"Z").value)])},u=function(e,t){t.nextSibling.value=parseFloat(t.value).toFixed(3),l(e)},c=document.getElementById("INPUTID_"+t+"X");c.addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),c.addEventListener("click",u.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Y")).addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Z")).addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c));var d=function(e,t){t.previousSibling.value=parseFloat(t.value).toFixed(3),l(e)};(c=document.getElementById("INPUTID_"+t+"X_slider")).addEventListener("change",d.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Y_slider")).addEventListener("change",d.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Z_slider")).addEventListener("change",d.bind(this,s,c))}},{key:"add_colorpicker",value:function(e,t,n,i){var o='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input type="color" id="INPUTID_'+t+'" value="'+n+'" style="width:100%"></div></div>';this.constructor.appendStringChild(o,e);var r=document.getElementById("INPUTID_"+t);r.addEventListener("change",function(e,t){e(t.value)}.bind(this,i,r))}},{key:"add_imageSelection",value:function(e,t,n){var i='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+";\"><input id='INPUTID_"+t+"' type='file' style='display:none'/><div id='DIVID_"+t+"' onclick='$(this).prev().click();' style='cursor:pointer;width:16px;height:16px;border:1px solid #FFF'></div></div></div>";this.constructor.appendStringChild(i,e),document.getElementById("INPUTID_"+t).onchange=function(){var e=new FileReader;e.onload=function(e){var i=new Image;i.onload=function(){var e=document.querySelector("#INPUTID_"+t).val().split("/");e=e[e.length-1],document.querySelector("#DIVID_"+t).appendChild(i),document.querySelector("#DIVID_"+t).setAttribute("title",e),n(i)},i.src=e.target.result},e.readAsDataURL(this.files[0])}}},{key:"add_fileSelection",value:function(e,t,n){var i='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+";\"><input id='INPUTID_"+t+"' type='file' style='display:none'/><div id='DIVID_"+t+"' onclick='$(this).prev().click();' style='cursor:pointer;width:16px;height:16px;border:1px solid #FFF'></div></div></div>";this.constructor.appendStringChild(i,e),document.getElementById("INPUTID_"+t).onchange=function(){n(this.files[0])}}}],[{key:"appendStringChild",value:function(e,t,n){var i=void 0!==n&&null!==n?n:"end",o=(new DOMParser).parseFromString(e,"text/html");"end"===i?t.appendChild(o.body.firstChild):t.insertBefore(o.body.firstChild,t.firstChild)}}]),e}();e.ActionHelpers=r,t.exports.ActionHelpers=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DraggabillyS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("draggabilly")),a=n.DraggabillyS=function(){function e(t){var n=this;o(this,e),this.strAttrID=t.id,this.onShow=void 0!==t.onShow&&null!==t.onShow?t.onShow:null;var i=void 0!==t.html&&null!==t.html?t.html:"";this.windowEnabled=!0,this.target=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.target),this.target.classList.add("SECmenu"),this.target.innerHTML='\n        <div style="font-size:12px; box-shadow:rgba(0, 0, 0, 0.683594) 3px 3px 8px 1px,rgb(255, 255, 255) 0 0 5px 0 inset; border-radius:5px;resize:both;overflow:auto;background:rgba(50,50,50,0.95);">\n            <div id="elDS_Panel" style="border-top-left-radius:5px; border-top-right-radius:5px; width:100%; background:rgba(200,200,200,0.7); cursor:move;\tdisplay:table;">\n                <div style="padding-left:5px;color:#000;font-weight:bold;display:table-cell;vertical-align:middle;">'+t.paneltitle+'</div>\n                <div style="width:30px;\tpadding:2px; display:table-cell; vertical-align:middle;">\n                    <div id="elDS_TitleMin" style="cursor:pointer;display:inline-block">&#8863;</div>\n                    <div id="elDS_TitleClose" style="cursor:pointer;display:inline-block">&#8864;</div>\n                </div>\n            </div>\n            <div id="'+this.strAttrID+'_content" style="border-bottom-left-radius:5px; border-bottom-right-radius:5px; min-width:220px;\tcursor:default;\tpadding:5px; color:#FFF;  overflow-y:auto;">\n                \n            </div>\n        </div>\n        ';var r=new s.default(this.target,{handle:"#elDS_Panel"});if(this.target.style.left=100-this.target.getBoundingClientRect().left+"px",this.target.style.top=100-this.target.getBoundingClientRect().top+"px",null===i){var a=this.target;a.parentNode.removeChild(a),document.getElementById(this.strAttrID+"_content").appendChild(a)}else document.getElementById(this.strAttrID+"_content").innerHTML=i;this.target.querySelector("#elDS_TitleClose").addEventListener("click",function(e){n.hide()}),this.target.querySelector("#elDS_TitleMin").addEventListener("click",function(){!0===n.windowEnabled?(n.windowSavedPosLeft=n.target.style.left,n.windowSavedPosTop=n.target.style.top,n.target.style.position="absolute",n.target.style.left="50",n.target.style.top="0",n.target.style.width="150px",n.target.querySelector("#"+n.strAttrID+"_content").style.display="none",n.target.querySelector("#elDS_TitleMin").innerHTML="&#8862;",n.windowEnabled=!1):(n.target.style.position="relative",n.target.style.left=n.windowSavedPosLeft,n.target.style.top=n.windowSavedPosTop,n.target.style.width="950px",n.target.querySelector("#"+n.strAttrID+"_content").style.display="block",n.target.querySelector("#elDS_TitleMin").innerHTML="&#8863;",n.windowEnabled=!0)}),r.on("pointerUp",function(e,t){n.target.click(),n.upZindex(),e.stopPropagation(),e.preventDefault()}),this.hide()}return r(e,[{key:"appendStringChild",value:function(e,t,n){var i=void 0!==n?n:"end",o=(new DOMParser).parseFromString(e,"text/html");"end"===i?this.target.appendChild(o.body.firstChild):this.target.insertBefore(o.body.firstChild,this.target.firstChild)}},{key:"show",value:function(){this.target.style.display="block",this.upZindex()}},{key:"hide",value:function(){this.target.style.display="none"}},{key:"upZindex",value:function(){var e=document.querySelectorAll(".SECmenu"),t=!0,n=!1,i=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)o.value.style.zIndex="0"}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}this.target.style.zIndex="99"}}]),e}();i.DraggabillyS=a,t.exports.DraggabillyS=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{draggabilly:1}],29:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelNode=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../Constants"),a=e("./UIComponentGPU.class"),l=e("./DraggabillyS.class"),u=n.PanelNode=function(){function e(){o(this,e),this.panel=new l.DraggabillyS({id:"PanelEditNode",paneltitle:"NODE",html:'<span style="font-weight:bold" id="DIVID_StormEditNode_name"></span>\n                                                <div id="DIVID_StormEditNode_edits"></div>'}),this.panel.target.style.width="800px",this.elContentName=this.panel.target.querySelector("#DIVID_StormEditNode_name"),this.elContent=this.panel.target.querySelector("#DIVID_StormEditNode_edits")}return r(e,[{key:"show",value:function(e){this.panel.show(),this.updateNearNode(e)}},{key:"updateNearNode",value:function(e){if(void 0===e||null===e)this.elContentName.innerHTML="",this.elContent.innerHTML="";else{""!==e.getName()&&(this.elContentName.innerHTML=e.getName()),this.elContent.innerHTML="";for(var t in s.Constants.COMPONENT_TYPES)for(var n in e.getComponents())if(n===s.Constants.COMPONENT_TYPES[t].toString()){var i="<div id='DIVID_component_"+t+"' class='component StormShadow02 StormRound'>"+t+"</div>";this.elContent.innerHTML+=i,n===s.Constants.COMPONENT_TYPES.GPU.toString()?new a.UIComponentGPU(t,e):s.Constants.COMPONENT_TYPES.PROJECTION.toString()}}}}]),e}();i.PanelNode=u,t.exports.PanelNode=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16,"./DraggabillyS.class":28,"./UIComponentGPU.class":33}],30:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelNumberGenerator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./ActionHelpers.class"),a=(function(e){e&&e.__esModule}(e("draggabilly")),e("./DraggabillyS.class")),l=n.PanelNumberGenerator=function(){function e(){o(this,e),this.ah=new s.ActionHelpers,this.panel=new a.DraggabillyS({id:"DIVID_PanelNumberGenerator",paneltitle:"NUMBER GENERATOR"}),this.panel.target.style.width="500px"}return r(e,[{key:"show",value:function(){this.panel.show(),this.showListObjects()}},{key:"showListObjects",value:function(){var e=document.getElementById("DIVID_PanelNumberGenerator_content");e.innerHTML="",this.ah.add_imageSelection(e,"LOAD_IMG",function(t){e.appendChild(t),e.innerHTML+=t.width+"x"+t.height+"="+t.width*t.height,t.setAttribute("draggable",!0),t.addEventListener("dragstart",function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.src)},!1)});var t=function(t,n){for(var i=[],o=[],r=t[0],s=1;s<t[1];s++)r*=t[0];for(var a=t[2],l=0;l<r*t[2];l++){if(a===t[2]){a=0,o=[];for(var u=0;u<n;u++)o.push(1-2*Math.random())}for(var c=0;c<n;c++)i.push(o[c]);a++}var d=document.createElement("button");d.innerHTML="arr",d.setAttribute("draggable",!0),e.appendChild(d),d.addEventListener("dragstart",function(e,t){console.log(e),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",e)}.bind(this,i),!1)}.bind(this);this.ah.add_valuesAndBtn(e,"CREATE_RANDOM_FLOAT","number",["length","dimensions","repeat_FLOAT"],[128,2,14],function(e){t(e,1)}.bind(this)),this.ah.add_valuesAndBtn(e,"CREATE_RANDOM_FLOAT4","number",["length","dimensions","repeat_FLOAT4"],[128,2,14],function(e){t(e,4)}.bind(this))}}]),e}();i.PanelNumberGenerator=l,t.exports.PanelNumberGenerator=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ActionHelpers.class":27,"./DraggabillyS.class":28,draggabilly:1}],31:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelStage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./DraggabillyS.class"),a=n.PanelStage=function(){function e(){o(this,e),this.panel=new s.DraggabillyS({id:"DIVID_PanelStage",paneltitle:"STAGE"}),this.panel.target.style.width="250px",this.elContent=this.panel.target.querySelector("#DIVID_PanelStage_content")}return r(e,[{key:"show",value:function(e,t,n){this.panel.show(),this.showListObjects(e,t,n)}},{key:"showListObjects",value:function(e,t,n){var i=this;!function e(t,n,o){i.elContent.innerHTML="";for(var r="",s=0,a=t.length;s<a;s++)r="<div id='TDID_StormObjectNum_nodes"+s+"' style='background-color:"+(void 0!==n&&n===t[s]?"#444":"#000")+";color:"+(!0===t[s].isEnabled()?"#FFF":"#999")+";'>"+t[s].getName()+"</div>",i.elContent.innerHTML+=r;for(var l=0,u=t.length;l<u;l++)!function(n,i){var r=document.getElementById("TDID_StormObjectNum_nodes"+n);r.addEventListener("click",function(i){r.style.backgroundColor="#444",o(t[n]),e(t,t[n],o)})}(l)}(e,t,n),this.elContentDiv=this.panel.target.querySelector("#DIVID_PanelStage_content div"),this.elContentDiv.style.cursor="pointer",this.elContentDiv.style.border="1px solid #444",this.elContentDiv.addEventListener("mouseover",function(){i.elContentDiv.style.border="1px solid #CCC"}),this.elContentDiv.addEventListener("mouseout",function(){i.elContentDiv.style.border="1px solid #444"})}}]),e}();i.PanelStage=a,t.exports.PanelStage=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DraggabillyS.class":28}],32:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UI=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./PanelStage.class"),a=e("./PanelNode.class"),l=e("./PanelNumberGenerator.class"),u=e("./ActionHelpers.class"),c=n.UI=function(){function e(t){o(this,e),this._project=t,this.panel_Stage=null,this.panel_Node=null,this.panel_NumberGenerator=null}return r(e,[{key:"render",value:function(e,t){var n=this,i='<div style="font-size:10px;">\n            <div id="TOPMENU_'+e.id+'_view_PanelStage" style="display:inline-block;cursor:pointer;">Stage - </div>\n            <div id="TOPMENU_'+e.id+'_view_PanelNode" style="display:inline-block;cursor:pointer;">Node - </div>\n            <div id="TOPMENU_'+e.id+'_view_PanelNumberGenerator" style="display:inline-block;cursor:pointer;">Number Generator</div>\n\t\t</div>';u.ActionHelpers.appendStringChild(i,e,"init"),this.panel_Stage=new s.PanelStage,this.panel_Node=new a.PanelNode,this.panel_NumberGenerator=new l.PanelNumberGenerator,e.querySelector("#TOPMENU_"+e.id+"_view_PanelStage").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_Stage.show(n._project.getActiveStage().getNodes(),n._project.getActiveStage().getSelectedNode(),function(e){n._project.getActiveStage().setSelectedNode(e),n.panel_Node.show(n._project.getActiveStage().getSelectedNode())})}),e.querySelector("#TOPMENU_"+e.id+"_view_PanelNode").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_Node.show(n._project.getActiveStage().getSelectedNode())}),e.querySelector("#TOPMENU_"+e.id+"_view_PanelNumberGenerator").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_NumberGenerator.show()})}}]),e}();i.UI=c,t.exports.UI=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ActionHelpers.class":27,"./PanelNode.class":29,"./PanelNumberGenerator.class":30,"./PanelStage.class":31}],33:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU=void 0;var r=e("./UIComponentGPU_Indices.class"),s=e("./UIComponentGPU_Argument.class"),a=e("./UIComponentGPU_Kernel.class"),l=e("./UIComponentGPU_Vfp.class"),u=e("../Constants"),c=e("./ActionHelpers.class"),d=n.UIComponentGPU=function e(t,n){o(this,e),this.comp=n.getComponent(u.Constants.COMPONENT_TYPES.GPU);var i=this.comp.getAllArgs(),d="<div id='DIVID_"+t+"' class='component_section'><div id='DIVID_"+t+"_args' style='width:300px;display:inline-block;'></div><div id='DIVID_"+t+"_kernelsvfps' style='display:inline-block;vertical-align:top;'></div></div>";c.ActionHelpers.appendStringChild(d,document.getElementById("DIVID_component_"+t)),new r.UIComponentGPU_Indices(document.getElementById("DIVID_"+t),n,this.comp,i),new s.UIComponentGPU_Argument(document.getElementById("DIVID_"+t+"_args"),n,this.comp,i),new a.UIComponentGPU_Kernel(document.getElementById("DIVID_"+t+"_kernelsvfps"),n,this.comp,i),new l.UIComponentGPU_Vfp(document.getElementById("DIVID_"+t+"_kernelsvfps"),n,this.comp,i)};i.UIComponentGPU=d,t.exports.UIComponentGPU=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16,"./ActionHelpers.class":27,"./UIComponentGPU_Argument.class":34,"./UIComponentGPU_Indices.class":35,"./UIComponentGPU_Kernel.class":36,"./UIComponentGPU_Vfp.class":37}],34:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=n.UIComponentGPU_Argument=function e(t,n,o,r){var s=this;i(this,e);var a="<div id='"+t.id+"_args' style='width:inherit;display:table-cell;vertical-align:top;font-size:9px;'><div style='height:251px;'><div>ARGUMENTS</div></div>",l=!1;for(var u in r){var c=r[u];a+="<div id='DIVID_"+u+"_args' title='"+c+"' style='height:13px;background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>"+u+" <input type='checkbox' id='CHECKBOX_UPDATE_"+u+"' title='update on tick' style='width:8px;height:8px;margin:0;vertical-align:middle' />",void 0!==c&&null!==c&&(c instanceof WebCLGLBuffer?a+=" <span style='color:rgb(150, 255, 150)'> {WebCLGLBuffer "+c.length+"}</span>":c instanceof Float32Array||c instanceof Array?a+=" <span style='color:rgb(150, 255, 150)'> {"+c.constructor.name+" "+c.length+"}</span>":a+=" <span style='color:rgb(150, 255, 150)'> {<span>"+c.constructor.name+" "+c+"}</span>"),a+="</div>",l=!l}a+="</div>",ActionHelpers.appendStringChild(a,t);for(var d in r){r[d];void 0!==o.getArgs()[d]&&null!=o.getArgs()[d].updatable&&function(){var e=document.getElementById("CHECKBOX_UPDATE_"+d);e.checked=!0===o.getArgs()[d].updatable,e.addEventListener("click",function(t,n){!1===e.checked?t.setArgUpdatable(n,!1):t.setArgUpdatable(n,!0)}.bind(s,o,d))}();var h=document.getElementById("DIVID_"+d+"_args");h.addEventListener("dragover",function(e,t){t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",e.style.background="rgba(150, 255, 150, 0.3)"}.bind(this,h),!1),h.addEventListener("dragleave",function(e,t){e.style.background="transparent"}.bind(this,h),!1),h.addEventListener("drop",function(e,t,n,i){i.stopPropagation&&(i.stopPropagation(),i.preventDefault()),e.style.background="transparent";var o=i.dataTransfer.getData("text/plain");if("image"===(o.match(/,/i)?"array":"image")){var r=new Image;r.onload=function(e,t,n){e.setArg(t,function(){return n}.bind(this))}.bind(this,t,n,r),r.src=o}else t.setArg(n,function(){return o.split(",")}.bind(this))}.bind(this,h,o,d),!1)}};e.UIComponentGPU_Argument=o,t.exports.UIComponentGPU_Argument=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=n.UIComponentGPU_Indices=function e(t,n,o,r){i(this,e);var s="<div id='"+t.id+"_indices' style='background:rgba(0,0,0,0.5);padding-left:3px'><div>indices</div>",a=o.getBuffers().indices;void 0!==a&&a instanceof WebCLGLBuffer&&(s+=" <span style='color:grey'> {WebCLGLBuffer "+("<span title='"+a.inData+"'>"+a.length+"</span>")+"}</span>"),s+="</div>",ActionHelpers.appendStringChild(s,t)};e.UIComponentGPU_Indices=o,t.exports.UIComponentGPU_Indices=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU_Kernel=void 0;var r=e("../Constants"),s=n.UIComponentGPU_Kernel=function e(t,n,i,s){o(this,e);for(var a in i.gpufG.getAllKernels()){var l=i.gpufG.getAllKernels()[a],u=l.name,c="<div id='"+t.id+"_"+u+"_kernels' style='display:table-cell;vertical-align:top;min-width:100px;max-width:100px;border:1px solid #333;'><div style='height:250px;overflow-x:hidden;'><div><input type='checkbox' id='ENABLE_"+u+"' style='font-size:10px;'/> "+l.name+"</div><div>["+(null!=l.output[0]?l.output:"SCREEN")+"]</div><div>DEPTH TEST: <input type='checkbox' id='ENABLE_DEPTHTEST_"+u+"' style='font-size:10px;'></div><div>BLEND: <input type='checkbox' id='ENABLE_BLEND_"+u+"' style='font-size:10px;'></div><div>BLENT EQUATION: <select id='BLEND_EQUATION_"+u+"' style='font-size:10px;max-width:70px;'>";for(var d in r.Constants.BLENDING_EQUATION_TYPES)c+="<option value='"+d+"'>"+d+"</option>";c+="</select></div><div>BLEND SRC (Foreground): <select id='BLEND_source_"+u+"' style='font-size:10px;max-width:70px;'>";for(var h in r.Constants.BLENDING_MODES)c+="<option value='"+h+"'>"+h+"</option>";c+="</select></div><div>BLEND DST (Background): <select id='BLEND_destination_"+u+"' style='font-size:10px;max-width:70px;'>";for(var f in r.Constants.BLENDING_MODES)c+="<option value='"+f+"'>"+f+"</option>";c+="</select></div>",c+="</div>";var p=!1;for(var g in s){var v=s[g],_=!1;for(var m in l.in_values)if(g===m){_=!0,c+="<div style='height:13px;background:rgba(150,150,255,"+(!0===p?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==v?"white":"black")+";'>_</span>-";break}!1===_&&(c+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===p?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-");for(var y="",b=0;b<l.output.length;b++)if(g===l.output[b]){y="<div style='display:inline-block;color:black;'>UPDATE</div>";break}c+=y+"</div>",p=!p}c+="</div>",ActionHelpers.appendStringChild(c,t);var E=document.getElementById("ENABLE_"+u);E.checked=!0===l.enabled,E.addEventListener("click",function(e,t){e.enabled=!0===t.checked}.bind(this,l,E)),(E=document.getElementById("ENABLE_DEPTHTEST_"+u)).checked=!0===l.depthTest,E.addEventListener("click",function(e,t){e.depthTest=!0===t.checked}.bind(this,l,E)),(E=document.getElementById("ENABLE_BLEND_"+u)).checked=!0===l.blend,E.addEventListener("click",function(e,t){e.blend=!0===t.checked}.bind(this,l,E)),E=document.getElementById("BLEND_EQUATION_"+u);for(var C=0;C<E.options.length;C++)if(E.options[C].value===l.blendEquation){E.selectedIndex=C;break}E.addEventListener("change",function(e,t){e.blendEquation=t.options[t.selectedIndex].value}.bind(this,l,E)),E=document.getElementById("BLEND_source_"+u);for(var T=0;T<E.options.length;T++)if(E.options[T].value===l.blendSrcMode){E.selectedIndex=T;break}E.addEventListener("change",function(e,t){e.blendSrcMode=t.options[t.selectedIndex].value}.bind(this,l,E)),E=document.getElementById("BLEND_destination_"+u);for(var x=0;x<E.options.length;x++)if(E.options[x].value===l.blendDstMode){E.selectedIndex=x;break}E.addEventListener("change",function(e,t){e.blendDstMode=t.options[t.selectedIndex].value}.bind(this,l,E))}};i.UIComponentGPU_Kernel=s,t.exports.UIComponentGPU_Kernel=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16}],37:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU_Vfp=void 0;var r=e("../Constants"),s=n.UIComponentGPU_Vfp=function e(t,n,i,s){var a=this;o(this,e);var l=null;for(var u in i.gpufG.getAllVertexFragmentProgram())!function(e){var n=i.gpufG.getAllVertexFragmentProgram()[e],o=n.name,u="<div id='"+t.id+"_"+o+"_vps' style='display:table-cell;vertical-align:top;min-width:100px;max-width:100px;border:1px solid #333;'><div style='height:250px;overflow-x:hidden;'><div><input type='checkbox' id='ENABLE_"+o+"' style='font-size:10px;'/> "+n.name+"</div><div>["+(null!=n.output[0]?n.output:"SCREEN")+"]</div><div>drawMode: <select id='DRAW_"+o+"' style='font-size:10px;max-width:70px;'>";for(var c in r.Constants.DRAW_MODES)u+="<option value='"+r.Constants.DRAW_MODES[c]+"'>"+c+"</option>";u+="</select></div><div>DEPTH TEST: <input type='checkbox' id='ENABLE_DEPTHTEST_"+o+"' style='font-size:10px;'></div><div>BLEND: <input type='checkbox' id='ENABLE_BLEND_"+o+"' style='font-size:10px;'></div><div>BLENT EQUATION: <select id='BLEND_EQUATION_"+o+"' style='font-size:10px;max-width:70px;'>";for(var d in r.Constants.BLENDING_EQUATION_TYPES)u+="<option value='"+d+"'>"+d+"</option>";u+="</select></div><div>BLEND SRC (Foreground): <select id='BLEND_source_"+o+"' style='font-size:10px;max-width:70px;'>";for(var h in r.Constants.BLENDING_MODES)u+="<option value='"+h+"'>"+h+"</option>";u+="</select></div><div>BLEND DST (Background): <select id='BLEND_destination_"+o+"' style='font-size:10px;max-width:70px;'>";for(var f in r.Constants.BLENDING_MODES)u+="<option value='"+f+"'>"+f+"</option>";u+="</select></div>",u+="</div>",l=!1;for(var p in s){var g=s[p],v=!1;for(var _ in n.in_vertex_values)if(p===_){v=!0,u+="<div style='height:13px;background:rgba(255,150,150,"+(!0===l?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==g?"white":"black")+";'>_</span><span style='color:blue;'>"+("float4_fromSampler"===n.in_vertex_values[_].type||"float_fromSampler"===n.in_vertex_values[_].type?"fromSampler":"")+"</span>-";break}!1===v&&(u+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-"),u+="</div>",l=!l}u+="</div>",ActionHelpers.appendStringChild(u,t);var m=document.getElementById("ENABLE_"+o);m.checked=!0===n.enabled,m.addEventListener("click",function(e,t){e.enabled=!0===t.checked}.bind(a,n,m)),m=document.getElementById("DRAW_"+o);for(var y=0;y<m.options.length;y++)if(m.options[y].value===n.drawMode){m.selectedIndex=y;break}m.addEventListener("change",function(e,t,i){console.log(i.options[i.selectedIndex].value),n.drawMode=parseInt(i.options[i.selectedIndex].value)}.bind(a,i,o,m)),(m=document.getElementById("ENABLE_DEPTHTEST_"+o)).checked=!0===n.depthTest,m.addEventListener("click",function(e,t){e.depthTest=!0===t.checked}.bind(a,n,m)),(m=document.getElementById("ENABLE_BLEND_"+o)).checked=!0===n.blend,m.addEventListener("click",function(e,t){e.blend=!0===t.checked}.bind(a,n,m)),m=document.getElementById("BLEND_EQUATION_"+o);for(var b=0;b<m.options.length;b++)if(m.options[b].value===n.blendEquation){m.selectedIndex=b;break}m.addEventListener("change",function(e,t){e.blendEquation=t.options[t.selectedIndex].value}.bind(a,n,m)),m=document.getElementById("BLEND_source_"+o);for(var E=0;E<m.options.length;E++)if(m.options[E].value===n.blendSrcMode){m.selectedIndex=E;break}m.addEventListener("change",function(e,t){e.blendSrcMode=t.options[t.selectedIndex].value}.bind(a,n,m)),m=document.getElementById("BLEND_destination_"+o);for(var C=0;C<m.options.length;C++)if(m.options[C].value===n.blendDstMode){m.selectedIndex=C;break}m.addEventListener("change",function(e,t){e.blendDstMode=t.options[t.selectedIndex].value}.bind(a,n,m)),u="<div id='DIVID_"+o+"_fps' style='display:table-cell;vertical-align:top;min-width:50px;max-width:50px;border:1px solid #333;'><div style='height:250px;'>",u+="</div>",l=!1;for(var T in s){var x=s[T],P=!1;for(var w in n.in_fragment_values)if(T===w){P=!0,u+="<div style='height:13px;background:rgba(150,150,255,"+(!0===l?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==x?"white":"black")+";'>_</span>-";break}!1===P&&(u+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-");for(var L="",S=0;S<n.output.length;S++)if(T===n.output[S]){L="<div style='display:inline-block;color:black;'>UPDATE</div>";break}u+=L+"</div>",l=!l}u+="</div>",ActionHelpers.appendStringChild(u,t)}(u)};i.UIComponentGPU_Vfp=s,t.exports.UIComponentGPU_Vfp=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16}],38:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e("webclgl");var a=n.Utils=function(){function e(){o(this,e),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}return s(e,[{key:"getImageFromCanvas",value:function(e,t){var n=document.createElement("img");n.onload=function(){t(n)},n.src=e.toDataURL()}},{key:"pack",value:function(t){var n=[1/255,1/255,1/255,0],i=t,o=e.fract(255*i),r=e.fract(255*o),s=[i,o,r,e.fract(255*r)],a=[s[1]*n[0],s[2]*n[1],s[3]*n[2],s[3]*n[3]];return[s[0]-a[0],s[1]-a[1],s[2]-a[2],s[3]-a[3]]}},{key:"unpack",value:function(t){var n=[1,1/255,1/65025,1/16581375];return e.dot4(t,n)}}],[{key:"getCanvasFromUint8Array",value:function(e,t,n){var i=document.createElement("canvas");i.width=t,i.height=n;for(var o=i.getContext("2d"),r=o.createImageData(t,n),s=0;s<r.data.length;s++)r.data[s]=e[s];return o.putImageData(r,0,0),i}},{key:"getUint8ArrayFromHTMLImageElement",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}},{key:"getVector",value:function(t,n){var i=e.cartesianToSpherical(t),o=i.lat,r=i.lng;return o+=n*(180*Math.random()-90),r+=n*(180*Math.random()-90),e.sphericalToCartesian(1,o,r)}},{key:"getVectorGLSLFunctionString",value:function(){return"vec3 getVector(vec3 vecNormal, float degrees, vec2 vecNoise) {\nvec3 ob = cartesianToSpherical(vecNormal);float angleLat = ob.y;float angleLng = ob.z;float desvLat = (vecNoise.x*180.0)-90.0;float desvLng = (vecNoise.y*180.0)-90.0;angleLat += (degrees*desvLat);angleLng += (degrees*desvLng);return sphericalToCartesian(vec3(1.0, angleLat, angleLng));}\n"}},{key:"cartesianToSpherical",value:function(t){var n=Math.sqrt(t.e[0]*t.e[0]+t.e[1]*t.e[1]+t.e[2]*t.e[2]);return{radius:n,lat:e.radToDeg(Math.acos(t.e[1]/n)),lng:e.radToDeg(Math.atan2(t.e[2],t.e[0]))}}},{key:"cartesianToSphericalGLSLFunctionString",value:function(){return"vec3 cartesianToSpherical(vec3 vect) {\nfloat r = sqrt(vect.x*vect.x + vect.y*vect.y + vect.z*vect.z);float angleLat = radToDeg(acos(vect.y/r));float angleLng = radToDeg(atan(vect.z, vect.x));return vec3(r, angleLat, angleLng);}\n"}},{key:"sphericalToCartesian",value:function(t,n,i){var o=t,r=e.degToRad(n),s=e.degToRad(i),a=o*Math.sin(r)*Math.cos(s),l=o*Math.sin(r)*Math.sin(s),u=o*Math.cos(r);return new StormV3([a,u,l])}},{key:"sphericalToCartesianGLSLFunctionString",value:function(){return"vec3 sphericalToCartesian(vec3 vect) {\nfloat r = vect.x;float angleLat = degToRad(vect.y);float angleLng = degToRad(vect.z);float x = r*sin(angleLat)*cos(angleLng);float z = r*sin(angleLat)*sin(angleLng);float y = r*cos(angleLat);return vec3(x,y,z);}\n"}},{key:"refract",value:function(e,t,n,i){var o=n/i,r=-1*t.dot(e),s=1-o*o*(1-r*r);return e.x(o).add(t.x(o*r-Math.sqrt(s)))}},{key:"degToRad",value:function(e){return 3.14159*e/180}},{key:"degToRadGLSLFunctionString",value:function(){return"float degToRad(float deg) {return (deg*3.14159)/180.0;}"}},{key:"radToDeg",value:function(e){return e*(180/3.14159)}},{key:"radToDegGLSLFunctionString",value:function(){return"float radToDeg(float rad) {return rad*(180.0/3.14159);}"}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}},{key:"rgbToHex",value:function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)}},{key:"invsqrt",value:function(e){return 1/e}},{key:"smoothstep",value:function(e,t,n){if(n<e)return 0;if(n>=t)return 1;if(e===t)return-1;var i=(n-e)/(t-e);return i*i*(3-2*i)}},{key:"dot4",value:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},{key:"fract",value:function(e){return e>0?e-Math.floor(e):e-Math.ceil(e)}},{key:"packGLSLFunctionString",value:function(){return"vec4 pack (float depth) {const vec4 bias = vec4( 1.0 / 255.0,1.0 / 255.0,1.0 / 255.0,0.0);float r = depth;float g = fract(r * 255.0);float b = fract(g * 255.0);float a = fract(b * 255.0);vec4 colour = vec4(r, g, b, a);return colour - (colour.yzww * bias);}"}},{key:"unpackGLSLFunctionString",value:function(){return"float unpack (vec4 colour) {const vec4 bitShifts = vec4(1.0,1.0 / 255.0,1.0 / (255.0 * 255.0),1.0 / (255.0 * 255.0 * 255.0));return dot(colour, bitShifts);}"}},{key:"rayTraversalInitSTR",value:function(){return"float wh = ceil(sqrt(uResolution*uResolution*uResolution));\nfloat cs = uGridsize/uResolution;\nfloat chs = cs/2.0;\nfloat texelSize = 1.0/(wh-1.0);\nvec3 gl = vec3(-(uGridsize/2.0), -(uGridsize/2.0), -(uGridsize/2.0));\nvec3 _r = vec3(uGridsize, uGridsize, uGridsize);\nvec3 _rRes = vec3(uResolution, uResolution, uResolution);\nvec3 _len = _r/_rRes;\nvec3 worldToVoxel(vec3 world) {\nvec3 ijk = (world - gl) / _len;\nijk = vec3(floor(ijk.x), floor(ijk.y), floor(ijk.z));\nreturn ijk;\n}\nfloat voxelToWorldX(float x) {return x * _len.x + gl.x;}\nfloat voxelToWorldY(float y) {return y * _len.y + gl.y;}\nfloat voxelToWorldZ(float z) {return z * _len.z + gl.z;}\n"}},{key:"rayTraversalSTR",value:function(e){return"vec2 getId(vec3 voxel) {\nint tex3dId = (int(voxel.y)*(int(uResolution)*int(uResolution)))+(int(voxel.z)*(int(uResolution)))+int(voxel.x);\nfloat num = float(tex3dId)/wh;\nfloat col = fract(num)*wh;\nfloat row = floor(num);\nreturn vec2(col*texelSize, row*texelSize);\n}\nvec4 getVoxel_Color(vec2 texVec, vec3 voxel, vec3 RayOrigin) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelColor[vec2(texVec.x, texVec.y)];\nif(texture.a/255.0 > 0.5) {\nrgba = vec4(texture.rgb/255.0,distance(vec3(voxelToWorldX(voxel.x), voxelToWorldX(voxel.y), voxelToWorldX(voxel.z)),RayOrigin));\n}\nreturn rgba;\n}\nvec4 getVoxel_Pos(vec2 texVec) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelPos[vec2(texVec.x, texVec.y)];\nrgba = vec4( ((texture.xyz/255.0)*uGridsize)-(uGridsize/2.0), 1.0);\nreturn rgba;\n}\nvec4 getVoxel_Normal(vec2 texVec) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelNormal[vec2(texVec.x, texVec.y)];\nrgba = vec4(((texture.rgb/255.0)*2.0)-1.0, 1.0);\nreturn rgba;\n}\nstruct RayTraversalResponse {vec4 voxelColor;vec4 voxelPos;vec4 voxelNormal;};RayTraversalResponse rayTraversal(vec3 RayOrigin, vec3 RayDir) {\nvec4 fvoxelColor = vec4(0.0, 0.0, 0.0, 0.0);vec4 fvoxelPos = vec4(0.0, 0.0, 0.0, 0.0);vec4 fvoxelNormal = vec4(0.0, 0.0, 0.0, 0.0);vec3 voxel = worldToVoxel(RayOrigin);vec3 _dir = normalize(RayDir);vec3 tMax;if(RayDir.x < 0.0) tMax.x = (voxelToWorldX(voxel.x)-RayOrigin.x)/RayDir.x;if(RayDir.x > 0.0) tMax.x = (voxelToWorldX(voxel.x+1.0)-RayOrigin.x)/RayDir.x;if(RayDir.y < 0.0) tMax.y = (voxelToWorldY(voxel.y)-RayOrigin.y)/RayDir.y;if(RayDir.y < 0.0) tMax.y = (voxelToWorldY(voxel.y+1.0)-RayOrigin.y)/RayDir.y;if(RayDir.z < 0.0) tMax.z = (voxelToWorldZ(voxel.z)-RayOrigin.z)/RayDir.z;if(RayDir.z < 0.0) tMax.z = (voxelToWorldZ(voxel.z+1.0)-RayOrigin.z)/RayDir.z;float tDeltaX = _r.x/abs(RayDir.x);float tDeltaY = _r.y/abs(RayDir.y);float tDeltaZ = _r.z/abs(RayDir.z);float stepX = 1.0; float stepY = 1.0; float stepZ = 1.0;\nfloat outX = _r.x; float outY = _r.y; float outZ = _r.z;\nif(RayDir.x < 0.0) {stepX = -1.0; outX = -1.0;}if(RayDir.y < 0.0) {stepY = -1.0; outY = -1.0;}if(RayDir.z < 0.0) {stepZ = -1.0; outZ = -1.0;}vec4 color = vec4(0.0,0.0,0.0,0.0);\nbool c1; bool c2; bool c3; bool isOut;vec2 vid;for(int c = 0; c < "+e+"*2; c++) {\nc1 = bool(tMax.x < tMax.y);c2 = bool(tMax.x < tMax.z);c3 = bool(tMax.y < tMax.z);isOut = false;if (c1 && c2) {voxel.x += stepX;if(voxel.x==outX) isOut=true;tMax.x += tDeltaX;} else if(( (c1 && !c2) || (!c1 && !c3) )) {voxel.z += stepZ;if(voxel.z==outZ) isOut=true;tMax.z += tDeltaZ;} else if(!c1 && c3) {voxel.y += stepY;if(voxel.y==outY) isOut=true;tMax.y += tDeltaY;}if(isOut == true) break;\nelse {if((voxel.x >= 0.0 && voxel.x <= _rRes.x && voxel.y >= 0.0 && voxel.y <= _rRes.y && voxel.z >= 0.0 && voxel.z <= _rRes.z)) {;\nvid = getId(voxel);vec4 vcc = getVoxel_Color(vid, voxel, RayOrigin);if(vcc.a != 0.0) {fvoxelColor = vcc;break;\n}}}}fvoxelPos = getVoxel_Pos(vid);fvoxelNormal = getVoxel_Normal(vid);return RayTraversalResponse(fvoxelColor, fvoxelPos, fvoxelNormal);}\n"}},{key:"isPowerOfTwo",value:function(e){return 0==(e&e-1)}},{key:"nextHighestPowerOfTwo",value:function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}},{key:"getElementPosition",value:function(e){for(var t=e,n=0,i=0;"object"===(void 0===t?"undefined":r(t))&&void 0!==t.tagName;)i+=t.offsetTop,n+=t.offsetLeft,"BODY"===t.tagName.toUpperCase()&&(t=0),"object"===(void 0===t?"undefined":r(t))&&"object"===r(t.offsetParent)&&(t=t.offsetParent);return{x:n,y:i}}},{key:"getWebGLContextFromCanvas",value:function(e,t){return WebCLGLUtils.getWebGLContextFromCanvas(e,t)}},{key:"fullScreen",value:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}]),e}();i.Utils=a,t.exports.Utils=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{webclgl:6}],39:[function(e,t,n){(function(e){"use strict";function i(e){this.getSrc=function(){return[["RGB"],"varying vec4 vVN;\nvarying vec4 vVT;\nvarying float vVTU;\n","vec4 vp = vertexPos[];\nvec4 vn = vertexNormal[];\nvec4 vt = vertexTexture[];\nfloat vtu = vertexTextureUnit[];\nvVN = vn;vVT = vt;vVTU = vtu;gl_Position = PMatrix * cameraWMatrix * nodeWMatrix * vp;\n","varying vec4 vVN;\nvarying vec4 vVT;\nvarying float vVTU;\n","vec4 textureColor = texture2D(texAlbedo, vVT.xy);\nreturn [textureColor];\n"]}}Object.defineProperty(n,"__esModule",{value:!0}),n.VFP_RGB=i,e.VFP_RGB=i,t.exports.VFP_RGB=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){(function(n){"use strict";e("./ArrayGenerator.class"),e("./Component.class"),e("./Component_GPU.class"),e("./ComponentControllerTransformTarget.class"),e("./ComponentKeyboardEvents.class"),e("./ComponentMouseEvents.class"),e("./ComponentProjection.class"),e("./ComponentTransform.class"),e("./ComponentTransformTarget.class"),e("./Constants"),e("./Mesh.class"),e("./Node.class"),e("./Project.class"),e("./SCE.class"),e("./Stage.class"),e("./StormMath.class"),e("./SystemEvents.class"),e("./Utils.class"),e("./VFP_RGB.class"),e("./Prefabs/Grid/Grid.class"),e("./Prefabs/SimpleCamera/SimpleCamera.class"),e("./Prefabs/SimpleNode/SimpleNode.class"),e("./UI/DraggabillyS.class"),e("./UI/PanelNode.class"),e("./UI/PanelNumberGenerator.class"),e("./UI/PanelStage.class"),e("./UI/UI.class"),e("./UI/UIComponentGPU.class"),e("./UI/UIComponentGPU_Argument.class"),e("./UI/UIComponentGPU_Indices.class"),e("./UI/UIComponentGPU_Kernel.class"),e("./UI/UIComponentGPU_Vfp.class"),t.exports.ArrayGenerator=n.ArrayGenerator=ArrayGenerator,t.exports.Component=n.Component=Component,t.exports.Component_GPU=n.Component_GPU=Component_GPU,t.exports.ComponentControllerTransformTarget=n.ComponentControllerTransformTarget=ComponentControllerTransformTarget,t.exports.ComponentKeyboardEvents=n.ComponentKeyboardEvents=ComponentKeyboardEvents,t.exports.ComponentMouseEvents=n.ComponentMouseEvents=ComponentMouseEvents,t.exports.ComponentProjection=n.ComponentProjection=ComponentProjection,t.exports.ComponentTransform=n.ComponentTransform=ComponentTransform,t.exports.ComponentTransformTarget=n.ComponentTransformTarget=ComponentTransformTarget,t.exports.Constants=n.Constants=Constants,t.exports.Mesh=n.Mesh=Mesh,t.exports.Node=n.Node=Node,t.exports.Project=n.Project=Project,t.exports.SCE=n.SCE=SCE,t.exports.Stage=n.Stage=Stage,t.exports.StormM16=n.StormM16=StormM16,t.exports.StormV3=n.StormV3=StormV3,t.exports.SystemEvents=n.SystemEvents=SystemEvents,t.exports.Utils=n.Utils=Utils,t.exports.VFP_RGB=n.VFP_RGB=VFP_RGB,t.exports.Grid=n.Grid=Grid,t.exports.SimpleCamera=n.SimpleCamera=SimpleCamera,t.exports.SimpleNode=n.SimpleNode=SimpleNode,t.exports.DraggabillyS=n.DraggabillyS=DraggabillyS,t.exports.PanelNode=n.PanelNode=PanelNode,t.exports.PanelNumberGenerator=n.PanelNumberGenerator=PanelNumberGenerator,t.exports.PanelStage=n.PanelStage=PanelStage,t.exports.UI=n.UI=UI,t.exports.UIComponentGPU=n.UIComponentGPU=UIComponentGPU,t.exports.UIComponentGPU_Argument=n.UIComponentGPU_Argument=UIComponentGPU_Argument,t.exports.UIComponentGPU_Indices=n.UIComponentGPU_Indices=UIComponentGPU_Indices,t.exports.UIComponentGPU_Kernel=n.UIComponentGPU_Kernel=UIComponentGPU_Kernel,t.exports.UIComponentGPU_Vfp=n.UIComponentGPU_Vfp=UIComponentGPU_Vfp}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ArrayGenerator.class":7,"./Component.class":8,"./ComponentControllerTransformTarget.class":9,"./ComponentKeyboardEvents.class":10,"./ComponentMouseEvents.class":11,"./ComponentProjection.class":12,"./ComponentTransform.class":13,"./ComponentTransformTarget.class":14,"./Component_GPU.class":15,"./Constants":16,"./Mesh.class":17,"./Node.class":18,"./Prefabs/Grid/Grid.class":19,"./Prefabs/SimpleCamera/SimpleCamera.class":20,"./Prefabs/SimpleNode/SimpleNode.class":21,"./Project.class":22,"./SCE.class":23,"./Stage.class":24,"./StormMath.class":25,"./SystemEvents.class":26,"./UI/DraggabillyS.class":28,"./UI/PanelNode.class":29,"./UI/PanelNumberGenerator.class":30,"./UI/PanelStage.class":31,"./UI/UI.class":32,"./UI/UIComponentGPU.class":33,"./UI/UIComponentGPU_Argument.class":34,"./UI/UIComponentGPU_Indices.class":35,"./UI/UIComponentGPU_Kernel.class":36,"./UI/UIComponentGPU_Vfp.class":37,"./Utils.class":38,"./VFP_RGB.class":39}]},{},[40]);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.VFP_NODE = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

require("scejs");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var VFP_NODE = exports.VFP_NODE = function () {
    function VFP_NODE() {
        _classCallCheck(this, VFP_NODE);
    }

    _createClass(VFP_NODE, null, [{
        key: "getSrc",
        value: function getSrc(customCode, geometryLength) {
            return [["RGB"],

            //██╗   ██╗███████╗██████╗ ████████╗███████╗██╗  ██╗    ██╗  ██╗███████╗ █████╗ ██████╗
            //██║   ██║██╔════╝██╔══██╗╚══██╔══╝██╔════╝╚██╗██╔╝    ██║  ██║██╔════╝██╔══██╗██╔══██╗
            //██║   ██║█████╗  ██████╔╝   ██║   █████╗   ╚███╔╝     ███████║█████╗  ███████║██║  ██║
            //╚██╗ ██╔╝██╔══╝  ██╔══██╗   ██║   ██╔══╝   ██╔██╗     ██╔══██║██╔══╝  ██╔══██║██║  ██║
            // ╚████╔╝ ███████╗██║  ██║   ██║   ███████╗██╔╝ ██╗    ██║  ██║███████╗██║  ██║██████╔╝
            //  ╚═══╝  ╚══════╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═╝  ╚═╝    ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝
            'varying vec4 vVertexColor;\n' + 'varying vec4 vVertexColorNetError;\n' + 'varying vec4 vUV;\n' + 'varying vec2 vVertexUV;\n' + 'varying float vUseTex;\n' + 'varying vec4 vWNMatrix;\n' + 'varying float vNodeId;\n' + 'varying float vNodeIdOpposite;\n' + 'varying float vDist;\n' + 'varying float vIsSelected;\n' + 'varying float vIsHover;\n' + 'varying float vUseCrosshair;\n' + 'varying float vIstarget;\n' + 'vec2 get2Dfrom1D(float idx, float columns) {' + 'float n = idx/columns;' + 'float row = float(int(n));' + 'float col = fract(n)*columns;' + 'float ts = 1.0/columns;' + 'return vec2(ts*col, ts*row);' + '}' + "float getDigit(float planeId, float value) {           \t\t\n       \t\t    if(value >= 0.0 && planeId == 1.0) return 39.0;\n       \t\t    \n           \t\tif(value < 0.0 && planeId == 0.0) return 38.0;\n       \t\t    if(value < 0.0 && planeId == 2.0) return 39.0;\n       \t\t     \n       \t\t    float val = value;                         \n                float selectedDigit = 0.0;\n                for(int n=0; n <= 12; n++) {\n                    float num = floor(abs(val));\n                    if(num == 0.0) {                                \n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                        }\n                    } else if(num == 1.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -10.0 : 10.0;\n                        }                    \n                    } else if(num == 2.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -20.0 : 20.0;\n                        }                   \n                    } else if(num == 3.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -30.0 : 30.0;\n                        }                    \n                    } else if(num == 4.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -40.0 : 40.0;\n                        }                     \n                    } else if(num == 5.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -50.0 : 50.0;\n                        }                    \n                    } else if(num == 6.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -60.0 : 60.0;\n                        }                   \n                    } else if(num == 7.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -70.0 : 70.0;\n                        }                  \n                    } else if(num == 8.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -80.0 : 80.0;\n                        }                 \n                    } else if(num == 9.0) {\n                        if((value >= 0.0) && ((n == 0 && n == int(planeId)) || (n > 0 && n == int(planeId)-1))) {\n                            selectedDigit = num; break;\n                        } else if((value < 0.0) && ((n == 0 && n == int(planeId)-1) || (n > 0 && n == int(planeId)-2))) {\n                            selectedDigit = num; break;\n                        } else {\n                            val *= 10.0;\n                            val += (val >= 0.0) ? -90.0 : 90.0;\n                        }               \n                    }\n                }\n                selectedDigit = abs(floor(selectedDigit));\n                if(selectedDigit == 0.0) {\n                    return 28.0;\n                } else if(selectedDigit == 1.0) {\n                    return 29.0;\n                } else if(selectedDigit == 2.0) {\n                    return 30.0;\n                } else if(selectedDigit == 3.0) {\n                    return 31.0;\n                } else if(selectedDigit == 4.0) {\n                    return 32.0;\n                } else if(selectedDigit == 5.0) {\n                    return 33.0;\n                } else if(selectedDigit == 6.0) {\n                    return 34.0;\n                } else if(selectedDigit == 7.0) {\n                    return 35.0;\n                } else if(selectedDigit == 8.0) {\n                    return 36.0;\n                } else if(selectedDigit == 9.0) {\n                    return 37.0;\n                }\n            }" + 'mat4 lookAt(vec3 eye, vec3 center, vec3 up) {' + 'vec3 zaxis = normalize(center - eye);' + 'vec3 xaxis = normalize(cross(up, zaxis));' + 'vec3 yaxis = cross(zaxis, xaxis);' + 'mat4 matrix;' +
            //Column Major
            'matrix[0][0] = xaxis.x;' + 'matrix[1][0] = yaxis.x;' + 'matrix[2][0] = zaxis.x;' + 'matrix[3][0] = 0.0;' + 'matrix[0][1] = xaxis.y;' + 'matrix[1][1] = yaxis.y;' + 'matrix[2][1] = zaxis.y;' + 'matrix[3][1] = 0.0;' + 'matrix[0][2] = xaxis.z;' + 'matrix[1][2] = yaxis.z;' + 'matrix[2][2] = zaxis.z;' + 'matrix[3][2] = 0.0;' + 'matrix[0][3] = -dot(xaxis, eye);' + 'matrix[1][3] = -dot(yaxis, eye);' + 'matrix[2][3] = -dot(zaxis, eye);' + 'matrix[3][3] = 1.0;' + 'return matrix;' + '}' + 'mat4 transpose(mat4 m) {' + 'return mat4(  m[0][0], m[1][0], m[2][0], m[3][0],' + 'm[0][1], m[1][1], m[2][1], m[3][1],' + 'm[0][2], m[1][2], m[2][2], m[3][2],' + 'm[0][3], m[1][3], m[2][3], m[3][3]);' + '}' + 'mat4 rotationMatrix(vec3 axis, float angle) {' + 'axis = normalize(axis);' + 'float s = sin(angle);' + 'float c = cos(angle);' + 'float oc = 1.0 - c;' + 'return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,' + 'oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,' + 'oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,' + '0.0,                                0.0,                                0.0,                                1.0);' + '}' + Utils.degToRadGLSLFunctionString() + Utils.radToDegGLSLFunctionString() + Utils.cartesianToSphericalGLSLFunctionString() + Utils.sphericalToCartesianGLSLFunctionString() + Utils.getVectorGLSLFunctionString(),

            //██╗   ██╗███████╗██████╗ ████████╗███████╗██╗  ██╗    ███████╗ ██████╗ ██╗   ██╗██████╗  ██████╗███████╗
            //██║   ██║██╔════╝██╔══██╗╚══██╔══╝██╔════╝╚██╗██╔╝    ██╔════╝██╔═══██╗██║   ██║██╔══██╗██╔════╝██╔════╝
            //██║   ██║█████╗  ██████╔╝   ██║   █████╗   ╚███╔╝     ███████╗██║   ██║██║   ██║██████╔╝██║     █████╗
            //╚██╗ ██╔╝██╔══╝  ██╔══██╗   ██║   ██╔══╝   ██╔██╗     ╚════██║██║   ██║██║   ██║██╔══██╗██║     ██╔══╝
            // ╚████╔╝ ███████╗██║  ██║   ██║   ███████╗██╔╝ ██╗    ███████║╚██████╔╝╚██████╔╝██║  ██║╚██████╗███████╗
            //  ╚═══╝  ╚══════╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═╝  ╚═╝    ╚══════╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝ ╚═════╝╚══════╝
            "\n            mat4 nodepos = nodeWMatrix;\n            \n            vec4 nodeVertexPosition = nodeVertexPos[];\n            vec4 nodeVertexTex = nodeVertexTexture[];\n            \n            float nodeId = data[].x;            \n            vec2 xGeometryNode = get_global_id(nodeId, bufferNodesWidth, " + geometryLength.toFixed(1) + ("); " + "\n\n            vec4 currentPosition = posXYZW[xGeometryNode];\n            vec3 oppositePosition = vec3(0.0, 0.0, 0.0);\n            \n\n            float currentLineVertex = data[].z; " + "\n            float vertexCount = 1.0;\n                \n            vec4 nodeVertexColor = vec4(1.0, 1.0, 1.0, 1.0);\n            vec4 nodeVertexColorNetError = vec4(1.0, 1.0, 1.0, 1.0);\n            vVertexUV = vec2(-1.0, -1.0);\n\n            if(isNode == 1.0) {\n                float foutput = dataB[xGeometryNode].z;\n                float error = dataB[xGeometryNode].y;\n            \n                currentPosition += vec4(0.0, 0.1, 0.0, 1.0);\n\n                mat4 mm = rotationMatrix(vec3(1.0,0.0,0.0), (3.1416/2.0)*3.0);\n                nodepos = nodepos*mm;\n                float nodeImgId = nodeImgId[];\n\n                if(nodeImgId != -1.0) {\n                    vUseTex = 1.0;\n                    vVertexUV = get2Dfrom1D(nodeImgId, nodeImgColumns)+vec2(nodeVertexTexture.x/nodeImgColumns,nodeVertexTexture.y/nodeImgColumns);\n                }\n\n                nodeVertexColor = vec4(0.0, 0.0, 0.0, 1.0);\n                if(foutput > 0.0) {\n                    nodeVertexColor = vec4(abs(foutput), abs(foutput), abs(foutput), 1.0);\n                } else if(foutput < 0.0) {\n                    nodeVertexColor = vec4(abs(foutput), 0.0, 0.0, 1.0);\n                }\n\n                if(error > 0.0) {\n                    nodeVertexColorNetError = vec4(0.0, abs(error), 0.0, 1.0);\n                } else if(error < 0.0) {\n                    nodeVertexColorNetError = vec4(abs(error), 0.0, 0.0, 1.0);\n                } else {\n                    nodeVertexColorNetError = vec4(0.0,0.0,0.0, 0.0);\n                }\n\n                vIsSelected = (idToDrag == data[].x) ? 1.0 : 0.0;\n                vIsHover = (idToHover == data[].x) ? 1.0 : 0.0;\n            }\n            if(isLink == 1.0) {        \n                float foutput = dataB[xGeometryNode].z;\n                float error = dataB[xGeometryNode].w;\n                \n                float nodeIdOpposite = data[].y;\n                \n                vec2 xGeometryNode_opposite = get_global_id(nodeIdOpposite, bufferNodesWidth, ") + geometryLength.toFixed(1) + (");\n                vec3 oppositePosition = posXYZW[xGeometryNode_opposite].xyz;\n                \n                " + VFP_NODE.linkStr() + "\n            \n                currentPosition += vec4(dirN*(lineIncrements*currentLineVertex), 1.0); " + "\n\n                vIsSelected = (idToDrag == data[].x || idToDrag == data[].y) ? 1.0 : 0.0;\n                vIsHover = (idToHover == data[].x || idToHover == data[].y) ? 1.0 : 0.0;\n                \n                nodeVertexColor = vec4(abs(foutput), abs(foutput), abs(foutput), 1.0);\n\n                if(error > 0.0) {\n                    nodeVertexColorNetError = vec4(0.0, abs(error), 0.0, 1.0);\n                } else if(error < 0.0) {\n                    nodeVertexColorNetError = vec4(abs(error), 0.0, 0.0, 1.0);\n                } else {\n                    nodeVertexColorNetError = vec4(0.0,0.0,0.0, 0.0);\n                }\n                        \n                vNodeIdOpposite = nodeIdOpposite;\n            }\n            if(isArrow == 1.0) {\n                float nodeIdOpposite = data[].y;\n                \n                vec2 xGeometryNode_opposite = get_global_id(nodeIdOpposite, bufferNodesWidth, ") + geometryLength.toFixed(1) + (");\n                vec3 oppositePosition = posXYZW[xGeometryNode_opposite].xyz;\n                \n                " + VFP_NODE.linkStr() + "                \n            \n                vec3 currentPositionTMP;\n                " + "\n                float currentLineVertexU = vertexCount-1.0;\n                currentPositionTMP = oppositePosition+((dirN*-1.0)*(lineIncrements*currentLineVertexU));\n\n                mat4 pp = lookAt(currentPositionTMP, vec3(currentPosition.x, currentPosition.y, currentPosition.z), vec3(0.0, 1.0, 0.0));\n                pp = transpose(pp);\n                nodepos[0][0] = pp[0][0];\n                nodepos[0][1] = pp[1][0];\n                nodepos[0][2] = pp[2][0];\n\n                nodepos[1][0] = pp[0][1];\n                nodepos[1][1] = pp[1][1];\n                nodepos[1][2] = pp[2][1];\n\n                nodepos[2][0] = pp[0][2];\n                nodepos[2][1] = pp[1][2];\n                nodepos[2][2] = pp[2][2];\n\n                " + "\n                dir = currentPositionTMP-vec3(currentPosition.x, currentPosition.y, currentPosition.z);\n                currentPosition += vec4(normalize(dir),1.0)*2.0;\n\n                vIsSelected = (idToDrag == data[].x || idToDrag == data[].y) ? 1.0 : 0.0;\n                vIsHover = (idToHover == data[].x || idToHover == data[].y) ? 1.0 : 0.0;\n                \n                vNodeIdOpposite = nodeIdOpposite;\n            }\n            if(isNodeText == 1.0) {\n                float foutput = dataB[xGeometryNode].z;\n                \n                float letId = (showValues == 1.0) ? getDigit(data[].y, foutput) : letterId[];\n                mat4 mm = rotationMatrix(vec3(1.0,0.0,0.0), (3.1416/2.0)*3.0);\n                nodepos = nodepos*mm;\n\n                vVertexUV = get2Dfrom1D(letId, fontImgColumns)+vec2(nodeVertexTexture.x/fontImgColumns,nodeVertexTexture.y/fontImgColumns);\n                nodeVertexPosition = vec4(nodeVertexPosition.x*0.1, nodeVertexPosition.y*0.1, nodeVertexPosition.z*0.1, 1.0);\n                currentPosition.x += 3.5;\n                currentPosition.y += 0.5;\n\n                vIsSelected = (idToDrag == data[].x) ? 1.0 : 0.0;\n                vIsHover = (idToHover == data[].x) ? 1.0 : 0.0;\n                \n                vIstarget = (currentLineVertex == 1.0) ? 1.0 : 0.0;\n            }\n            nodepos[3][0] = currentPosition.x;\n            nodepos[3][1] = currentPosition.y;\n            nodepos[3][2] = currentPosition.z;\n\n            mat4 nodeposG = nodeWMatrix;\n            vWNMatrix = nodeposG * nodeVertexNormal[];\n\n            vUseCrosshair = 0.0;\n            \n\n            " + customCode + "\n            \n            vDist = max(0.3, 1.0-(distance(currentPosition.xyz, oppositePosition)*0.01)); " + "\n            vVertexColor = nodeVertexColor;\n            vVertexColorNetError = nodeVertexColorNetError;\n            vUV = nodeVertexTexture;\n            vNodeId = nodeId;\n\n\n            gl_Position = PMatrix * cameraWMatrix * nodepos * nodeVertexPosition;"),

            //███████╗██████╗  █████╗  ██████╗ ███╗   ███╗███████╗███╗   ██╗████████╗    ██╗  ██╗███████╗ █████╗ ██████╗
            //██╔════╝██╔══██╗██╔══██╗██╔════╝ ████╗ ████║██╔════╝████╗  ██║╚══██╔══╝    ██║  ██║██╔════╝██╔══██╗██╔══██╗
            //█████╗  ██████╔╝███████║██║  ███╗██╔████╔██║█████╗  ██╔██╗ ██║   ██║       ███████║█████╗  ███████║██║  ██║
            //██╔══╝  ██╔══██╗██╔══██║██║   ██║██║╚██╔╝██║██╔══╝  ██║╚██╗██║   ██║       ██╔══██║██╔══╝  ██╔══██║██║  ██║
            //██║     ██║  ██║██║  ██║╚██████╔╝██║ ╚═╝ ██║███████╗██║ ╚████║   ██║       ██║  ██║███████╗██║  ██║██████╔╝
            //╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═══╝   ╚═╝       ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝
            "varying vec4 vVertexColor;\n            varying vec4 vVertexColorNetError;\n            varying vec4 vUV;\n       \t\tvarying vec2 vVertexUV;\n       \t\tvarying float vUseTex;\n       \t\tvarying vec4 vWNMatrix;\n            varying float vNodeId;\n            varying float vNodeIdOpposite;\n       \t\tvarying float vDist;\n       \t\tvarying float vIsSelected;\n            varying float vIsHover;\n       \t\tvarying float vUseCrosshair;\n       \t\tvarying float vIstarget;",

            //███████╗██████╗  █████╗  ██████╗ ███╗   ███╗███████╗███╗   ██╗████████╗    ███████╗ ██████╗ ██╗   ██╗██████╗  ██████╗███████╗
            //██╔════╝██╔══██╗██╔══██╗██╔════╝ ████╗ ████║██╔════╝████╗  ██║╚══██╔══╝    ██╔════╝██╔═══██╗██║   ██║██╔══██╗██╔════╝██╔════╝
            //█████╗  ██████╔╝███████║██║  ███╗██╔████╔██║█████╗  ██╔██╗ ██║   ██║       ███████╗██║   ██║██║   ██║██████╔╝██║     █████╗
            //██╔══╝  ██╔══██╗██╔══██║██║   ██║██║╚██╔╝██║██╔══╝  ██║╚██╗██║   ██║       ╚════██║██║   ██║██║   ██║██╔══██╗██║     ██╔══╝
            //██║     ██║  ██║██║  ██║╚██████╔╝██║ ╚═╝ ██║███████╗██║ ╚████║   ██║       ███████║╚██████╔╝╚██████╔╝██║  ██║╚██████╗███████╗
            //╚═╝     ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝╚═╝  ╚═══╝   ╚═╝       ╚══════╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝ ╚═════╝╚══════╝
            'vec4 color = vVertexColor;\n' + 'vec4 colorB = vVertexColorNetError;\n' + 'vec4 colorOrange = vec4(255.0/255.0, 131.0/255.0, 0.0/255.0, 1.0);' + 'vec4 colorOrangeDark = vec4(255.0/255.0, 80.0/255.0, 0.0/255.0, 1.0);' + 'vec4 colorPurple = vec4(132.0/255.0, 0.0/255.0, 255.0/255.0, 1.0);' + 'vec4 fcolor = vec4(0.0, 0.0, 0.0, 1.0);' + 'if(isNode == 1.0) {' + 'if(vUseTex == 1.0) {' + 'vec4 tex;' + 'if(vUseCrosshair == 1.0) {' + 'tex = nodesImgCrosshair[vVertexUV.xy];' + '} else if(vIsSelected == 1.0) {' + 'color = colorOrangeDark;' + 'tex = nodesImgCrosshair[vVertexUV.xy];' + '} else if(vIsHover == 1.0) {' + 'color = colorPurple;' + 'tex = nodesImg[vVertexUV.xy];' + '} else {' + 'tex = nodesImg[vVertexUV.xy];' + '}' + 'color = ' + VFP_NODE.nodesDrawMode(geometryLength) + ';\n' + '}' + 'if(color.a < 0.1) discard;' + 'fcolor = color;\n' +
            // half up: ouput; half down: error
            'if(vUV.y > (0.7)) ' + 'fcolor = colorB;\n' + // 0.75-(colorB.w*1.0)   'fcolor = (vUV.y < (0.5)) ? color : ((colorB.w == 0.0)?color:colorB);\n'+
            '} else if(isLink == 1.0) {' + 'if(vIsSelected == 1.0) ' + 'color = colorOrange;' + 'else if(vIsHover == 1.0) ' + 'color = colorPurple;' +

            // weight color
            'vec2 xAdjMatCurrent = get_global_id(vec2(vNodeIdOpposite, vNodeId), widthAdjMatrix);' + 'vec4 pixAdjMatACurrent = adjacencyMatrix[xAdjMatCurrent];\n' +

            // x weight
            'if(pixAdjMatACurrent.z > 0.0) ' + 'fcolor = vec4(0.0, pixAdjMatACurrent.z, 0.0, abs(pixAdjMatACurrent.z));\n' + 'else ' + 'fcolor = vec4(abs(pixAdjMatACurrent.z), 0.0, 0.0, abs(pixAdjMatACurrent.z));\n' +

            // x output
            'if(multiplyOutput == 1.0) ' + 'fcolor *= vec4(color.xyz, 1.0);\n' + '} else if(isArrow == 1.0) {' + 'if(vIstarget == 1.0) {' + 'if(vIsSelected == 1.0) {' + 'color = vec4(colorOrange.rgb*vDist, 1.0);\n' + '} else if(vIsHover == 1.0) {' + 'color = vec4(colorPurple.rgb*vDist, 1.0);\n' + '}' + '} else {' + 'color = vec4(1.0, 0.0, 0.0, 0.0);' + '}' + 'fcolor = color;\n' + '} else if(isNodeText == 1.0) {' + 'fcolor = fontsImg[vVertexUV.xy];\n' + '}' + 'return [fcolor];'];
        }
    }, {
        key: "linkStr",
        value: function linkStr() {
            return "\n\t    vec3 dir = oppositePosition-vec3(currentPosition.x, currentPosition.y, currentPosition.z);\n        float dist = length(dir);\n        float lineIncrements = dist/vertexCount;\n        vec3 dirN = normalize(dir);\n\n        float repeatId = data[].w;\n        vec3 cr = cross(dirN, vec3(0.0, 1.0, 0.0));\n        float currentLineVertexSQRT = abs( currentLineVertex-(vertexCount/2.0) )/(vertexCount/2.0);\n        currentLineVertexSQRT = sqrt(1.0-currentLineVertexSQRT);";
        }
    }, {
        key: "nodesDrawMode",
        value: function nodesDrawMode(geometryLength) {
            if (geometryLength === 1) return "vec4(color.rgb, 1.0)";else return "vec4(tex.rgb*color.rgb, tex.a)";
        }
    }]);

    return VFP_NODE;
}();

global.VFP_NODE = VFP_NODE;
module.exports.VFP_NODE = VFP_NODE;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"scejs":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc2NlanMvZGlzdC9zY2Vqcy9TQ0VKUy5taW4uanMiLCJzcmMvZ2JyYWluL1ZGUF9OT0RFLmNsYXNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIiFmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIG8ocyxhKXtpZighbltzXSl7aWYoIXRbc10pe3ZhciBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmwpcmV0dXJuIGwocywhMCk7aWYocilyZXR1cm4gcihzLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3MrXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBjPW5bc109e2V4cG9ydHM6e319O3Rbc11bMF0uY2FsbChjLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtzXVsxXVtlXTtyZXR1cm4gbyhufHxlKX0sYyxjLmV4cG9ydHMsZSx0LG4saSl9cmV0dXJuIG5bc10uZXhwb3J0c31mb3IodmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPTA7czxpLmxlbmd0aDtzKyspbyhpW3NdKTtyZXR1cm4gb31yZXR1cm4gZX0oKSh7MTpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihuLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZ2V0LXNpemUvZ2V0LXNpemVcIixcInVuaWRyYWdnZXIvdW5pZHJhZ2dlclwiXSxmdW5jdGlvbihlLHQpe3JldHVybiBpKG4sZSx0KX0pOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzPWkobixlKFwiZ2V0LXNpemVcIiksZShcInVuaWRyYWdnZXJcIikpOm4uRHJhZ2dhYmlsbHk9aShuLG4uZ2V0U2l6ZSxuLlVuaWRyYWdnZXIpfSh3aW5kb3csZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gbyhlLHQpe3RoaXMuZWxlbWVudD1cInN0cmluZ1wiPT10eXBlb2YgZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmUscyYmKHRoaXMuJGVsZW1lbnQ9cyh0aGlzLmVsZW1lbnQpKSx0aGlzLm9wdGlvbnM9aSh7fSx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzKSx0aGlzLm9wdGlvbih0KSx0aGlzLl9jcmVhdGUoKX1mdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gbj1ufHxcInJvdW5kXCIsdD9NYXRoW25dKGUvdCkqdDplfXZhciBzPWUualF1ZXJ5LGE9by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSk7by5kZWZhdWx0cz17fSxhLm9wdGlvbj1mdW5jdGlvbihlKXtpKHRoaXMub3B0aW9ucyxlKX07dmFyIGw9e3JlbGF0aXZlOiEwLGFic29sdXRlOiEwLGZpeGVkOiEwfTtyZXR1cm4gYS5fY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbj17fSx0aGlzLl9nZXRQb3NpdGlvbigpLHRoaXMuc3RhcnRQb2ludD17eDowLHk6MH0sdGhpcy5kcmFnUG9pbnQ9e3g6MCx5OjB9LHRoaXMuc3RhcnRQb3NpdGlvbj1pKHt9LHRoaXMucG9zaXRpb24pO3ZhciBlPWdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KTtsW2UucG9zaXRpb25dfHwodGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy5vbihcInBvaW50ZXJEb3duXCIsdGhpcy5vblBvaW50ZXJEb3duKSx0aGlzLm9uKFwicG9pbnRlck1vdmVcIix0aGlzLm9uUG9pbnRlck1vdmUpLHRoaXMub24oXCJwb2ludGVyVXBcIix0aGlzLm9uUG9pbnRlclVwKSx0aGlzLmVuYWJsZSgpLHRoaXMuc2V0SGFuZGxlcygpfSxhLnNldEhhbmRsZXM9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXM9dGhpcy5vcHRpb25zLmhhbmRsZT90aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLm9wdGlvbnMuaGFuZGxlKTpbdGhpcy5lbGVtZW50XSx0aGlzLmJpbmRIYW5kbGVzKCl9LGEuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQsbil7dmFyIGk9W3RdLmNvbmNhdChuKTt0aGlzLmVtaXRFdmVudChlLGkpLHRoaXMuZGlzcGF0Y2hKUXVlcnlFdmVudChlLHQsbil9LGEuZGlzcGF0Y2hKUXVlcnlFdmVudD1mdW5jdGlvbih0LG4saSl7dmFyIG89ZS5qUXVlcnk7aWYobyYmdGhpcy4kZWxlbWVudCl7dmFyIHI9by5FdmVudChuKTtyLnR5cGU9dCx0aGlzLiRlbGVtZW50LnRyaWdnZXIocixpKX19LGEuX2dldFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5fZ2V0UG9zaXRpb25Db29yZChlLmxlZnQsXCJ3aWR0aFwiKSxuPXRoaXMuX2dldFBvc2l0aW9uQ29vcmQoZS50b3AsXCJoZWlnaHRcIik7dGhpcy5wb3NpdGlvbi54PWlzTmFOKHQpPzA6dCx0aGlzLnBvc2l0aW9uLnk9aXNOYU4obik/MDpuLHRoaXMuX2FkZFRyYW5zZm9ybVBvc2l0aW9uKGUpfSxhLl9nZXRQb3NpdGlvbkNvb3JkPWZ1bmN0aW9uKGUsbil7aWYoLTEhPWUuaW5kZXhPZihcIiVcIikpe3ZhciBpPXQodGhpcy5lbGVtZW50LnBhcmVudE5vZGUpO3JldHVybiBpP3BhcnNlRmxvYXQoZSkvMTAwKmlbbl06MH1yZXR1cm4gcGFyc2VJbnQoZSwxMCl9LGEuX2FkZFRyYW5zZm9ybVBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHJhbnNmb3JtO2lmKDA9PT10LmluZGV4T2YoXCJtYXRyaXhcIikpe3ZhciBuPXQuc3BsaXQoXCIsXCIpLGk9MD09PXQuaW5kZXhPZihcIm1hdHJpeDNkXCIpPzEyOjQsbz1wYXJzZUludChuW2ldLDEwKSxyPXBhcnNlSW50KG5baSsxXSwxMCk7dGhpcy5wb3NpdGlvbi54Kz1vLHRoaXMucG9zaXRpb24ueSs9cn19LGEub25Qb2ludGVyRG93bj1mdW5jdGlvbihlLHQpe3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaXMtcG9pbnRlci1kb3duXCIpLHRoaXMuZGlzcGF0Y2hKUXVlcnlFdmVudChcInBvaW50ZXJEb3duXCIsZSxbdF0pfSxhLmRyYWdTdGFydD1mdW5jdGlvbihlLHQpe3RoaXMuaXNFbmFibGVkJiYodGhpcy5fZ2V0UG9zaXRpb24oKSx0aGlzLm1lYXN1cmVDb250YWlubWVudCgpLHRoaXMuc3RhcnRQb3NpdGlvbi54PXRoaXMucG9zaXRpb24ueCx0aGlzLnN0YXJ0UG9zaXRpb24ueT10aGlzLnBvc2l0aW9uLnksdGhpcy5zZXRMZWZ0VG9wKCksdGhpcy5kcmFnUG9pbnQueD0wLHRoaXMuZHJhZ1BvaW50Lnk9MCx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlzLWRyYWdnaW5nXCIpLHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYWdTdGFydFwiLGUsW3RdKSx0aGlzLmFuaW1hdGUoKSl9LGEubWVhc3VyZUNvbnRhaW5tZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb250YWluZXIoKTtpZihlKXt2YXIgbj10KHRoaXMuZWxlbWVudCksaT10KGUpLG89dGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPWkuYm9yZGVyTGVmdFdpZHRoK2kuYm9yZGVyUmlnaHRXaWR0aCxhPWkuYm9yZGVyVG9wV2lkdGgraS5ib3JkZXJCb3R0b21XaWR0aCxsPXRoaXMucmVsYXRpdmVTdGFydFBvc2l0aW9uPXt4Om8ubGVmdC0oci5sZWZ0K2kuYm9yZGVyTGVmdFdpZHRoKSx5Om8udG9wLShyLnRvcCtpLmJvcmRlclRvcFdpZHRoKX07dGhpcy5jb250YWluU2l6ZT17d2lkdGg6aS53aWR0aC1zLWwueC1uLndpZHRoLGhlaWdodDppLmhlaWdodC1hLWwueS1uLmhlaWdodH19fSxhLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5jb250YWlubWVudDtpZihlKXJldHVybiBlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/ZTpcInN0cmluZ1wiPT10eXBlb2YgZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOnRoaXMuZWxlbWVudC5wYXJlbnROb2RlfSxhLm9uUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZGlzcGF0Y2hKUXVlcnlFdmVudChcInBvaW50ZXJNb3ZlXCIsZSxbdCxuXSl9LGEuZHJhZ01vdmU9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMuaXNFbmFibGVkKXt2YXIgaT1uLngsbz1uLnkscz10aGlzLm9wdGlvbnMuZ3JpZCxhPXMmJnNbMF0sbD1zJiZzWzFdO2k9cihpLGEpLG89cihvLGwpLGk9dGhpcy5jb250YWluRHJhZyhcInhcIixpLGEpLG89dGhpcy5jb250YWluRHJhZyhcInlcIixvLGwpLGk9XCJ5XCI9PXRoaXMub3B0aW9ucy5heGlzPzA6aSxvPVwieFwiPT10aGlzLm9wdGlvbnMuYXhpcz8wOm8sdGhpcy5wb3NpdGlvbi54PXRoaXMuc3RhcnRQb3NpdGlvbi54K2ksdGhpcy5wb3NpdGlvbi55PXRoaXMuc3RhcnRQb3NpdGlvbi55K28sdGhpcy5kcmFnUG9pbnQueD1pLHRoaXMuZHJhZ1BvaW50Lnk9byx0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmFnTW92ZVwiLGUsW3Qsbl0pfX0sYS5jb250YWluRHJhZz1mdW5jdGlvbihlLHQsbil7aWYoIXRoaXMub3B0aW9ucy5jb250YWlubWVudClyZXR1cm4gdDt2YXIgaT1cInhcIj09ZT9cIndpZHRoXCI6XCJoZWlnaHRcIixvPXIoLXRoaXMucmVsYXRpdmVTdGFydFBvc2l0aW9uW2VdLG4sXCJjZWlsXCIpLHM9dGhpcy5jb250YWluU2l6ZVtpXTtyZXR1cm4gcz1yKHMsbixcImZsb29yXCIpLE1hdGgubWF4KG8sTWF0aC5taW4ocyx0KSl9LGEub25Qb2ludGVyVXA9ZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImlzLXBvaW50ZXItZG93blwiKSx0aGlzLmRpc3BhdGNoSlF1ZXJ5RXZlbnQoXCJwb2ludGVyVXBcIixlLFt0XSl9LGEuZHJhZ0VuZD1mdW5jdGlvbihlLHQpe3RoaXMuaXNFbmFibGVkJiYodGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cIlwiLHRoaXMuc2V0TGVmdFRvcCgpLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtZHJhZ2dpbmdcIiksdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhZ0VuZFwiLGUsW3RdKSl9LGEuYW5pbWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNEcmFnZ2luZyl7dGhpcy5wb3NpdGlvbkRyYWcoKTt2YXIgZT10aGlzO3JlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2UuYW5pbWF0ZSgpfSl9fSxhLnNldExlZnRUb3A9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLngrXCJweFwiLHRoaXMuZWxlbWVudC5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi55K1wicHhcIn0sYS5wb3NpdGlvbkRyYWc9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlM2QoIFwiK3RoaXMuZHJhZ1BvaW50LngrXCJweCwgXCIrdGhpcy5kcmFnUG9pbnQueStcInB4LCAwKVwifSxhLnN0YXRpY0NsaWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5kaXNwYXRjaEV2ZW50KFwic3RhdGljQ2xpY2tcIixlLFt0XSl9LGEuc2V0UG9zaXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLnBvc2l0aW9uLng9ZSx0aGlzLnBvc2l0aW9uLnk9dCx0aGlzLnNldExlZnRUb3AoKX0sYS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZD0hMH0sYS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQ9ITEsdGhpcy5pc0RyYWdnaW5nJiZ0aGlzLmRyYWdFbmQoKX0sYS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlKCksdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cIlwiLHRoaXMuZWxlbWVudC5zdHlsZS5sZWZ0PVwiXCIsdGhpcy5lbGVtZW50LnN0eWxlLnRvcD1cIlwiLHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cIlwiLHRoaXMudW5iaW5kSGFuZGxlcygpLHRoaXMuJGVsZW1lbnQmJnRoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YShcImRyYWdnYWJpbGx5XCIpfSxhLl9pbml0PWZ1bmN0aW9uKCl7fSxzJiZzLmJyaWRnZXQmJnMuYnJpZGdldChcImRyYWdnYWJpbGx5XCIsbyksb30pfSx7XCJnZXQtc2l6ZVwiOjMsdW5pZHJhZ2dlcjo0fV0sMjpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlLG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUobik6XCJvYmplY3RcIj09dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHM9bigpOmUuRXZFbWl0dGVyPW4oKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoKXt9dmFyIHQ9ZS5wcm90b3R5cGU7cmV0dXJuIHQub249ZnVuY3Rpb24oZSx0KXtpZihlJiZ0KXt2YXIgbj10aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSxpPW5bZV09bltlXXx8W107cmV0dXJuLTE9PWkuaW5kZXhPZih0KSYmaS5wdXNoKHQpLHRoaXN9fSx0Lm9uY2U9ZnVuY3Rpb24oZSx0KXtpZihlJiZ0KXt0aGlzLm9uKGUsdCk7dmFyIG49dGhpcy5fb25jZUV2ZW50cz10aGlzLl9vbmNlRXZlbnRzfHx7fTtyZXR1cm4obltlXT1uW2VdfHx7fSlbdF09ITAsdGhpc319LHQub2ZmPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV07aWYobiYmbi5sZW5ndGgpe3ZhciBpPW4uaW5kZXhPZih0KTtyZXR1cm4tMSE9aSYmbi5zcGxpY2UoaSwxKSx0aGlzfX0sdC5lbWl0RXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXTtpZihuJiZuLmxlbmd0aCl7bj1uLnNsaWNlKDApLHQ9dHx8W107Zm9yKHZhciBpPXRoaXMuX29uY2VFdmVudHMmJnRoaXMuX29uY2VFdmVudHNbZV0sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcj1uW29dO2kmJmlbcl0mJih0aGlzLm9mZihlLHIpLGRlbGV0ZSBpW3JdKSxyLmFwcGx5KHRoaXMsdCl9cmV0dXJuIHRoaXN9fSx0LmFsbE9mZj1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9ldmVudHMsZGVsZXRlIHRoaXMuX29uY2VFdmVudHN9LGV9KX0se31dLDM6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKG4pOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzPW4oKTplLmdldFNpemU9bigpfSh3aW5kb3csZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3ZhciB0PXBhcnNlRmxvYXQoZSk7cmV0dXJuLTE9PWUuaW5kZXhPZihcIiVcIikmJiFpc05hTih0KSYmdH1mdW5jdGlvbiB0KCl7Zm9yKHZhciBlPXt3aWR0aDowLGhlaWdodDowLGlubmVyV2lkdGg6MCxpbm5lckhlaWdodDowLG91dGVyV2lkdGg6MCxvdXRlckhlaWdodDowfSx0PTA7dDxsO3QrKyllW2FbdF1dPTA7cmV0dXJuIGV9ZnVuY3Rpb24gbihlKXt2YXIgdD1nZXRDb21wdXRlZFN0eWxlKGUpO3JldHVybiB0fHxzKFwiU3R5bGUgcmV0dXJuZWQgXCIrdCtcIi4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gU2VlIGh0dHBzOi8vYml0Lmx5L2dldHNpemVidWcxXCIpLHR9ZnVuY3Rpb24gaSgpe2lmKCF1KXt1PSEwO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5zdHlsZS53aWR0aD1cIjIwMHB4XCIsdC5zdHlsZS5wYWRkaW5nPVwiMXB4IDJweCAzcHggNHB4XCIsdC5zdHlsZS5ib3JkZXJTdHlsZT1cInNvbGlkXCIsdC5zdHlsZS5ib3JkZXJXaWR0aD1cIjFweCAycHggM3B4IDRweFwiLHQuc3R5bGUuYm94U2l6aW5nPVwiYm9yZGVyLWJveFwiO3ZhciBpPWRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpLmFwcGVuZENoaWxkKHQpO3ZhciBzPW4odCk7cj0yMDA9PU1hdGgucm91bmQoZShzLndpZHRoKSksby5pc0JveFNpemVPdXRlcj1yLGkucmVtb3ZlQ2hpbGQodCl9fWZ1bmN0aW9uIG8obyl7aWYoaSgpLFwic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG8pKSxvJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmby5ub2RlVHlwZSl7dmFyIHM9bihvKTtpZihcIm5vbmVcIj09cy5kaXNwbGF5KXJldHVybiB0KCk7dmFyIHU9e307dS53aWR0aD1vLm9mZnNldFdpZHRoLHUuaGVpZ2h0PW8ub2Zmc2V0SGVpZ2h0O2Zvcih2YXIgYz11LmlzQm9yZGVyQm94PVwiYm9yZGVyLWJveFwiPT1zLmJveFNpemluZyxkPTA7ZDxsO2QrKyl7dmFyIGg9YVtkXSxmPXNbaF0scD1wYXJzZUZsb2F0KGYpO3VbaF09aXNOYU4ocCk/MDpwfXZhciBnPXUucGFkZGluZ0xlZnQrdS5wYWRkaW5nUmlnaHQsdj11LnBhZGRpbmdUb3ArdS5wYWRkaW5nQm90dG9tLF89dS5tYXJnaW5MZWZ0K3UubWFyZ2luUmlnaHQsbT11Lm1hcmdpblRvcCt1Lm1hcmdpbkJvdHRvbSx5PXUuYm9yZGVyTGVmdFdpZHRoK3UuYm9yZGVyUmlnaHRXaWR0aCxiPXUuYm9yZGVyVG9wV2lkdGgrdS5ib3JkZXJCb3R0b21XaWR0aCxFPWMmJnIsQz1lKHMud2lkdGgpOyExIT09QyYmKHUud2lkdGg9QysoRT8wOmcreSkpO3ZhciBUPWUocy5oZWlnaHQpO3JldHVybiExIT09VCYmKHUuaGVpZ2h0PVQrKEU/MDp2K2IpKSx1LmlubmVyV2lkdGg9dS53aWR0aC0oZyt5KSx1LmlubmVySGVpZ2h0PXUuaGVpZ2h0LSh2K2IpLHUub3V0ZXJXaWR0aD11LndpZHRoK18sdS5vdXRlckhlaWdodD11LmhlaWdodCttLHV9fXZhciByLHM9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGU/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoZSl9LGE9W1wicGFkZGluZ0xlZnRcIixcInBhZGRpbmdSaWdodFwiLFwicGFkZGluZ1RvcFwiLFwicGFkZGluZ0JvdHRvbVwiLFwibWFyZ2luTGVmdFwiLFwibWFyZ2luUmlnaHRcIixcIm1hcmdpblRvcFwiLFwibWFyZ2luQm90dG9tXCIsXCJib3JkZXJMZWZ0V2lkdGhcIixcImJvcmRlclJpZ2h0V2lkdGhcIixcImJvcmRlclRvcFdpZHRoXCIsXCJib3JkZXJCb3R0b21XaWR0aFwiXSxsPWEubGVuZ3RoLHU9ITE7cmV0dXJuIG99KX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24obixpKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInVuaXBvaW50ZXIvdW5pcG9pbnRlclwiXSxmdW5jdGlvbihlKXtyZXR1cm4gaShuLGUpfSk6XCJvYmplY3RcIj09dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHM9aShuLGUoXCJ1bmlwb2ludGVyXCIpKTpuLlVuaWRyYWdnZXI9aShuLG4uVW5pcG9pbnRlcil9KHdpbmRvdyxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt9dmFyIGk9bi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSk7aS5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCEwKX0saS51bmJpbmRIYW5kbGVzPWZ1bmN0aW9uKCl7dGhpcy5fYmluZEhhbmRsZXMoITEpfSxpLl9iaW5kSGFuZGxlcz1mdW5jdGlvbih0KXtmb3IodmFyIG49KHQ9dm9pZCAwPT09dHx8dCk/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsaT10P3RoaXMuX3RvdWNoQWN0aW9uVmFsdWU6XCJcIixvPTA7bzx0aGlzLmhhbmRsZXMubGVuZ3RoO28rKyl7dmFyIHI9dGhpcy5oYW5kbGVzW29dO3RoaXMuX2JpbmRTdGFydEV2ZW50KHIsdCkscltuXShcImNsaWNrXCIsdGhpcyksZS5Qb2ludGVyRXZlbnQmJihyLnN0eWxlLnRvdWNoQWN0aW9uPWkpfX0saS5fdG91Y2hBY3Rpb25WYWx1ZT1cIm5vbmVcIixpLnBvaW50ZXJEb3duPWZ1bmN0aW9uKGUsdCl7dGhpcy5va2F5UG9pbnRlckRvd24oZSkmJih0aGlzLnBvaW50ZXJEb3duUG9pbnRlcj10LGUucHJldmVudERlZmF1bHQoKSx0aGlzLnBvaW50ZXJEb3duQmx1cigpLHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoZSksdGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyRG93blwiLFtlLHRdKSl9O3ZhciBvPXtURVhUQVJFQTohMCxJTlBVVDohMCxTRUxFQ1Q6ITAsT1BUSU9OOiEwfSxyPXtyYWRpbzohMCxjaGVja2JveDohMCxidXR0b246ITAsc3VibWl0OiEwLGltYWdlOiEwLGZpbGU6ITB9O3JldHVybiBpLm9rYXlQb2ludGVyRG93bj1mdW5jdGlvbihlKXt2YXIgdD1vW2UudGFyZ2V0Lm5vZGVOYW1lXSxuPXJbZS50YXJnZXQudHlwZV0saT0hdHx8bjtyZXR1cm4gaXx8dGhpcy5fcG9pbnRlclJlc2V0KCksaX0saS5wb2ludGVyRG93bkJsdXI9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2UmJmUuYmx1ciYmZSE9ZG9jdW1lbnQuYm9keSYmZS5ibHVyKCl9LGkucG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9kcmFnUG9pbnRlck1vdmUoZSx0KTt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJNb3ZlXCIsW2UsdCxuXSksdGhpcy5fZHJhZ01vdmUoZSx0LG4pfSxpLl9kcmFnUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17eDp0LnBhZ2VYLXRoaXMucG9pbnRlckRvd25Qb2ludGVyLnBhZ2VYLHk6dC5wYWdlWS10aGlzLnBvaW50ZXJEb3duUG9pbnRlci5wYWdlWX07cmV0dXJuIXRoaXMuaXNEcmFnZ2luZyYmdGhpcy5oYXNEcmFnU3RhcnRlZChuKSYmdGhpcy5fZHJhZ1N0YXJ0KGUsdCksbn0saS5oYXNEcmFnU3RhcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnMoZS54KT4zfHxNYXRoLmFicyhlLnkpPjN9LGkucG9pbnRlclVwPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyVXBcIixbZSx0XSksdGhpcy5fZHJhZ1BvaW50ZXJVcChlLHQpfSxpLl9kcmFnUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCl7dGhpcy5pc0RyYWdnaW5nP3RoaXMuX2RyYWdFbmQoZSx0KTp0aGlzLl9zdGF0aWNDbGljayhlLHQpfSxpLl9kcmFnU3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmlzRHJhZ2dpbmc9ITAsdGhpcy5pc1ByZXZlbnRpbmdDbGlja3M9ITAsdGhpcy5kcmFnU3RhcnQoZSx0KX0saS5kcmFnU3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXRFdmVudChcImRyYWdTdGFydFwiLFtlLHRdKX0saS5fZHJhZ01vdmU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuaXNEcmFnZ2luZyYmdGhpcy5kcmFnTW92ZShlLHQsbil9LGkuZHJhZ01vdmU9ZnVuY3Rpb24oZSx0LG4pe2UucHJldmVudERlZmF1bHQoKSx0aGlzLmVtaXRFdmVudChcImRyYWdNb3ZlXCIsW2UsdCxuXSl9LGkuX2RyYWdFbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmlzRHJhZ2dpbmc9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmlzUHJldmVudGluZ0NsaWNrc30uYmluZCh0aGlzKSksdGhpcy5kcmFnRW5kKGUsdCl9LGkuZHJhZ0VuZD1mdW5jdGlvbihlLHQpe3RoaXMuZW1pdEV2ZW50KFwiZHJhZ0VuZFwiLFtlLHRdKX0saS5vbmNsaWNrPWZ1bmN0aW9uKGUpe3RoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzJiZlLnByZXZlbnREZWZhdWx0KCl9LGkuX3N0YXRpY0NsaWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5pc0lnbm9yaW5nTW91c2VVcCYmXCJtb3VzZXVwXCI9PWUudHlwZXx8KHRoaXMuc3RhdGljQ2xpY2soZSx0KSxcIm1vdXNldXBcIiE9ZS50eXBlJiYodGhpcy5pc0lnbm9yaW5nTW91c2VVcD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuaXNJZ25vcmluZ01vdXNlVXB9LmJpbmQodGhpcyksNDAwKSkpfSxpLnN0YXRpY0NsaWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0RXZlbnQoXCJzdGF0aWNDbGlja1wiLFtlLHRdKX0sbi5nZXRQb2ludGVyUG9pbnQ9dC5nZXRQb2ludGVyUG9pbnQsbn0pfSx7dW5pcG9pbnRlcjo1fV0sNTpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihuLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXYtZW1pdHRlci9ldi1lbWl0dGVyXCJdLGZ1bmN0aW9uKGUpe3JldHVybiBpKG4sZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5leHBvcnRzP3QuZXhwb3J0cz1pKG4sZShcImV2LWVtaXR0ZXJcIikpOm4uVW5pcG9pbnRlcj1pKG4sbi5FdkVtaXR0ZXIpfSh3aW5kb3csZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fXZhciBpPW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpO2kuYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fYmluZFN0YXJ0RXZlbnQoZSwhMCl9LGkudW5iaW5kU3RhcnRFdmVudD1mdW5jdGlvbihlKXt0aGlzLl9iaW5kU3RhcnRFdmVudChlLCExKX0saS5fYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24odCxuKXt2YXIgaT0obj12b2lkIDA9PT1ufHxuKT9cImFkZEV2ZW50TGlzdGVuZXJcIjpcInJlbW92ZUV2ZW50TGlzdGVuZXJcIixvPVwibW91c2Vkb3duXCI7ZS5Qb2ludGVyRXZlbnQ/bz1cInBvaW50ZXJkb3duXCI6XCJvbnRvdWNoc3RhcnRcImluIGUmJihvPVwidG91Y2hzdGFydFwiKSx0W2ldKG8sdGhpcyl9LGkuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJvblwiK2UudHlwZTt0aGlzW3RdJiZ0aGlzW3RdKGUpfSxpLmdldFRvdWNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uaWRlbnRpZmllcj09dGhpcy5wb2ludGVySWRlbnRpZmllcilyZXR1cm4gbn19LGkub25tb3VzZWRvd249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5idXR0b247dCYmMCE9PXQmJjEhPT10fHx0aGlzLl9wb2ludGVyRG93bihlLGUpfSxpLm9udG91Y2hzdGFydD1mdW5jdGlvbihlKXt0aGlzLl9wb2ludGVyRG93bihlLGUuY2hhbmdlZFRvdWNoZXNbMF0pfSxpLm9ucG9pbnRlcmRvd249ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlckRvd24oZSxlKX0saS5fcG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXtlLmJ1dHRvbnx8dGhpcy5pc1BvaW50ZXJEb3dufHwodGhpcy5pc1BvaW50ZXJEb3duPSEwLHRoaXMucG9pbnRlcklkZW50aWZpZXI9dm9pZCAwIT09dC5wb2ludGVySWQ/dC5wb2ludGVySWQ6dC5pZGVudGlmaWVyLHRoaXMucG9pbnRlckRvd24oZSx0KSl9LGkucG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKGUpLHRoaXMuZW1pdEV2ZW50KFwicG9pbnRlckRvd25cIixbZSx0XSl9O3ZhciBvPXttb3VzZWRvd246W1wibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCJdLHRvdWNoc3RhcnQ6W1widG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiLFwidG91Y2hjYW5jZWxcIl0scG9pbnRlcmRvd246W1wicG9pbnRlcm1vdmVcIixcInBvaW50ZXJ1cFwiLFwicG9pbnRlcmNhbmNlbFwiXX07cmV0dXJuIGkuX2JpbmRQb3N0U3RhcnRFdmVudHM9ZnVuY3Rpb24odCl7aWYodCl7dmFyIG49b1t0LnR5cGVdO24uZm9yRWFjaChmdW5jdGlvbih0KXtlLmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzKX0sdGhpcyksdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzPW59fSxpLl91bmJpbmRQb3N0U3RhcnRFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMmJih0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzKX0sdGhpcyksZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cyl9LGkub25tb3VzZW1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlck1vdmUoZSxlKX0saS5vbnBvaW50ZXJtb3ZlPWZ1bmN0aW9uKGUpe2UucG9pbnRlcklkPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyJiZ0aGlzLl9wb2ludGVyTW92ZShlLGUpfSxpLm9udG91Y2htb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VG91Y2goZS5jaGFuZ2VkVG91Y2hlcyk7dCYmdGhpcy5fcG9pbnRlck1vdmUoZSx0KX0saS5fcG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt0aGlzLnBvaW50ZXJNb3ZlKGUsdCl9LGkucG9pbnRlck1vdmU9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJNb3ZlXCIsW2UsdF0pfSxpLm9ubW91c2V1cD1mdW5jdGlvbihlKXt0aGlzLl9wb2ludGVyVXAoZSxlKX0saS5vbnBvaW50ZXJ1cD1mdW5jdGlvbihlKXtlLnBvaW50ZXJJZD09dGhpcy5wb2ludGVySWRlbnRpZmllciYmdGhpcy5fcG9pbnRlclVwKGUsZSl9LGkub250b3VjaGVuZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFRvdWNoKGUuY2hhbmdlZFRvdWNoZXMpO3QmJnRoaXMuX3BvaW50ZXJVcChlLHQpfSxpLl9wb2ludGVyVXA9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wb2ludGVyRG9uZSgpLHRoaXMucG9pbnRlclVwKGUsdCl9LGkucG9pbnRlclVwPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyVXBcIixbZSx0XSl9LGkuX3BvaW50ZXJEb25lPWZ1bmN0aW9uKCl7dGhpcy5fcG9pbnRlclJlc2V0KCksdGhpcy5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzKCksdGhpcy5wb2ludGVyRG9uZSgpfSxpLl9wb2ludGVyUmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzUG9pbnRlckRvd249ITEsZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXJ9LGkucG9pbnRlckRvbmU9ZnVuY3Rpb24oKXt9LGkub25wb2ludGVyY2FuY2VsPWZ1bmN0aW9uKGUpe2UucG9pbnRlcklkPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyJiZ0aGlzLl9wb2ludGVyQ2FuY2VsKGUsZSl9LGkub250b3VjaGNhbmNlbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFRvdWNoKGUuY2hhbmdlZFRvdWNoZXMpO3QmJnRoaXMuX3BvaW50ZXJDYW5jZWwoZSx0KX0saS5fcG9pbnRlckNhbmNlbD1mdW5jdGlvbihlLHQpe3RoaXMuX3BvaW50ZXJEb25lKCksdGhpcy5wb2ludGVyQ2FuY2VsKGUsdCl9LGkucG9pbnRlckNhbmNlbD1mdW5jdGlvbihlLHQpe3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlckNhbmNlbFwiLFtlLHRdKX0sbi5nZXRQb2ludGVyUG9pbnQ9ZnVuY3Rpb24oZSl7cmV0dXJue3g6ZS5wYWdlWCx5OmUucGFnZVl9fSxufSl9LHtcImV2LWVtaXR0ZXJcIjoyfV0sNjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4saSxvKXtmdW5jdGlvbiByKGEsbCl7aWYoIWlbYV0pe2lmKCFuW2FdKXt2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlO2lmKCFsJiZ1KXJldHVybiB1KGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dmFyIGM9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKTt0aHJvdyBjLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsY312YXIgZD1pW2FdPXtleHBvcnRzOnt9fTtuW2FdWzBdLmNhbGwoZC5leHBvcnRzLGZ1bmN0aW9uKGUpe3JldHVybiByKG5bYV1bMV1bZV18fGUpfSxkLGQuZXhwb3J0cyx0LG4saSxvKX1yZXR1cm4gaVthXS5leHBvcnRzfWZvcih2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLGE9MDthPG8ubGVuZ3RoO2ErKylyKG9bYV0pO3JldHVybiByfXJldHVybiB0fSgpKHsxOltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGkuV2ViQ0xHTD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL1dlYkNMR0xCdWZmZXIuY2xhc3NcIiksYT1lKFwiLi9XZWJDTEdMS2VybmVsLmNsYXNzXCIpLGw9ZShcIi4vV2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbS5jbGFzc1wiKSx1PWUoXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiKSxjPWkuV2ViQ0xHTD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7byh0aGlzLGUpLHRoaXMudXRpbHM9bmV3IHUuV2ViQ0xHTFV0aWxzLHRoaXMuX2dsPW51bGwsdGhpcy5lPW51bGwsdm9pZCAwPT09dHx8bnVsbD09PXQ/KHRoaXMuZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZS53aWR0aD0zMix0aGlzLmUuaGVpZ2h0PTMyLHRoaXMuX2dsPXUuV2ViQ0xHTFV0aWxzLmdldFdlYkdMQ29udGV4dEZyb21DYW52YXModGhpcy5lLHthbnRpYWxpYXM6ITF9KSk6dGhpcy5fZ2w9dCx0aGlzLl9hcnJFeHQ9e09FU190ZXh0dXJlX2Zsb2F0Om51bGwsT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyOm51bGwsT0VTX2VsZW1lbnRfaW5kZXhfdWludDpudWxsLFdFQkdMX2RyYXdfYnVmZmVyczpudWxsfTtmb3IodmFyIG4gaW4gdGhpcy5fYXJyRXh0KXRoaXMuX2FyckV4dFtuXT10aGlzLl9nbC5nZXRFeHRlbnNpb24obiksbnVsbD09dGhpcy5fYXJyRXh0W25dJiZjb25zb2xlLmVycm9yKFwiZXh0ZW5zaW9uIFwiK24rXCIgbm90IGF2YWlsYWJsZVwiKTt0aGlzLl9tYXhEcmF3QnVmZmVycz1udWxsLHRoaXMuX2FyckV4dC5oYXNPd25Qcm9wZXJ0eShcIldFQkdMX2RyYXdfYnVmZmVyc1wiKSYmbnVsbCE9dGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVycz8odGhpcy5fbWF4RHJhd0J1ZmZlcnM9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnMuTUFYX0RSQVdfQlVGRkVSU19XRUJHTCksY29uc29sZS5sb2coXCJNYXggZHJhdyBidWZmZXJzOiBcIit0aGlzLl9tYXhEcmF3QnVmZmVycykpOmNvbnNvbGUubG9nKFwiTWF4IGRyYXcgYnVmZmVyczogMVwiKTt2YXIgaT10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO3RoaXMucHJlY2lzaW9uPTAhPT1pLnByZWNpc2lvbj9cInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcblwiOlwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxucHJlY2lzaW9uIGxvd3AgaW50O1xcblxcblwiLHRoaXMuX2N1cnJlbnRUZXh0dXJlVW5pdD0wLHRoaXMuX2J1ZmZlcldpZHRoPTA7dmFyIHI9dGhpcy51dGlscy5sb2FkUXVhZCh2b2lkIDAsMSwxKTt0aGlzLnZlcnRleEJ1ZmZlcl9RVUFEPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoci52ZXJ0ZXhBcnJheSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuaW5kZXhCdWZmZXJfUVVBRD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXJfUVVBRCksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixuZXcgVWludDE2QXJyYXkoci5pbmRleEFycmF5KSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5hcnJheUNvcHlUZXg9W107dmFyIHM9dGhpcy5wcmVjaXNpb24rXCJhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZDb29yZDtcXG52b2lkIG1haW4odm9pZCkge1xcbmdsX1Bvc2l0aW9uID0gdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxudkNvb3JkID0gYVZlcnRleFBvc2l0aW9uLnh5KjAuNSswLjU7XFxufVxcblwiLGE9dGhpcy5wcmVjaXNpb24rXCJ1bmlmb3JtIHNhbXBsZXIyRCBzYW1wbGVyX2J1ZmZlcjtcXG52YXJ5aW5nIHZlYzIgdkNvb3JkO1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHNhbXBsZXJfYnVmZmVyLCB2Q29vcmQpO31cXG5cIjt0aGlzLnNoYWRlcl9yZWFkcGl4ZWxzPXRoaXMuX2dsLmNyZWF0ZVByb2dyYW0oKSx0aGlzLnV0aWxzLmNyZWF0ZVNoYWRlcih0aGlzLl9nbCxcIkNMR0xSRUFEUElYRUxTXCIscyxhLHRoaXMuc2hhZGVyX3JlYWRwaXhlbHMpLHRoaXMuYXR0cl9WZXJ0ZXhQb3M9dGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5zaGFkZXJfcmVhZHBpeGVscyxcImFWZXJ0ZXhQb3NpdGlvblwiKSx0aGlzLnNhbXBsZXJfYnVmZmVyPXRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlcl9yZWFkcGl4ZWxzLFwic2FtcGxlcl9idWZmZXJcIik7dmFyIGw9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fbWF4RHJhd0J1ZmZlcnMmJm51bGwhPT10aGlzLl9tYXhEcmF3QnVmZmVycz9cIiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcXG5cIjpcIlwifS5iaW5kKHRoaXMpLGM9KGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsdD0wLG49dGhpcy5fbWF4RHJhd0J1ZmZlcnM7dDxuO3QrKyllKz1cImxheW91dChsb2NhdGlvbiA9IFwiK3QrXCIpIG91dCB2ZWM0IG91dENvbFwiK3QrXCI7XFxuXCI7cmV0dXJuIGV9LmJpbmQodGhpcyksZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PTAsbj10aGlzLl9tYXhEcmF3QnVmZmVyczt0PG47dCsrKWUrPVwiZ2xfRnJhZ0RhdGFbXCIrdCtcIl0gPSB0ZXh0dXJlMkQodUFycmF5Q1RbXCIrdCtcIl0sIHZDb29yZCk7XFxuXCI7cmV0dXJuIGV9LmJpbmQodGhpcykpO3M9dGhpcy5wcmVjaXNpb24rXCJhdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZDb29yZDtcXG52b2lkIG1haW4odm9pZCkge1xcbmdsX1Bvc2l0aW9uID0gdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxudkNvb3JkID0gYVZlcnRleFBvc2l0aW9uLnh5KjAuNSswLjU7XFxufVwiLGE9bCgpK3RoaXMucHJlY2lzaW9uK1widW5pZm9ybSBzYW1wbGVyMkQgdUFycmF5Q1RbXCIrdGhpcy5fbWF4RHJhd0J1ZmZlcnMrXCJdO1xcbnZhcnlpbmcgdmVjMiB2Q29vcmQ7XFxudm9pZCBtYWluKHZvaWQpIHtcXG5cIitjKCkrXCJ9XCIsdGhpcy5zaGFkZXJfY29weVRleHR1cmU9dGhpcy5fZ2wuY3JlYXRlUHJvZ3JhbSgpLHRoaXMudXRpbHMuY3JlYXRlU2hhZGVyKHRoaXMuX2dsLFwiQ0xHTENPUFlURVhUVVJFXCIscyxhLHRoaXMuc2hhZGVyX2NvcHlUZXh0dXJlKSx0aGlzLmF0dHJfY29weVRleHR1cmVfcG9zPXRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyX2NvcHlUZXh0dXJlLFwiYVZlcnRleFBvc2l0aW9uXCIpO2Zvcih2YXIgZD0wLGg9dGhpcy5fbWF4RHJhd0J1ZmZlcnM7ZDxoO2QrKyl0aGlzLmFycmF5Q29weVRleFtkXT10aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zaGFkZXJfY29weVRleHR1cmUsXCJ1QXJyYXlDVFtcIitkK1wiXVwiKTt0aGlzLnRleHR1cmVEYXRhQXV4PXRoaXMuX2dsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLl9nbC5iaW5kVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMudGV4dHVyZURhdGFBdXgpLHRoaXMuX2dsLnRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHRoaXMuX2dsLlJHQkEsMiwyLDAsdGhpcy5fZ2wuUkdCQSx0aGlzLl9nbC5GTE9BVCxuZXcgRmxvYXQzMkFycmF5KFsxLDAsMCwxLDAsMSwwLDEsMCwwLDEsMSwxLDEsMSwxXSkpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9nbC5ORUFSRVNUKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9cmV0dXJuIHIoZSxbe2tleTpcImdldENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbH19LHtrZXk6XCJnZXRNYXhEcmF3QnVmZmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heERyYXdCdWZmZXJzfX0se2tleTpcImNoZWNrRnJhbWVidWZmZXJTdGF0dXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXModGhpcy5fZ2wuRlJBTUVCVUZGRVIpLHQ9e307cmV0dXJuIHRbdGhpcy5fZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEVdPSEwLHRbdGhpcy5fZ2wuRlJBTUVCVUZGRVJfSU5DT01QTEVURV9BVFRBQ0hNRU5UXT1cIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVDogVGhlIGF0dGFjaG1lbnQgdHlwZXMgYXJlIG1pc21hdGNoZWQgb3Igbm90IGFsbCBmcmFtZWJ1ZmZlciBhdHRhY2htZW50IHBvaW50cyBhcmUgZnJhbWVidWZmZXIgYXR0YWNobWVudCBjb21wbGV0ZVwiLHRbdGhpcy5fZ2wuRlJBTUVCVUZGRVJfSU5DT01QTEVURV9NSVNTSU5HX0FUVEFDSE1FTlRdPVwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9NSVNTSU5HX0FUVEFDSE1FTlQ6IFRoZXJlIGlzIG5vIGF0dGFjaG1lbnRcIix0W3RoaXMuX2dsLkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfRElNRU5TSU9OU109XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlM6IEhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGF0dGFjaG1lbnQgYXJlIG5vdCB0aGUgc2FtZVwiLHRbdGhpcy5fZ2wuRlJBTUVCVUZGRVJfVU5TVVBQT1JURURdPVwiRlJBTUVCVUZGRVJfVU5TVVBQT1JURUQ6IFRoZSBmb3JtYXQgb2YgdGhlIGF0dGFjaG1lbnQgaXMgbm90IHN1cHBvcnRlZCBvciBpZiBkZXB0aCBhbmQgc3RlbmNpbCBhdHRhY2htZW50cyBhcmUgbm90IHRoZSBzYW1lIHJlbmRlcmJ1ZmZlclwiLCEwPT09dFtlXSYmbnVsbCE9PXRbZV18fChjb25zb2xlLmxvZyh0W2VdKSwhMSl9fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmbnVsbCE9PXQpaWYodm9pZCAwIT09dFswXSYmbnVsbCE9PXRbMF0pe3RoaXMuX2dsLnZpZXdwb3J0KDAsMCx0WzBdLlcsdFswXS5IKSx0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdFswXS5mQnVmZmVyKTtmb3IodmFyIG49W10saT0wLG89dC5sZW5ndGg7aTxvO2krKyl2b2lkIDAhPT10W2ldJiZudWxsIT09dFtpXT8odGhpcy5fZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVyc1tcIkNPTE9SX0FUVEFDSE1FTlRcIitpK1wiX1dFQkdMXCJdLHRoaXMuX2dsLlRFWFRVUkVfMkQsdFtpXS50ZXh0dXJlRGF0YSwwKSxuW2ldPXRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnNbXCJDT0xPUl9BVFRBQ0hNRU5UXCIraStcIl9XRUJHTFwiXSk6bltpXT10aGlzLl9nbC5OT05FO2lmKHRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnMuZHJhd0J1ZmZlcnNXRUJHTChuKSwhMD09PXRoaXMuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygpKXt0aGlzLl9nbC51c2VQcm9ncmFtKHRoaXMuc2hhZGVyX2NvcHlUZXh0dXJlKTtmb3IodmFyIHI9MCxzPXQubGVuZ3RoO3I8cztyKyspdGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbFtcIlRFWFRVUkVcIityXSksdm9pZCAwIT09dFtyXSYmbnVsbCE9PXRbcl0/dGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCx0W3JdLnRleHR1cmVEYXRhVGVtcCk6dGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmVEYXRhQXV4KSx0aGlzLl9nbC51bmlmb3JtMWkodGhpcy5hcnJheUNvcHlUZXhbcl0scik7dGhpcy5jb3B5Tm93KHQpfX1lbHNlIHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixudWxsKTtlbHNlIHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixudWxsKX19LHtrZXk6XCJjb3B5Tm93XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hdHRyX2NvcHlUZXh0dXJlX3BvcyksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXJfUVVBRCksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmF0dHJfY29weVRleHR1cmVfcG9zLDMsdGhpcy5fZ2wuRkxPQVQsITEsMCwwKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXJfUVVBRCksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHRoaXMuX2dsLlRSSUFOR0xFUyw2LHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULDApfX0se2tleTpcImNyZWF0ZUJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IHMuV2ViQ0xHTEJ1ZmZlcih0aGlzLl9nbCxlLHQsbil9fSx7a2V5OlwiY3JlYXRlS2VybmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGEuV2ViQ0xHTEtlcm5lbCh0aGlzLl9nbCxlLHQpfX0se2tleTpcImNyZWF0ZVZlcnRleEZyYWdtZW50UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBuZXcgbC5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtKHRoaXMuX2dsLGUsdCxuLGkpfX0se2tleTpcImZpbGxCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLG4pLHRoaXMuX2dsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnMuQ09MT1JfQVRUQUNITUVOVDBfV0VCR0wsdGhpcy5fZ2wuVEVYVFVSRV8yRCxlLDApO3ZhciBpPVt0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLkNPTE9SX0FUVEFDSE1FTlQwX1dFQkdMXTt0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLmRyYXdCdWZmZXJzV0VCR0woaSksdm9pZCAwIT09dCYmbnVsbCE9PXQmJnRoaXMuX2dsLmNsZWFyQ29sb3IodFswXSx0WzFdLHRbMl0sdFszXSksdGhpcy5fZ2wuY2xlYXIodGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCl9fSx7a2V5OlwiYmluZEF0dHJpYnV0ZVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10JiZudWxsIT09dD9cImZsb2F0NF9mcm9tQXR0clwiPT09ZS50eXBlPyh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlLmxvY2F0aW9uWzBdKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LnZlcnRleERhdGEwKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUubG9jYXRpb25bMF0sNCx0aGlzLl9nbC5GTE9BVCwhMSwwLDApKTpcImZsb2F0X2Zyb21BdHRyXCI9PT1lLnR5cGUmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlLmxvY2F0aW9uWzBdKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LnZlcnRleERhdGEwKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUubG9jYXRpb25bMF0sMSx0aGlzLl9nbC5GTE9BVCwhMSwwLDApKTp0aGlzLl9nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZS5sb2NhdGlvblswXSl9fSx7a2V5OlwiYmluZFNhbXBsZXJWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXQ8MTY/dGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbFtcIlRFWFRVUkVcIit0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXRdKTp0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUxNiksdm9pZCAwIT09biYmbnVsbCE9PW4/KHRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsbi50ZXh0dXJlRGF0YSksMD09PXRoaXMuX2J1ZmZlcldpZHRoJiYodGhpcy5fYnVmZmVyV2lkdGg9bi5XLHRoaXMuX2dsLnVuaWZvcm0xZihlLHRoaXMuX2J1ZmZlcldpZHRoKSkpOnRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlRGF0YUF1eCksdGhpcy5fZ2wudW5pZm9ybTFpKHQubG9jYXRpb25bMF0sdGhpcy5fY3VycmVudFRleHR1cmVVbml0KSx0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXQrK319LHtrZXk6XCJiaW5kVW5pZm9ybVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2b2lkIDAhPT10JiZudWxsIT09dCYmKFwiZmxvYXRcIj09PWUudHlwZT90LmNvbnN0cnVjdG9yPT09QXJyYXk/dGhpcy5fZ2wudW5pZm9ybTFmdihlLmxvY2F0aW9uWzBdLHQpOnRoaXMuX2dsLnVuaWZvcm0xZihlLmxvY2F0aW9uWzBdLHQpOlwiZmxvYXQ0XCI9PT1lLnR5cGU/dGhpcy5fZ2wudW5pZm9ybTRmKGUubG9jYXRpb25bMF0sdFswXSx0WzFdLHRbMl0sdFszXSk6XCJtYXQ0XCI9PT1lLnR5cGUmJnRoaXMuX2dsLnVuaWZvcm1NYXRyaXg0ZnYoZS5sb2NhdGlvblswXSwhMSx0KSl9fSx7a2V5OlwiYmluZFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh0LmV4cGVjdGVkTW9kZSl7Y2FzZVwiQVRUUklCVVRFXCI6dGhpcy5iaW5kQXR0cmlidXRlVmFsdWUodCxuKTticmVhaztjYXNlXCJTQU1QTEVSXCI6dGhpcy5iaW5kU2FtcGxlclZhbHVlKGUudUJ1ZmZlcldpZHRoLHQsbik7YnJlYWs7Y2FzZVwiVU5JRk9STVwiOnRoaXMuYmluZFVuaWZvcm1WYWx1ZSh0LG4pfX19LHtrZXk6XCJiaW5kRkJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUmJm51bGwhPT1lKXtpZih2b2lkIDAhPT1lWzBdJiZudWxsIT09ZVswXSl7dGhpcy5fZ2wudmlld3BvcnQoMCwwLGVbMF0uVyxlWzBdLkgpLHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUiwhMD09PXQ/ZVswXS5mQnVmZmVyVGVtcDplWzBdLmZCdWZmZXIpO2Zvcih2YXIgbj1bXSxpPTAsbz1lLmxlbmd0aDtpPG87aSsrKWlmKHZvaWQgMCE9PWVbaV0mJm51bGwhPT1lW2ldKXt2YXIgcj0hMD09PXQ/ZVtpXS50ZXh0dXJlRGF0YVRlbXA6ZVtpXS50ZXh0dXJlRGF0YTt0aGlzLl9nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLl9nbC5GUkFNRUJVRkZFUix0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzW1wiQ09MT1JfQVRUQUNITUVOVFwiK2krXCJfV0VCR0xcIl0sdGhpcy5fZ2wuVEVYVFVSRV8yRCxyLDApLG5baV09dGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVyc1tcIkNPTE9SX0FUVEFDSE1FTlRcIitpK1wiX1dFQkdMXCJdfWVsc2UgbltpXT10aGlzLl9nbC5OT05FO3JldHVybiB0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLmRyYXdCdWZmZXJzV0VCR0wobiksdGhpcy5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKCl9cmV0dXJuIHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixudWxsKSwhMH1yZXR1cm4gdGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLG51bGwpLCEwfX0se2tleTpcImVucXVldWVORFJhbmdlS2VybmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7aWYodGhpcy5fYnVmZmVyV2lkdGg9MCx0aGlzLl9nbC51c2VQcm9ncmFtKGUua2VybmVsKSwhMD09PXRoaXMuYmluZEZCKHQsbikpe3RoaXMuX2N1cnJlbnRUZXh0dXJlVW5pdD0wO2Zvcih2YXIgbyBpbiBlLmluX3ZhbHVlcyl0aGlzLmJpbmRWYWx1ZShlLGUuaW5fdmFsdWVzW29dLGlbb10pO3RoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUuYXR0cl9WZXJ0ZXhQb3MpLHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoZS5hdHRyX1ZlcnRleFBvcywzLHRoaXMuX2dsLkZMT0FULCExLDAsMCksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLmRyYXdFbGVtZW50cyh0aGlzLl9nbC5UUklBTkdMRVMsNix0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCwwKX19fSx7a2V5OlwiZW5xdWV1ZVZlcnRleEZyYWdtZW50UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyKXt0aGlzLl9idWZmZXJXaWR0aD0wLHRoaXMuX2dsLnVzZVByb2dyYW0oZS52ZXJ0ZXhGcmFnbWVudFByb2dyYW0pO3ZhciBzPXZvaWQgMCE9PW4mJm51bGwhPT1uP246NDtpZighMD09PXRoaXMuYmluZEZCKGksbykmJnZvaWQgMCE9PXQmJm51bGwhPT10KXt0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXQ9MDtmb3IodmFyIGEgaW4gZS5pbl92ZXJ0ZXhfdmFsdWVzKXRoaXMuYmluZFZhbHVlKGUsZS5pbl92ZXJ0ZXhfdmFsdWVzW2FdLHJbYV0pO2Zvcih2YXIgbCBpbiBlLmluX2ZyYWdtZW50X3ZhbHVlcyl0aGlzLmJpbmRWYWx1ZShlLGUuaW5fZnJhZ21lbnRfdmFsdWVzW2xdLHJbbF0pO1wiVkVSVEVYX0lOREVYXCI9PT10Lm1vZGU/KHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC52ZXJ0ZXhEYXRhMCksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHMsdC5sZW5ndGgsdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsMCkpOnRoaXMuX2dsLmRyYXdBcnJheXMocywwLHQubGVuZ3RoKX19fSx7a2V5OlwicmVhZEJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PXRoaXMuZSYmbnVsbCE9PXRoaXMuZSYmKHRoaXMuZS53aWR0aD1lLlcsdGhpcy5lLmhlaWdodD1lLkgpLHRoaXMuX2dsLnVzZVByb2dyYW0odGhpcy5zaGFkZXJfcmVhZHBpeGVscyksdGhpcy5fZ2wudmlld3BvcnQoMCwwLGUuVyxlLkgpLHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlLmZCdWZmZXJUZW1wKSx0aGlzLl9nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLl9nbC5GUkFNRUJVRkZFUix0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLkNPTE9SX0FUVEFDSE1FTlQwX1dFQkdMLHRoaXMuX2dsLlRFWFRVUkVfMkQsZS50ZXh0dXJlRGF0YVRlbXAsMCk7dmFyIHQ9W3RoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnMuQ09MT1JfQVRUQUNITUVOVDBfV0VCR0xdO2lmKHRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnMuZHJhd0J1ZmZlcnNXRUJHTCh0KSx0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwKSx0aGlzLl9nbC5iaW5kVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFXzJELGUudGV4dHVyZURhdGEpLHRoaXMuX2dsLnVuaWZvcm0xaSh0aGlzLnNhbXBsZXJfYnVmZmVyLDApLHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYXR0cl9WZXJ0ZXhQb3MpLHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hdHRyX1ZlcnRleFBvcywzLGUuX3N1cHBvcnRGb3JtYXQsITEsMCwwKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXJfUVVBRCksdGhpcy5fZ2wuZHJhd0VsZW1lbnRzKHRoaXMuX2dsLlRSSUFOR0xFUyw2LHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULDApLHZvaWQgMCE9PWUub3V0QXJyYXlGbG9hdCYmbnVsbCE9PWUub3V0QXJyYXlGbG9hdHx8KGUub3V0QXJyYXlGbG9hdD1uZXcgRmxvYXQzMkFycmF5KGUuVyplLkgqNCkpLHRoaXMuX2dsLnJlYWRQaXhlbHMoMCwwLGUuVyxlLkgsdGhpcy5fZ2wuUkdCQSx0aGlzLl9nbC5GTE9BVCxlLm91dEFycmF5RmxvYXQpLFwiRkxPQVRcIj09PWUudHlwZSl7Zm9yKHZhciBuPW5ldyBGbG9hdDMyQXJyYXkoZS5vdXRBcnJheUZsb2F0Lmxlbmd0aC80KSxpPTAsbz1lLm91dEFycmF5RmxvYXQubGVuZ3RoLzQ7aTxvO2krKyluW2ldPWUub3V0QXJyYXlGbG9hdFs0KmldO2Uub3V0QXJyYXlGbG9hdD1ufXJldHVybiBlLm91dEFycmF5RmxvYXR9fV0sW3trZXk6XCJlbnF1ZXVlUmVhZEJ1ZmZlcl9XZWJHTFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0dXJlRGF0YX19XSksZX0oKTt0LldlYkNMR0w9YyxuLmV4cG9ydHMuV2ViQ0xHTD1jfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9XZWJDTEdMQnVmZmVyLmNsYXNzXCI6MixcIi4vV2ViQ0xHTEtlcm5lbC5jbGFzc1wiOjQsXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiOjUsXCIuL1dlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW0uY2xhc3NcIjo2fV0sMjpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9aS5XZWJDTEdMQnVmZmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShuLGksbyxyKXt0KHRoaXMsZSksdGhpcy5fZ2w9bix0aGlzLnR5cGU9dm9pZCAwIT09aXx8bnVsbCE9PWk/aTpcIkZMT0FUXCIsdGhpcy5fc3VwcG9ydEZvcm1hdD10aGlzLl9nbC5GTE9BVCx0aGlzLmxpbmVhcj12b2lkIDA9PT1vJiZudWxsPT09b3x8byx0aGlzLm1vZGU9dm9pZCAwIT09cnx8bnVsbCE9PXI/cjpcIlNBTVBMRVJcIix0aGlzLlc9bnVsbCx0aGlzLkg9bnVsbCx0aGlzLnRleHR1cmVEYXRhPW51bGwsdGhpcy50ZXh0dXJlRGF0YVRlbXA9bnVsbCx0aGlzLnZlcnRleERhdGEwPW51bGwsdGhpcy5mQnVmZmVyPW51bGwsdGhpcy5yZW5kZXJCdWZmZXI9bnVsbCx0aGlzLmZCdWZmZXJUZW1wPW51bGwsdGhpcy5yZW5kZXJCdWZmZXJUZW1wPW51bGwsXCJTQU1QTEVSXCI9PT10aGlzLm1vZGUmJih0aGlzLnRleHR1cmVEYXRhPXRoaXMuX2dsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLnRleHR1cmVEYXRhVGVtcD10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCkpLFwiU0FNUExFUlwiIT09dGhpcy5tb2RlJiZcIkFUVFJJQlVURVwiIT09dGhpcy5tb2RlJiZcIlZFUlRFWF9JTkRFWFwiIT09dGhpcy5tb2RlfHwodGhpcy52ZXJ0ZXhEYXRhMD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSl9cmV0dXJuIG8oZSxbe2tleTpcImNyZWF0ZUZyYW1lYnVmZmVyQW5kUmVuZGVyYnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLl9nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuX2dsLlJFTkRFUkJVRkZFUixlKSx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlKHRoaXMuX2dsLlJFTkRFUkJVRkZFUix0aGlzLl9nbC5ERVBUSF9DT01QT05FTlQxNix0aGlzLlcsdGhpcy5IKSx0aGlzLl9nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuX2dsLlJFTkRFUkJVRkZFUixudWxsKSxlfS5iaW5kKHRoaXMpO251bGwhPXRoaXMuZkJ1ZmZlciYmKHRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZkJ1ZmZlciksdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mQnVmZmVyVGVtcCksdGhpcy5fZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMucmVuZGVyQnVmZmVyKSx0aGlzLl9nbC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5yZW5kZXJCdWZmZXJUZW1wKSksdGhpcy5mQnVmZmVyPXRoaXMuX2dsLmNyZWF0ZUZyYW1lYnVmZmVyKCksdGhpcy5yZW5kZXJCdWZmZXI9ZSgpLHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUix0aGlzLmZCdWZmZXIpLHRoaXMuX2dsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRoaXMuX2dsLkRFUFRIX0FUVEFDSE1FTlQsdGhpcy5fZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyKSx0aGlzLmZCdWZmZXJUZW1wPXRoaXMuX2dsLmNyZWF0ZUZyYW1lYnVmZmVyKCksdGhpcy5yZW5kZXJCdWZmZXJUZW1wPWUoKSx0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5mQnVmZmVyVGVtcCksdGhpcy5fZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5fZ2wuREVQVEhfQVRUQUNITUVOVCx0aGlzLl9nbC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXJUZW1wKX19LHtrZXk6XCJ3cml0ZVdlYkdMVGV4dHVyZUJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXshMT09PXR8fHZvaWQgMD09PXR8fG51bGw9PT10P3RoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19GTElQX1lfV0VCR0wsITEpOnRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19GTElQX1lfV0VCR0wsITApLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwhMSksdGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCxlKX0uYmluZCh0aGlzKSxpPWZ1bmN0aW9uKGUpe2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P1wiRkxPQVQ0XCI9PT10aGlzLnR5cGUmJnRoaXMuX2dsLnRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuUkdCQSx0aGlzLl9zdXBwb3J0Rm9ybWF0LGUpOnRoaXMuX2dsLnRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHRoaXMuX2dsLlJHQkEsdGhpcy5XLHRoaXMuSCwwLHRoaXMuX2dsLlJHQkEsdGhpcy5fc3VwcG9ydEZvcm1hdCxlKX0uYmluZCh0aGlzKSxvPWZ1bmN0aW9uKCl7dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9nbC5ORUFSRVNUKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLk5FQVJFU1QpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSl9LmJpbmQodGhpcyk7ZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZT8odGhpcy50ZXh0dXJlRGF0YT1lLHRoaXMudGV4dHVyZURhdGFUZW1wPWUpOihuKHRoaXMudGV4dHVyZURhdGEsdCksaShlKSxvKCksbih0aGlzLnRleHR1cmVEYXRhVGVtcCx0KSxpKGUpLG8oKSksdGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKX19LHtrZXk6XCJ3cml0ZUJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSlpZih0aGlzLmxlbmd0aC5jb25zdHJ1Y3Rvcj09PUFycmF5Pyh0aGlzLmxlbmd0aD10aGlzLmxlbmd0aFswXSp0aGlzLmxlbmd0aFsxXSx0aGlzLlc9dGhpcy5sZW5ndGhbMF0sdGhpcy5IPXRoaXMubGVuZ3RoWzFdKToodGhpcy5XPU1hdGguY2VpbChNYXRoLnNxcnQodGhpcy5sZW5ndGgpKSx0aGlzLkg9dGhpcy5XKSxcIkZMT0FUNFwiPT09dGhpcy50eXBlKXtlPWUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/ZTpuZXcgRmxvYXQzMkFycmF5KGUpO3ZhciB0PXRoaXMuVyp0aGlzLkgqNDtpZihlLmxlbmd0aCE9PXQpe2Zvcih2YXIgbj1uZXcgRmxvYXQzMkFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09bnVsbCE9ZVtpXT9lW2ldOjA7ZT1ufX1lbHNlIGlmKFwiRkxPQVRcIj09PXRoaXMudHlwZSl7Zm9yKHZhciBvPXRoaXMuVyp0aGlzLkgqNCxyPW5ldyBGbG9hdDMyQXJyYXkobykscz0wLGE9dGhpcy5XKnRoaXMuSDtzPGE7cysrKXt2YXIgbD00KnM7cltsXT1udWxsIT1lW3NdP2Vbc106MCxyW2wrMV09MCxyW2wrMl09MCxyW2wrM109MH1lPXJ9cmV0dXJuIGV9LmJpbmQodGhpcyk7dm9pZCAwPT09bnx8bnVsbD09PW4/ZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/dGhpcy5sZW5ndGg9ZS53aWR0aCplLmhlaWdodDp0aGlzLmxlbmd0aD1cIkZMT0FUNFwiPT09dGhpcy50eXBlP2UubGVuZ3RoLzQ6ZS5sZW5ndGg6dGhpcy5sZW5ndGg9W25bMF0sblsxXV0sXCJTQU1QTEVSXCI9PT10aGlzLm1vZGUmJnRoaXMud3JpdGVXZWJHTFRleHR1cmVCdWZmZXIoaShlKSx0KSxcIlNBTVBMRVJcIiE9PXRoaXMubW9kZSYmXCJBVFRSSUJVVEVcIiE9PXRoaXMubW9kZXx8KHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4RGF0YTApLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/ZTpuZXcgRmxvYXQzMkFycmF5KGUpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSksXCJWRVJURVhfSU5ERVhcIj09PXRoaXMubW9kZSYmKHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhEYXRhMCksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpKSx0aGlzLmNyZWF0ZUZyYW1lYnVmZmVyQW5kUmVuZGVyYnVmZmVyKCl9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtcIlNBTVBMRVJcIj09PXRoaXMubW9kZSYmKHRoaXMuX2dsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlRGF0YSksdGhpcy5fZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVEYXRhVGVtcCkpLFwiU0FNUExFUlwiIT09dGhpcy5tb2RlJiZcIkFUVFJJQlVURVwiIT09dGhpcy5tb2RlJiZcIlZFUlRFWF9JTkRFWFwiIT09dGhpcy5tb2RlfHx0aGlzLl9nbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhEYXRhMCksdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mQnVmZmVyKSx0aGlzLl9nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZCdWZmZXJUZW1wKSx0aGlzLl9nbC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5yZW5kZXJCdWZmZXIpLHRoaXMuX2dsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLnJlbmRlckJ1ZmZlclRlbXApfX1dKSxlfSgpO2UuV2ViQ0xHTEJ1ZmZlcj1yLG4uZXhwb3J0cy5XZWJDTEdMQnVmZmVyPXJ9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKCl7dmFyIGU9bmV3IHUsdD1udWxsO3JldHVybiBhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dD8odD1hcmd1bWVudHNbMF0sZS5zZXRDdHgodCksZS5fd2ViQ0xHTD1uZXcgYS5XZWJDTEdMKHQpLGUuaW5pRyhhcmd1bWVudHMpLGUpOmFyZ3VtZW50c1swXWluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ/KHQ9bC5XZWJDTEdMVXRpbHMuZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhcyhhcmd1bWVudHNbMF0pLGUuc2V0Q3R4KHQpLGUuX3dlYkNMR0w9bmV3IGEuV2ViQ0xHTCh0KSxlLmluaUcoYXJndW1lbnRzKSxlKToodD1sLldlYkNMR0xVdGlscy5nZXRXZWJHTENvbnRleHRGcm9tQ2FudmFzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikse2FudGlhbGlhczohMX0pLGUuc2V0Q3R4KHQpLGUuX3dlYkNMR0w9bmV3IGEuV2ViQ0xHTCh0KSxlLmluaShhcmd1bWVudHMpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpLldlYkNMR0xGb3I9dm9pZCAwO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7aS5ncHVmb3I9cjt2YXIgYT1lKFwiLi9XZWJDTEdMLmNsYXNzXCIpLGw9ZShcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCIpLHU9aS5XZWJDTEdMRm9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSksdGhpcy5rZXJuZWxzPXt9LHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtcz17fSx0aGlzLl9hcmdzPXt9LHRoaXMuX2FyZ3NWYWx1ZXM9e30sdGhpcy5jYWxsZWRBcmdzPXt9LHRoaXMuX3dlYkNMR0w9bnVsbCx0aGlzLl9nbD1udWxsfXJldHVybiBzKGUsW3trZXk6XCJkZWZpbmVPdXRwdXRUZW1wTW9kZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspbltpXT1udWxsIT1lW2ldJiZmdW5jdGlvbihlLHQpe3ZhciBuPSExO2Zvcih2YXIgaSBpbiB0KWlmKFwiaW5kaWNlc1wiIT09aSl7dmFyIG89aS5zcGxpdChcIiBcIik7aWYoby5sZW5ndGg+MCYmb1sxXT09PWUpe249ITA7YnJlYWt9fXJldHVybiBufShlW2ldLHQpO3JldHVybiBufX0se2tleTpcInByZXBhcmVSZXR1cm5Db2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPWUubWF0Y2gobmV3IFJlZ0V4cCgvcmV0dXJuLiokL2dtKSksbz0oaT1pWzBdLnJlcGxhY2UoXCJyZXR1cm4gXCIsXCJcIikpLm1hdGNoKG5ldyBSZWdFeHAoL1xcWy9nbSkpO2lmKG51bGwhPW8mJm8ubGVuZ3RoPj0xKXtpPWkuc3BsaXQoXCJbXCIpWzFdLnNwbGl0KFwiXVwiKVswXTtmb3IodmFyIHI9XCJcIixzPTAsYT0wO2E8aS5sZW5ndGg7YSsrKVwiLFwiPT09aVthXSYmMD09PXM/KG4ucHVzaChyKSxyPVwiXCIpOnIrPWlbYV0sXCIoXCI9PT1pW2FdJiZzKyssXCIpXCI9PT1pW2FdJiZzLS07bi5wdXNoKHIpfWVsc2Ugbi5wdXNoKGkucmVwbGFjZSgvOyQvZ20sXCJcIikpO2Zvcih2YXIgbD1cIlwiLHU9MDt1PHQubGVuZ3RoO3UrKyl7dmFyIGM9ITE7Zm9yKHZhciBkIGluIHRoaXMuX2FyZ3MpaWYoXCJpbmRpY2VzXCIhPT1kKXt2YXIgaD1kLnNwbGl0KFwiIFwiKTtpZihoWzFdPT09dFt1XSl7dmFyIGY9aFswXS5tYXRjaChuZXcgUmVnRXhwKFwiZmxvYXQ0XCIsXCJnbVwiKSk7bCs9bnVsbCE9ZiYmZi5sZW5ndGg+MD9cIm91dFwiK3UrXCJfZmxvYXQ0ID0gXCIrblt1XStcIjtcXG5cIjpcIm91dFwiK3UrXCJfZmxvYXQgPSBcIituW3VdK1wiO1xcblwiLGM9ITA7YnJlYWt9fSExPT09YyYmKGwrPVwib3V0XCIrdStcIl9mbG9hdDQgPSBcIituW3VdK1wiO1xcblwiKX1yZXR1cm4gbH19LHtrZXk6XCJhZGRLZXJuZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbmZpZyxuPXRbMF0saT10WzFdaW5zdGFuY2VvZiBBcnJheT90WzFdOlt0WzFdXSxvPXRbMl0scj10WzNdLHM9dGhpcy5fd2ViQ0xHTC5jcmVhdGVLZXJuZWwoKSxhPVtdO2Zvcih2YXIgbCBpbiB0aGlzLl9hcmdzKXt2YXIgdT1sLnNwbGl0KFwiIFwiKVsxXTtpZih2b2lkIDAhPT11JiZudWxsIT09dSl7dmFyIGM9KG8rcikubWF0Y2gobmV3IFJlZ0V4cCh1LnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKSxcImdtXCIpKTtcImluZGljZXNcIiE9PWwmJm51bGwhPWMmJmMubGVuZ3RoPjAmJihzLmluX3ZhbHVlc1t1XT17fSxhLnB1c2gobC5yZXBsYWNlKFwiKmF0dHIgXCIsXCIqIFwiKS5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIikpKX19cj1cInZvaWQgbWFpbihcIithLnRvU3RyaW5nKCkrXCIpIHt2ZWMyIFwiK24rXCIgPSBnZXRfZ2xvYmFsX2lkKCk7XCIrci5yZXBsYWNlKC9yZXR1cm4uKiQvZ20sdGhpcy5wcmVwYXJlUmV0dXJuQ29kZShyLGkpKStcIn1cIixzLm5hbWU9ZS5uYW1lLHMudmlld1NvdXJjZT1udWxsIT1lLnZpZXdTb3VyY2UmJmUudmlld1NvdXJjZSxzLnNldEtlcm5lbFNvdXJjZShyLG8pLHMub3V0cHV0PWkscy5vdXRwdXRUZW1wTW9kZXM9dGhpcy5kZWZpbmVPdXRwdXRUZW1wTW9kZXMoaSx0aGlzLl9hcmdzKSxzLmVuYWJsZWQ9ITAscy5kcmF3TW9kZT1udWxsIT1lLmRyYXdNb2RlP2UuZHJhd01vZGU6NCxzLmRlcHRoVGVzdD1udWxsPT1lLmRlcHRoVGVzdHx8ZS5kZXB0aFRlc3Qscy5ibGVuZD1udWxsIT1lLmJsZW5kJiZlLmJsZW5kLHMuYmxlbmRFcXVhdGlvbj1udWxsIT1lLmJsZW5kRXF1YXRpb24/ZS5ibGVuZEVxdWF0aW9uOlwiRlVOQ19BRERcIixzLmJsZW5kU3JjTW9kZT1udWxsIT1lLmJsZW5kU3JjTW9kZT9lLmJsZW5kU3JjTW9kZTpcIlNSQ19BTFBIQVwiLHMuYmxlbmREc3RNb2RlPW51bGwhPWUuYmxlbmREc3RNb2RlP2UuYmxlbmREc3RNb2RlOlwiT05FX01JTlVTX1NSQ19BTFBIQVwiLHRoaXMua2VybmVsc1tPYmplY3Qua2V5cyh0aGlzLmtlcm5lbHMpLmxlbmd0aC50b1N0cmluZygpXT1zfX0se2tleTpcImFkZEdyYXBoaWNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbmZpZyxuPVtudWxsXSxpPXZvaWQgMCxvPXZvaWQgMCxyPXZvaWQgMCxzPXZvaWQgMDs1PT09dC5sZW5ndGg/KG49dFswXWluc3RhbmNlb2YgQXJyYXk/dFswXTpbdFswXV0saT10WzFdLG89dFsyXSxyPXRbM10scz10WzRdKTooaT10WzBdLG89dFsxXSxyPXRbMl0scz10WzNdKTt2YXIgYT10aGlzLl93ZWJDTEdMLmNyZWF0ZVZlcnRleEZyYWdtZW50UHJvZ3JhbSgpLGw9W10sdT1bXTtmb3IodmFyIGMgaW4gdGhpcy5fYXJncyl7dmFyIGQ9Yy5zcGxpdChcIiBcIilbMV07aWYodm9pZCAwIT09ZCYmbnVsbCE9PWQpe3ZhciBoPShpK28pLm1hdGNoKG5ldyBSZWdFeHAoZC5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIiksXCJnbVwiKSk7XCJpbmRpY2VzXCIhPT1jJiZudWxsIT1oJiZoLmxlbmd0aD4wJiYoYS5pbl92ZXJ0ZXhfdmFsdWVzW2RdPXt9LGwucHVzaChjLnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKSkpfX1mb3IodmFyIGYgaW4gdGhpcy5fYXJncyl7dmFyIHA9Zi5zcGxpdChcIiBcIilbMV07aWYodm9pZCAwIT09cCYmbnVsbCE9PXApe3ZhciBnPShyK3MpLm1hdGNoKG5ldyBSZWdFeHAocC5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIiksXCJnbVwiKSk7XCJpbmRpY2VzXCIhPT1mJiZudWxsIT1nJiZnLmxlbmd0aD4wJiYoYS5pbl9mcmFnbWVudF92YWx1ZXNbcF09e30sdS5wdXNoKGYucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpKSl9fW89XCJ2b2lkIG1haW4oXCIrbC50b1N0cmluZygpK1wiKSB7XCIrbytcIn1cIixzPVwidm9pZCBtYWluKFwiK3UudG9TdHJpbmcoKStcIikge1wiK3MucmVwbGFjZSgvcmV0dXJuLiokL2dtLHRoaXMucHJlcGFyZVJldHVybkNvZGUocyxuKSkrXCJ9XCIsYS5uYW1lPWUubmFtZSxhLnZpZXdTb3VyY2U9bnVsbCE9ZS52aWV3U291cmNlJiZlLnZpZXdTb3VyY2UsYS5zZXRWZXJ0ZXhTb3VyY2UobyxpKSxhLnNldEZyYWdtZW50U291cmNlKHMsciksYS5vdXRwdXQ9bixhLm91dHB1dFRlbXBNb2Rlcz10aGlzLmRlZmluZU91dHB1dFRlbXBNb2RlcyhuLHRoaXMuX2FyZ3MpLGEuZW5hYmxlZD0hMCxhLmRyYXdNb2RlPW51bGwhPWUuZHJhd01vZGU/ZS5kcmF3TW9kZTo0LGEuZGVwdGhUZXN0PW51bGw9PWUuZGVwdGhUZXN0fHxlLmRlcHRoVGVzdCxhLmJsZW5kPW51bGw9PWUuYmxlbmR8fGUuYmxlbmQsYS5ibGVuZEVxdWF0aW9uPW51bGwhPWUuYmxlbmRFcXVhdGlvbj9lLmJsZW5kRXF1YXRpb246XCJGVU5DX0FERFwiLGEuYmxlbmRTcmNNb2RlPW51bGwhPWUuYmxlbmRTcmNNb2RlP2UuYmxlbmRTcmNNb2RlOlwiU1JDX0FMUEhBXCIsYS5ibGVuZERzdE1vZGU9bnVsbCE9ZS5ibGVuZERzdE1vZGU/ZS5ibGVuZERzdE1vZGU6XCJPTkVfTUlOVVNfU1JDX0FMUEhBXCIsdGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zW09iamVjdC5rZXlzKHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtcykubGVuZ3RoLnRvU3RyaW5nKCldPWF9fSx7a2V5OlwiY2hlY2tBcmdcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9W10sbz0hMSxyPSExO2Zvcih2YXIgcyBpbiB0KWZvcih2YXIgYSBpbiB0W3NdLmluX3ZhbHVlcylpZih0W3NdLmluX3ZhbHVlc1thXSxhPT09ZSl7aS5wdXNoKHRbc10pO2JyZWFrfWZvcih2YXIgbCBpbiBuKXtmb3IodmFyIHUgaW4gbltsXS5pbl92ZXJ0ZXhfdmFsdWVzKWlmKG5bbF0uaW5fdmVydGV4X3ZhbHVlc1t1XSx1PT09ZSl7bz0hMDticmVha31mb3IodmFyIGMgaW4gbltsXS5pbl9mcmFnbWVudF92YWx1ZXMpaWYobltsXS5pbl9mcmFnbWVudF92YWx1ZXNbY10sYz09PWUpe3I9ITA7YnJlYWt9fXJldHVybnt1c2VkSW5WZXJ0ZXg6byx1c2VkSW5GcmFnbWVudDpyLGtlcm5lbFByOml9fX0se2tleTpcImZpbGxBcmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3dlYkNMR0wuZmlsbEJ1ZmZlcih0aGlzLl9hcmdzVmFsdWVzW2VdLnRleHR1cmVEYXRhLHQsdGhpcy5fYXJnc1ZhbHVlc1tlXS5mQnVmZmVyKSx0aGlzLl93ZWJDTEdMLmZpbGxCdWZmZXIodGhpcy5fYXJnc1ZhbHVlc1tlXS50ZXh0dXJlRGF0YVRlbXAsdCx0aGlzLl9hcmdzVmFsdWVzW2VdLmZCdWZmZXJUZW1wKX19LHtrZXk6XCJnZXRBbGxBcmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJnc1ZhbHVlc319LHtrZXk6XCJhZGRBcmdcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9hcmdzW2VdPW51bGx9fSx7a2V5OlwiZ2V0R1BVRm9yQXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXshMT09PXRoaXMuY2FsbGVkQXJncy5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXMuY2FsbGVkQXJnc1tlXT1bXSksLTE9PT10aGlzLmNhbGxlZEFyZ3NbZV0uaW5kZXhPZih0KSYmdGhpcy5jYWxsZWRBcmdzW2VdLnB1c2godCksITE9PT10LmNhbGxlZEFyZ3MuaGFzT3duUHJvcGVydHkoZSkmJih0LmNhbGxlZEFyZ3NbZV09W10pLC0xPT09dC5jYWxsZWRBcmdzW2VdLmluZGV4T2YodGhpcykmJnQuY2FsbGVkQXJnc1tlXS5wdXNoKHRoaXMpO2Zvcih2YXIgbiBpbiB0Ll9hcmdzKXt2YXIgaT1uLnNwbGl0KFwiIFwiKVsxXTtpZihpPT09ZSl7dGhpcy5fYXJnc1tuXT10Ll9hcmdzW25dLHRoaXMuX2FyZ3NWYWx1ZXNbaV09dC5fYXJnc1ZhbHVlc1tpXTticmVha319fX0se2tleTpcInNldEFyZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKFwiaW5kaWNlc1wiPT09ZSl0aGlzLnNldEluZGljZXModCk7ZWxzZSBmb3IodmFyIG8gaW4gdGhpcy5fYXJncyl7dmFyIHI9by5zcGxpdChcIiBcIilbMV07aWYodm9pZCAwIT09ciYmci5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIik9PT1lKXtyIT09ZSYmKGU9cik7dmFyIHM9ITE7aWYobnVsbCE9by5tYXRjaCgvXFwqL2dtKSl7dmFyIGE9dGhpcy5jaGVja0FyZyhlLHRoaXMua2VybmVscyx0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXMpLGw9XCJTQU1QTEVSXCI7ITA9PT1hLnVzZWRJblZlcnRleCYmMD09PWEua2VybmVsUHIubGVuZ3RoJiYhMT09PWEudXNlZEluRnJhZ21lbnQmJihsPVwiQVRUUklCVVRFXCIpO3ZhciB1PW8uc3BsaXQoXCIqXCIpWzBdLnRvVXBwZXJDYXNlKCk7dm9pZCAwIT09aSYmbnVsbCE9PWkmJih1PWkpLHZvaWQgMCE9PXQmJm51bGwhPT10PygoITE9PT10aGlzLl9hcmdzVmFsdWVzLmhhc093blByb3BlcnR5KGUpfHwhMD09PXRoaXMuX2FyZ3NWYWx1ZXMuaGFzT3duUHJvcGVydHkoZSkmJm51bGw9PXRoaXMuX2FyZ3NWYWx1ZXNbZV0pJiYodGhpcy5fYXJnc1ZhbHVlc1tlXT10aGlzLl93ZWJDTEdMLmNyZWF0ZUJ1ZmZlcih1LCExLGwpLHRoaXMuX2FyZ3NWYWx1ZXNbZV0uYXJndW1lbnQ9ZSxzPSEwKSx0aGlzLl9hcmdzVmFsdWVzW2VdLndyaXRlQnVmZmVyKHQsITEsbikpOnRoaXMuX2FyZ3NWYWx1ZXNbZV09bnVsbH1lbHNlIHZvaWQgMCE9PXQmJm51bGwhPT10JiYodGhpcy5fYXJnc1ZhbHVlc1tlXT10KSxzPSEwO2lmKCEwPT09cyYmITA9PT10aGlzLmNhbGxlZEFyZ3MuaGFzT3duUHJvcGVydHkoZSkpZm9yKHZhciBjPTA7Yzx0aGlzLmNhbGxlZEFyZ3NbZV0ubGVuZ3RoO2MrKyl0aGlzLmNhbGxlZEFyZ3NbZV1bY10uX2FyZ3NWYWx1ZXNbZV09dGhpcy5fYXJnc1ZhbHVlc1tlXTticmVha319cmV0dXJuIHR9fSx7a2V5OlwicmVhZEFyZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl93ZWJDTEdMLnJlYWRCdWZmZXIodGhpcy5fYXJnc1ZhbHVlc1tlXSl9fSx7a2V5Olwic2V0SW5kaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuQ0xHTF9idWZmZXJJbmRpY2VzPXRoaXMuX3dlYkNMR0wuY3JlYXRlQnVmZmVyKFwiRkxPQVRcIiwhMSxcIlZFUlRFWF9JTkRFWFwiKSx0aGlzLkNMR0xfYnVmZmVySW5kaWNlcy53cml0ZUJ1ZmZlcihlKX19LHtrZXk6XCJnZXRDdHhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJDTEdMLmdldENvbnRleHQoKX19LHtrZXk6XCJzZXRDdHhcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9nbD1lfX0se2tleTpcImdldFdlYkNMR0xcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJDTEdMfX0se2tleTpcIm9uUHJlUHJvY2Vzc0tlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5rZXJuZWxzW2VdLm9ucHJlPXR9fSx7a2V5Olwib25Qb3N0UHJvY2Vzc0tlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5rZXJuZWxzW2VdLm9ucG9zdD10fX0se2tleTpcImVuYWJsZUtlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMua2VybmVsc1tcIjBcInxlLnRvU3RyaW5nKCldLmVuYWJsZWQ9ITB9fSx7a2V5OlwiZGlzYWJsZUtlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMua2VybmVsc1tcIjBcInxlLnRvU3RyaW5nKCldLmVuYWJsZWQ9ITF9fSx7a2V5OlwiZ2V0S2VybmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMua2VybmVscylpZih0PT09ZSlyZXR1cm4gdGhpcy5rZXJuZWxzW3RdO3JldHVybiBudWxsfX0se2tleTpcImdldEFsbEtlcm5lbHNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtlcm5lbHN9fSx7a2V5Olwib25QcmVQcm9jZXNzR3JhcGhpY1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zW2VdLm9ucHJlPXR9fSx7a2V5Olwib25Qb3N0UHJvY2Vzc0dyYXBoaWNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tlXS5vbnBvc3Q9dH19LHtrZXk6XCJlbmFibGVHcmFwaGljXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zW1wiMFwifGUudG9TdHJpbmcoKV0uZW5hYmxlZD0hMH19LHtrZXk6XCJkaXNhYmxlR3JhcGhpY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tcIjBcInxlLnRvU3RyaW5nKCldLmVuYWJsZWQ9ITF9fSx7a2V5OlwiZ2V0VmVydGV4RnJhZ21lbnRQcm9ncmFtXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtcylpZih0PT09ZSlyZXR1cm4gdGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zW3RdO3JldHVybiBudWxsfX0se2tleTpcImdldEFsbFZlcnRleEZyYWdtZW50UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc319LHtrZXk6XCJwcm9jZXNzS2VybmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKCEwPT09ZS5lbmFibGVkKXtpZih2b2lkIDAhPT1uJiZudWxsIT09biYmITA9PT1uJiYodGhpcy5hcnJNYWtlQ29weT1bXSksITA9PT1lLmRlcHRoVGVzdD90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuREVQVEhfVEVTVCk6dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5ERVBUSF9URVNUKSwhMD09PWUuYmxlbmQ/dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkJMRU5EKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkJMRU5EKSx0aGlzLl9nbC5ibGVuZEZ1bmModGhpcy5fZ2xbZS5ibGVuZFNyY01vZGVdLHRoaXMuX2dsW2UuYmxlbmREc3RNb2RlXSksdGhpcy5fZ2wuYmxlbmRFcXVhdGlvbih0aGlzLl9nbFtlLmJsZW5kRXF1YXRpb25dKSx2b2lkIDAhPT1lLm9ucHJlJiZudWxsIT09ZS5vbnByZSYmZS5vbnByZSgpLHZvaWQgMD09PXR8fG51bGw9PT10fHwhMD09PXQpe2Zvcih2YXIgaT0hMSxvPTA7bzxlLm91dHB1dC5sZW5ndGg7bysrKWlmKG51bGwhPWUub3V0cHV0W29dJiYhMD09PWUub3V0cHV0VGVtcE1vZGVzW29dKXtpPSEwO2JyZWFrfSEwPT09aT8odGhpcy5fd2ViQ0xHTC5lbnF1ZXVlTkRSYW5nZUtlcm5lbChlLGwuV2ViQ0xHTFV0aWxzLmdldE91dHB1dEJ1ZmZlcnMoZSx0aGlzLl9hcmdzVmFsdWVzKSwhMCx0aGlzLl9hcmdzVmFsdWVzKSx0aGlzLmFyck1ha2VDb3B5LnB1c2goZSkpOnRoaXMuX3dlYkNMR0wuZW5xdWV1ZU5EUmFuZ2VLZXJuZWwoZSxsLldlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKGUsdGhpcy5fYXJnc1ZhbHVlcyksITEsdGhpcy5fYXJnc1ZhbHVlcyl9ZWxzZSB0aGlzLl93ZWJDTEdMLmVucXVldWVORFJhbmdlS2VybmVsKGUsbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyhlLHRoaXMuX2FyZ3NWYWx1ZXMpLCExLHRoaXMuX2FyZ3NWYWx1ZXMpO3ZvaWQgMCE9PWUub25wb3N0JiZudWxsIT09ZS5vbnBvc3QmJmUub25wb3N0KCksdm9pZCAwIT09biYmbnVsbCE9PW4mJiEwPT09biYmdGhpcy5wcm9jZXNzQ29waWVzKCl9fX0se2tleTpcInByb2Nlc3NDb3BpZXNcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuYXJyTWFrZUNvcHkubGVuZ3RoO3QrKyl0aGlzLl93ZWJDTEdMLmNvcHkodGhpcy5hcnJNYWtlQ29weVt0XSxsLldlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKHRoaXMuYXJyTWFrZUNvcHlbdF0sdGhpcy5fYXJnc1ZhbHVlcykpfX0se2tleTpcInByb2Nlc3NLZXJuZWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hcnJNYWtlQ29weT1bXTtmb3IodmFyIHQgaW4gdGhpcy5rZXJuZWxzKXRoaXMucHJvY2Vzc0tlcm5lbCh0aGlzLmtlcm5lbHNbdF0sZSk7dGhpcy5wcm9jZXNzQ29waWVzKCl9fSx7a2V5OlwicHJvY2Vzc0dyYXBoaWNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gdGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zKXt2YXIgaT10aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXNbbl07aWYoITA9PT1pLmVuYWJsZWQpe3ZhciBvPXZvaWQgMCE9PWUmJm51bGwhPT1lfHx2b2lkIDA9PT10aGlzLkNMR0xfYnVmZmVySW5kaWNlc3x8bnVsbD09PXRoaXMuQ0xHTF9idWZmZXJJbmRpY2VzP3RoaXMuX2FyZ3NWYWx1ZXNbZV06dGhpcy5DTEdMX2J1ZmZlckluZGljZXM7aWYodm9pZCAwIT09byYmbnVsbCE9PW8mJm8ubGVuZ3RoPjApeyEwPT09aS5kZXB0aFRlc3Q/dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuREVQVEhfVEVTVCksITA9PT1pLmJsZW5kP3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5CTEVORCk6dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5CTEVORCksdGhpcy5fZ2wuYmxlbmRGdW5jKHRoaXMuX2dsW2kuYmxlbmRTcmNNb2RlXSx0aGlzLl9nbFtpLmJsZW5kRHN0TW9kZV0pLHRoaXMuX2dsLmJsZW5kRXF1YXRpb24odGhpcy5fZ2xbaS5ibGVuZEVxdWF0aW9uXSksdm9pZCAwIT09aS5vbnByZSYmbnVsbCE9PWkub25wcmUmJmkub25wcmUoKTtmb3IodmFyIHI9ITEscz0wO3M8aS5vdXRwdXQubGVuZ3RoO3MrKylpZihudWxsIT1pLm91dHB1dFtzXSYmITA9PT1pLm91dHB1dFRlbXBNb2Rlc1tzXSl7cj0hMDticmVha30hMD09PXI/KHRoaXMuX3dlYkNMR0wuZW5xdWV1ZVZlcnRleEZyYWdtZW50UHJvZ3JhbShpLG8saS5kcmF3TW9kZSxsLldlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKGksdGhpcy5fYXJnc1ZhbHVlcyksITAsdGhpcy5fYXJnc1ZhbHVlcyksdC5wdXNoKGkpKTp0aGlzLl93ZWJDTEdMLmVucXVldWVWZXJ0ZXhGcmFnbWVudFByb2dyYW0oaSxvLGkuZHJhd01vZGUsbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyhpLHRoaXMuX2FyZ3NWYWx1ZXMpLCExLHRoaXMuX2FyZ3NWYWx1ZXMpLHZvaWQgMCE9PWkub25wb3N0JiZudWxsIT09aS5vbnBvc3QmJmkub25wb3N0KCl9fX1mb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl0aGlzLl93ZWJDTEdMLmNvcHkodFthXSxsLldlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKHRbYV0sdGhpcy5fYXJnc1ZhbHVlcykpfX0se2tleTpcImluaVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzBdLHQ9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwO2UubGVuZ3RoPjM/KHRoaXMuX2FyZ3M9ZVswXSx0PWVbMV0sbj1lWzJdLGk9ZVszXSk6KHRoaXMuX2FyZ3M9ZVswXSx0PWVbMV0sbj1cIkZMT0FUXCIsaT1lWzJdKTt2YXIgbz0wO2Zvcih2YXIgciBpbiB0aGlzLl9hcmdzKXt2YXIgcz10aGlzLl9hcmdzW3JdO3RoaXMuc2V0QXJnKHIuc3BsaXQoXCIgXCIpWzFdLHMpLDA9PT1vJiYocyBpbnN0YW5jZW9mIEFycmF5fHxzIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHxzIGluc3RhbmNlb2YgVWludDhBcnJheXx8cyBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpJiYobz1zLmxlbmd0aCl9cmV0dXJuXCJGTE9BVFwiPT09bj90aGlzLmFkZEFyZyhcImZsb2F0KiByZXN1bHRcIik6dGhpcy5hZGRBcmcoXCJmbG9hdDQqIHJlc3VsdFwiKSx0aGlzLnNldEFyZyhcInJlc3VsdFwiLG5ldyBGbG9hdDMyQXJyYXkobyksbnVsbCxuKSx0aGlzLmFkZEtlcm5lbCh7dHlwZTpcIktFUk5FTFwiLG5hbWU6XCJTSU1QTEVfS0VSTkVMXCIsdmlld1NvdXJjZTohMSxjb25maWc6W3QsW1wicmVzdWx0XCJdLFwiXCIsaV19KSx0aGlzLnByb2Nlc3NLZXJuZWxzKCksdGhpcy5fd2ViQ0xHTC5yZWFkQnVmZmVyKHRoaXMuX2FyZ3NWYWx1ZXMucmVzdWx0KX19LHtrZXk6XCJpbmlHXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl93ZWJDTEdMLmdldENvbnRleHQoKS5kZXB0aEZ1bmModGhpcy5fd2ViQ0xHTC5nZXRDb250ZXh0KCkuTEVRVUFMKSx0aGlzLl93ZWJDTEdMLmdldENvbnRleHQoKS5jbGVhckRlcHRoKDEpO3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLl9hcmdzPWVbMV07Zm9yKHZhciB0PTI7dDxlLmxlbmd0aDt0KyspXCJLRVJORUxcIj09PWVbdF0udHlwZT90aGlzLmFkZEtlcm5lbChlW3RdKTpcIkdSQVBISUNcIj09PWVbdF0udHlwZSYmdGhpcy5hZGRHcmFwaGljKGVbdF0pO2Zvcih2YXIgbiBpbiB0aGlzLl9hcmdzKXt2YXIgaT10aGlzLl9hcmdzW25dO1wiaW5kaWNlc1wiPT09bj9udWxsIT09aSYmdGhpcy5zZXRJbmRpY2VzKGkpOnRoaXMuc2V0QXJnKG4uc3BsaXQoXCIgXCIpWzFdLGkpfX19XSksZX0oKTt0LldlYkNMR0xGb3I9dSxuLmV4cG9ydHMuV2ViQ0xHTEZvcj11LHQuZ3B1Zm9yPXIsbi5leHBvcnRzLmdwdWZvcj1yfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9XZWJDTEdMLmNsYXNzXCI6MSxcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCI6NX1dLDQ6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaS5XZWJDTEdMS2VybmVsPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCIpLGE9aS5XZWJDTEdMS2VybmVsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSl7byh0aGlzLGUpLHRoaXMuX2dsPXQ7dmFyIHI9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTt0aGlzLl9wcmVjaXNpb249MCE9PXIucHJlY2lzaW9uP1wicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnByZWNpc2lvbiBoaWdocCBpbnQ7XFxuXFxuXCI6XCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG5wcmVjaXNpb24gbG93cCBpbnQ7XFxuXFxuXCI7dmFyIHM9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpO3RoaXMuX21heERyYXdCdWZmZXJzPW51bGwsbnVsbCE9cyYmKHRoaXMuX21heERyYXdCdWZmZXJzPXRoaXMuX2dsLmdldFBhcmFtZXRlcihzLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wpKSx0aGlzLm5hbWU9XCJcIix0aGlzLmVuYWJsZWQ9ITAsdGhpcy5kZXB0aFRlc3Q9bnVsbCx0aGlzLmJsZW5kPW51bGwsdGhpcy5ibGVuZFNyY01vZGU9bnVsbCx0aGlzLmJsZW5kRHN0TW9kZT1udWxsLHRoaXMuYmxlbmRFcXVhdGlvbj1udWxsLHRoaXMub25wcmU9bnVsbCx0aGlzLm9ucG9zdD1udWxsLHRoaXMudmlld1NvdXJjZT0hMSx0aGlzLmluX3ZhbHVlcz17fSx0aGlzLm91dHB1dD1udWxsLHRoaXMub3V0cHV0VGVtcE1vZGVzPW51bGwsdGhpcy5mQnVmZmVyPW51bGwsdGhpcy5mQnVmZmVyVGVtcD1udWxsLHRoaXMuZkJ1ZmZlckxlbmd0aD0wLHRoaXMuZkJ1ZmZlckNvdW50PTAsdm9pZCAwIT09biYmbnVsbCE9PW4mJnRoaXMuc2V0S2VybmVsU291cmNlKG4saSl9cmV0dXJuIHIoZSxbe2tleTpcInNldEtlcm5lbFNvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcHJlY2lzaW9uK1wiYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiBnbG9iYWxfaWQ7XFxudm9pZCBtYWluKHZvaWQpIHtcXG5nbF9Qb3NpdGlvbiA9IHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbmdsb2JhbF9pZCA9IGFWZXJ0ZXhQb3NpdGlvbi54eSowLjUrMC41O1xcbn1cXG5cIix0PVwiI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZVxcblwiK3RoaXMuX3ByZWNpc2lvbitzLldlYkNMR0xVdGlscy5saW5lc19mcmFnbWVudF9hdHRycyh0aGlzLmluX3ZhbHVlcykrXCJ2YXJ5aW5nIHZlYzIgZ2xvYmFsX2lkO1xcbnVuaWZvcm0gZmxvYXQgdUJ1ZmZlcldpZHRoO3ZlYzIgZ2V0X2dsb2JhbF9pZCgpIHtcXG5yZXR1cm4gZ2xvYmFsX2lkO1xcbn1cXG5cIitzLldlYkNMR0xVdGlscy5nZXRfZ2xvYmFsX2lkM19HTFNMRnVuY3Rpb25TdHJpbmcoKStzLldlYkNMR0xVdGlscy5nZXRfZ2xvYmFsX2lkMl9HTFNMRnVuY3Rpb25TdHJpbmcoKSt0aGlzLl9oZWFkK1widm9pZCBtYWluKHZvaWQpIHtcXG5cIitzLldlYkNMR0xVdGlscy5saW5lc19kcmF3QnVmZmVyc0luaXQoOCkrdGhpcy5fc291cmNlK3MuV2ViQ0xHTFV0aWxzLmxpbmVzX2RyYXdCdWZmZXJzV3JpdGUoOCkrXCJ9XFxuXCI7dGhpcy5rZXJuZWw9dGhpcy5fZ2wuY3JlYXRlUHJvZ3JhbSgpLChuZXcgcy5XZWJDTEdMVXRpbHMpLmNyZWF0ZVNoYWRlcih0aGlzLl9nbCxcIldFQkNMR0xcIixlLHQsdGhpcy5rZXJuZWwpLHRoaXMuYXR0cl9WZXJ0ZXhQb3M9dGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5rZXJuZWwsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy51QnVmZmVyV2lkdGg9dGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMua2VybmVsLFwidUJ1ZmZlcldpZHRoXCIpO2Zvcih2YXIgbiBpbiB0aGlzLmluX3ZhbHVlcyl7dmFyIGk9e2Zsb2F0NF9mcm9tU2FtcGxlcjpcIlNBTVBMRVJcIixmbG9hdF9mcm9tU2FtcGxlcjpcIlNBTVBMRVJcIixmbG9hdDpcIlVOSUZPUk1cIixmbG9hdDQ6XCJVTklGT1JNXCIsbWF0NDpcIlVOSUZPUk1cIn1bdGhpcy5pbl92YWx1ZXNbbl0udHlwZV07cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92YWx1ZXMsbiksdGhpcy5pbl92YWx1ZXNbbl0ubG9jYXRpb249W3RoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLmtlcm5lbCxuLnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKSldLHRoaXMuaW5fdmFsdWVzW25dLmV4cGVjdGVkTW9kZT1pfXJldHVyblwiVkVSVEVYIFBST0dSQU1cXG5cIitlK1wiXFxuIEZSQUdNRU5UIFBST0dSQU1cXG5cIit0fS5iaW5kKHRoaXMpLGk9ZS5zcGxpdChcIilcIilbMF0uc3BsaXQoXCIoXCIpWzFdLnNwbGl0KFwiLFwiKSxvPTAscj1pLmxlbmd0aDtvPHI7bysrKWlmKG51bGwhPT1pW29dLm1hdGNoKC9cXCovZ20pKXt2YXIgYT1pW29dLnNwbGl0KFwiKlwiKVsxXS50cmltKCk7cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92YWx1ZXMsYSksbnVsbCE9aVtvXS5tYXRjaCgvZmxvYXQ0L2dtKT90aGlzLmluX3ZhbHVlc1thXS50eXBlPVwiZmxvYXQ0X2Zyb21TYW1wbGVyXCI6bnVsbCE9aVtvXS5tYXRjaCgvZmxvYXQvZ20pJiYodGhpcy5pbl92YWx1ZXNbYV0udHlwZT1cImZsb2F0X2Zyb21TYW1wbGVyXCIpfWVsc2UgaWYoXCJcIiE9PWlbb10pe3ZhciBsPWlbb10uc3BsaXQoXCIgXCIpWzFdLnRyaW0oKTtmb3IodmFyIHUgaW4gdGhpcy5pbl92YWx1ZXMpaWYodS5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIik9PT1sKXtsPXU7YnJlYWt9cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92YWx1ZXMsbCksbnVsbCE9aVtvXS5tYXRjaCgvZmxvYXQ0L2dtKT90aGlzLmluX3ZhbHVlc1tsXS50eXBlPVwiZmxvYXQ0XCI6bnVsbCE9aVtvXS5tYXRjaCgvZmxvYXQvZ20pP3RoaXMuaW5fdmFsdWVzW2xdLnR5cGU9XCJmbG9hdFwiOm51bGwhPWlbb10ubWF0Y2goL21hdDQvZ20pJiYodGhpcy5pbl92YWx1ZXNbbF0udHlwZT1cIm1hdDRcIil9dGhpcy5faGVhZD12b2lkIDAhPT10JiZudWxsIT09dD90OlwiXCIsdGhpcy5faGVhZD10aGlzLl9oZWFkLnJlcGxhY2UoL1xcclxcbi9naSxcIlwiKS5yZXBsYWNlKC9cXHIvZ2ksXCJcIikucmVwbGFjZSgvXFxuL2dpLFwiXCIpLHRoaXMuX2hlYWQ9cy5XZWJDTEdMVXRpbHMucGFyc2VTb3VyY2UodGhpcy5faGVhZCx0aGlzLmluX3ZhbHVlcyksdGhpcy5fc291cmNlPWUucmVwbGFjZSgvXFxyXFxuL2dpLFwiXCIpLnJlcGxhY2UoL1xcci9naSxcIlwiKS5yZXBsYWNlKC9cXG4vZ2ksXCJcIiksdGhpcy5fc291cmNlPXRoaXMuX3NvdXJjZS5yZXBsYWNlKC9eXFx3KiBcXHcqXFwoW1xcd1xcc1xcKixdKlxcKSB7L2dpLFwiXCIpLnJlcGxhY2UoL30oXFxzfFxcdCkqJC9naSxcIlwiKSx0aGlzLl9zb3VyY2U9cy5XZWJDTEdMVXRpbHMucGFyc2VTb3VyY2UodGhpcy5fc291cmNlLHRoaXMuaW5fdmFsdWVzKTt2YXIgYz1uKCk7ITA9PT10aGlzLnZpZXdTb3VyY2UmJihjb25zb2xlLmxvZyhcIiVjIEtFUk5FTDogXCIrdGhpcy5uYW1lLFwiZm9udC1zaXplOiAyMHB4OyBjb2xvcjogYmx1ZVwiKSxjb25zb2xlLmxvZyhcIiVjIFdFQkNMR0wgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIixcImNvbG9yOiBncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrdCtlLFwiY29sb3I6IGdyYXlcIiksY29uc29sZS5sb2coXCIlYyBUUkFOU0xBVEVEIFdFQkdMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiLFwiY29sb3I6IGRhcmtncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrYyxcImNvbG9yOiBkYXJrZ3JheVwiKSl9fV0pLGV9KCk7dC5XZWJDTEdMS2VybmVsPWEsbi5leHBvcnRzLldlYkNMR0xLZXJuZWw9YX0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCI6NX1dLDU6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWkuV2ViQ0xHTFV0aWxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QodGhpcyxlKX1yZXR1cm4gbyhlLFt7a2V5OlwibG9hZFF1YWRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dm9pZCAwPT09dHx8bnVsbD09PXQ/LjU6dCxvPXZvaWQgMD09PW58fG51bGw9PT1uPy41Om47dGhpcy52ZXJ0ZXhBcnJheT1bLWksLW8sMCxpLC1vLDAsaSxvLDAsLWksbywwXSx0aGlzLnRleHR1cmVBcnJheT1bMCwwLDAsMSwwLDAsMSwxLDAsMCwxLDBdLHRoaXMuaW5kZXhBcnJheT1bMCwxLDIsMCwyLDNdO3ZhciByPXt9O3JldHVybiByLnZlcnRleEFycmF5PXRoaXMudmVydGV4QXJyYXksci50ZXh0dXJlQXJyYXk9dGhpcy50ZXh0dXJlQXJyYXksci5pbmRleEFycmF5PXRoaXMuaW5kZXhBcnJheSxyfX0se2tleTpcImNyZWF0ZVNoYWRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIHI9ITEscz0hMSxhPWZ1bmN0aW9uKHQsbil7Y29uc29sZS5sb2codCk7Zm9yKHZhciBpPVtdLG89dC5zcGxpdChcIlxcblwiKSxyPTAscz1vLmxlbmd0aDtyPHM7cisrKWlmKG51bGwhPW9bcl0ubWF0Y2goL15FUlJPUi9naW0pKXt2YXIgYT1vW3JdLnNwbGl0KFwiOlwiKSxsPXBhcnNlSW50KGFbMl0pO2kucHVzaChbbCxvW3JdXSl9dmFyIHU9ZS5nZXRTaGFkZXJTb3VyY2Uobikuc3BsaXQoXCJcXG5cIik7dS51bnNoaWZ0KFwiXCIpO2Zvcih2YXIgYz0wLGQ9dS5sZW5ndGg7YzxkO2MrKyl7Zm9yKHZhciBoPSExLGY9XCJcIixwPTAsZz1pLmxlbmd0aDtwPGc7cCsrKWlmKGM9PT1pW3BdWzBdKXtoPSEwLGY9aVtwXVsxXTticmVha30hMT09PWg/Y29uc29sZS5sb2coXCIlY1wiK2MrXCIgJWNcIit1W2NdLFwiY29sb3I6YmxhY2tcIixcImNvbG9yOmJsdWVcIik6Y29uc29sZS5sb2coXCIlY+KWuuKWuiVjXCIrYytcIiAlY1wiK3VbY10rXCJcXG4lY1wiK2YsXCJjb2xvcjpyZWRcIixcImNvbG9yOmJsYWNrXCIsXCJjb2xvcjpibHVlXCIsXCJjb2xvcjpyZWRcIil9fS5iaW5kKHRoaXMpLGw9ZS5jcmVhdGVTaGFkZXIoZS5WRVJURVhfU0hBREVSKTtpZihlLnNoYWRlclNvdXJjZShsLG4pLGUuY29tcGlsZVNoYWRlcihsKSxlLmdldFNoYWRlclBhcmFtZXRlcihsLGUuQ09NUElMRV9TVEFUVVMpKWUuYXR0YWNoU2hhZGVyKG8sbCkscj0hMDtlbHNle3ZhciB1PWUuZ2V0U2hhZGVySW5mb0xvZyhsKTtjb25zb2xlLmxvZyhcIiVjXCIrdCtcIiBFUlJPUiAodmVydGV4IHByb2dyYW0pXCIsXCJjb2xvcjpyZWRcIiksdm9pZCAwIT09dSYmbnVsbCE9PXUmJmEodSxsKX12YXIgYz1lLmNyZWF0ZVNoYWRlcihlLkZSQUdNRU5UX1NIQURFUik7aWYoZS5zaGFkZXJTb3VyY2UoYyxpKSxlLmNvbXBpbGVTaGFkZXIoYyksZS5nZXRTaGFkZXJQYXJhbWV0ZXIoYyxlLkNPTVBJTEVfU1RBVFVTKSllLmF0dGFjaFNoYWRlcihvLGMpLHM9ITA7ZWxzZXt2YXIgZD1lLmdldFNoYWRlckluZm9Mb2coYyk7Y29uc29sZS5sb2coXCIlY1wiK3QrXCIgRVJST1IgKGZyYWdtZW50IHByb2dyYW0pXCIsXCJjb2xvcjpyZWRcIiksdm9pZCAwIT09ZCYmbnVsbCE9PWQmJmEoZCxjKX1pZighMD09PXImJiEwPT09cyl7aWYoZS5saW5rUHJvZ3JhbShvKSxlLmdldFByb2dyYW1QYXJhbWV0ZXIobyxlLkxJTktfU1RBVFVTKSlyZXR1cm4hMDtjb25zb2xlLmxvZyhcIkVycm9yIHNoYWRlciBwcm9ncmFtIFwiK3QrXCI6XFxuIFwiKTt2YXIgaD1lLmdldFByb2dyYW1JbmZvTG9nKG8pO3JldHVybiB2b2lkIDAhPT1oJiZudWxsIT09aCYmY29uc29sZS5sb2coaCksITF9cmV0dXJuITF9fSx7a2V5OlwicGFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsxLzI1NSwxLzI1NSwxLzI1NSwwXSxuPWUsaT10aGlzLmZyYWN0KDI1NSpuKSxvPXRoaXMuZnJhY3QoMjU1KmkpLHI9W24saSxvLHRoaXMuZnJhY3QoMjU1Km8pXSxzPVtyWzFdKnRbMF0sclsyXSp0WzFdLHJbM10qdFsyXSxyWzNdKnRbM11dO3JldHVybltyWzBdLXNbMF0sclsxXS1zWzFdLHJbMl0tc1syXSxyWzNdLXNbM11dfX0se2tleTpcInVucGFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVsxLDEvMjU1LDEvNjUwMjUsMS8xNjU4MTM3NV07cmV0dXJuIHRoaXMuZG90NChlLHQpfX1dLFt7a2V5OlwiZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtpZihudWxsPT1uKXRyeXtuPXZvaWQgMD09PXR8fG51bGw9PT10P2UuZ2V0Q29udGV4dChcIndlYmdsXCIpOmUuZ2V0Q29udGV4dChcIndlYmdsXCIsdCksY29uc29sZS5sb2cobnVsbD09bj9cIm5vIHdlYmdsXCI6XCJ1c2luZyB3ZWJnbFwiKX1jYXRjaChlKXtuPW51bGx9aWYobnVsbD09bil0cnl7bj12b2lkIDA9PT10fHxudWxsPT09dD9lLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIik6ZS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdCksY29uc29sZS5sb2cobnVsbD09bj9cIm5vIGV4cGVyaW1lbnRhbC13ZWJnbFwiOlwidXNpbmcgZXhwZXJpbWVudGFsLXdlYmdsXCIpfWNhdGNoKGUpe249bnVsbH1yZXR1cm4gbnVsbD09biYmKG49ITEpLG59fSx7a2V5OlwiZ2V0VWludDhBcnJheUZyb21IVE1MSW1hZ2VFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQ7dmFyIG49dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4uZHJhd0ltYWdlKGUsMCwwKSxuLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCkuZGF0YX19LHtrZXk6XCJkb3Q0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXStlWzJdKnRbMl0rZVszXSp0WzNdfX0se2tleTpcImZyYWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9lLU1hdGguZmxvb3IoZSk6ZS1NYXRoLmNlaWwoZSl9fSx7a2V5OlwicGFja0dMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWM0IHBhY2sgKGZsb2F0IGRlcHRoKSB7XFxuY29uc3QgdmVjNCBiaWFzID0gdmVjNCgxLjAgLyAyNTUuMCxcXG4xLjAgLyAyNTUuMCxcXG4xLjAgLyAyNTUuMCxcXG4wLjApO1xcbmZsb2F0IHIgPSBkZXB0aDtcXG5mbG9hdCBnID0gZnJhY3QociAqIDI1NS4wKTtcXG5mbG9hdCBiID0gZnJhY3QoZyAqIDI1NS4wKTtcXG5mbG9hdCBhID0gZnJhY3QoYiAqIDI1NS4wKTtcXG52ZWM0IGNvbG91ciA9IHZlYzQociwgZywgYiwgYSk7XFxucmV0dXJuIGNvbG91ciAtIChjb2xvdXIueXp3dyAqIGJpYXMpO1xcbn1cXG5cIn19LHtrZXk6XCJ1bnBhY2tHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZmxvYXQgdW5wYWNrICh2ZWM0IGNvbG91cikge1xcbmNvbnN0IHZlYzQgYml0U2hpZnRzID0gdmVjNCgxLjAsXFxuMS4wIC8gMjU1LjAsXFxuMS4wIC8gKDI1NS4wICogMjU1LjApLFxcbjEuMCAvICgyNTUuMCAqIDI1NS4wICogMjU1LjApKTtcXG5yZXR1cm4gZG90KGNvbG91ciwgYml0U2hpZnRzKTtcXG59XFxuXCJ9fSx7a2V5OlwiZ2V0T3V0cHV0QnVmZmVyc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtpZih2b2lkIDAhPT1lLm91dHB1dCYmbnVsbCE9PWUub3V0cHV0KWlmKG49W10sbnVsbCE9ZS5vdXRwdXRbMF0pZm9yKHZhciBpPTA7aTxlLm91dHB1dC5sZW5ndGg7aSsrKW5baV09dFtlLm91dHB1dFtpXV07ZWxzZSBuPW51bGw7cmV0dXJuIG59fSx7a2V5OlwicGFyc2VTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgaT1uZXcgUmVnRXhwKG4rXCJcXFxcWyg/IVxcXFxkKS4qP1xcXFxdXCIsXCJnbVwiKSxvPWUubWF0Y2goaSk7aWYobnVsbCE9bylmb3IodmFyIHI9MCxzPW8ubGVuZ3RoO3I8cztyKyspe3ZhciBhPW5ldyBSZWdFeHAoXCJgYGAoc3xcXHQpKmdsLipcIitvW3JdK1wiLipgYGBbXmBgYChzfFxcdCkqZ2xdXCIsXCJnbVwiKTtpZihudWxsPT1lLm1hdGNoKGEpKXt2YXIgbD1vW3JdLnNwbGl0KFwiW1wiKVswXSx1PW9bcl0uc3BsaXQoXCJbXCIpWzFdLnNwbGl0KFwiXVwiKVswXTtlPXtmbG9hdDRfZnJvbVNhbXBsZXI6ZS5yZXBsYWNlKGwrXCJbXCIrdStcIl1cIixcInRleHR1cmUyRChcIitsK1wiLFwiK3UrXCIpXCIpLGZsb2F0X2Zyb21TYW1wbGVyOmUucmVwbGFjZShsK1wiW1wiK3UrXCJdXCIsXCJ0ZXh0dXJlMkQoXCIrbCtcIixcIit1K1wiKS54XCIpLGZsb2F0NF9mcm9tQXR0cjplLnJlcGxhY2UobCtcIltcIit1K1wiXVwiLGwpLGZsb2F0X2Zyb21BdHRyOmUucmVwbGFjZShsK1wiW1wiK3UrXCJdXCIsbCl9W3Rbbl0udHlwZV19fX1yZXR1cm4gZT1lLnJlcGxhY2UoL2BgYChcXHN8XFx0KSpnbC9naSxcIlwiKS5yZXBsYWNlKC9gYGAvZ2ksXCJcIikucmVwbGFjZSgvOy9naSxcIjtcXG5cIikucmVwbGFjZSgvfS9naSxcIn1cXG5cIikucmVwbGFjZSgvey9naSxcIntcXG5cIil9fSx7a2V5OlwibGluZXNfdmVydGV4X2F0dHJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtmb3IodmFyIG4gaW4gZSl0Kz17ZmxvYXQ0X2Zyb21TYW1wbGVyOlwidW5pZm9ybSBzYW1wbGVyMkQgXCIrbitcIjtcIixmbG9hdF9mcm9tU2FtcGxlcjpcInVuaWZvcm0gc2FtcGxlcjJEIFwiK24rXCI7XCIsZmxvYXQ0X2Zyb21BdHRyOlwiYXR0cmlidXRlIHZlYzQgXCIrbitcIjtcIixmbG9hdF9mcm9tQXR0cjpcImF0dHJpYnV0ZSBmbG9hdCBcIituK1wiO1wiLGZsb2F0OlwidW5pZm9ybSBmbG9hdCBcIituK1wiO1wiLGZsb2F0NDpcInVuaWZvcm0gdmVjNCBcIituK1wiO1wiLG1hdDQ6XCJ1bmlmb3JtIG1hdDQgXCIrbitcIjtcIn1bZVtuXS50eXBlXStcIlxcblwiO3JldHVybiB0fX0se2tleTpcImxpbmVzX2ZyYWdtZW50X2F0dHJzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtmb3IodmFyIG4gaW4gZSl0Kz17ZmxvYXQ0X2Zyb21TYW1wbGVyOlwidW5pZm9ybSBzYW1wbGVyMkQgXCIrbitcIjtcIixmbG9hdF9mcm9tU2FtcGxlcjpcInVuaWZvcm0gc2FtcGxlcjJEIFwiK24rXCI7XCIsZmxvYXQ6XCJ1bmlmb3JtIGZsb2F0IFwiK24rXCI7XCIsZmxvYXQ0OlwidW5pZm9ybSB2ZWM0IFwiK24rXCI7XCIsbWF0NDpcInVuaWZvcm0gbWF0NCBcIituK1wiO1wifVtlW25dLnR5cGVdK1wiXFxuXCI7cmV0dXJuIHR9fSx7a2V5OlwibGluZXNfZHJhd0J1ZmZlcnNJbml0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIsbj0wLGk9ZTtuPGk7bisrKXQrPVwiZmxvYXQgb3V0XCIrbitcIl9mbG9hdCA9IC05OTkuOTk5ODk7XFxudmVjNCBvdXRcIituK1wiX2Zsb2F0NDtcXG5cIjtyZXR1cm4gdH19LHtrZXk6XCJsaW5lc19kcmF3QnVmZmVyc1dyaXRlSW5pdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49MCxpPWU7bjxpO24rKyl0Kz1cImxheW91dChsb2NhdGlvbiA9IFwiK24rXCIpIG91dCB2ZWM0IG91dENvbFwiK24rXCI7XFxuXCI7cmV0dXJuIHR9fSx7a2V5OlwibGluZXNfZHJhd0J1ZmZlcnNXcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49MCxpPWU7bjxpO24rKyl0Kz1cImlmKG91dFwiK24rXCJfZmxvYXQgIT0gLTk5OS45OTk4OSkgZ2xfRnJhZ0RhdGFbXCIrbitcIl0gPSB2ZWM0KG91dFwiK24rXCJfZmxvYXQsMC4wLDAuMCwxLjApO1xcbiBlbHNlIGdsX0ZyYWdEYXRhW1wiK24rXCJdID0gb3V0XCIrbitcIl9mbG9hdDQ7XFxuXCI7cmV0dXJuIHR9fSx7a2V5OlwiY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQpeyExPT09ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09e3R5cGU6bnVsbCxleHBlY3RlZE1vZGU6bnVsbCxsb2NhdGlvbjpudWxsfSl9fSx7a2V5OlwiZ2V0X2dsb2JhbF9pZDNfR0xTTEZ1bmN0aW9uU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInZlYzIgZ2V0X2dsb2JhbF9pZChmbG9hdCBpZCwgZmxvYXQgYnVmZmVyV2lkdGgsIGZsb2F0IGdlb21ldHJ5TGVuZ3RoKSB7XFxuZmxvYXQgdGV4ZWxTaXplID0gMS4wL2J1ZmZlcldpZHRoO2Zsb2F0IG51bSA9IChpZCpnZW9tZXRyeUxlbmd0aCkvYnVmZmVyV2lkdGg7ZmxvYXQgY29sdW1uID0gZnJhY3QobnVtKSsodGV4ZWxTaXplLzIuMCk7ZmxvYXQgcm93ID0gKGZsb29yKG51bSkvYnVmZmVyV2lkdGgpKyh0ZXhlbFNpemUvMi4wKTtyZXR1cm4gdmVjMihjb2x1bW4sIHJvdyk7fVxcblwifX0se2tleTpcImdldF9nbG9iYWxfaWQyX0dMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWMyIGdldF9nbG9iYWxfaWQodmVjMiBpZCwgZmxvYXQgYnVmZmVyV2lkdGgpIHtcXG5mbG9hdCB0ZXhlbFNpemUgPSAxLjAvYnVmZmVyV2lkdGg7ZmxvYXQgY29sdW1uID0gKGlkLngvYnVmZmVyV2lkdGgpKyh0ZXhlbFNpemUvMi4wKTtmbG9hdCByb3cgPSAoaWQueS9idWZmZXJXaWR0aCkrKHRleGVsU2l6ZS8yLjApO3JldHVybiB2ZWMyKGNvbHVtbiwgcm93KTt9XFxuXCJ9fV0pLGV9KCk7ZS5XZWJDTEdMVXRpbHM9cixuLmV4cG9ydHMuV2ViQ0xHTFV0aWxzPXJ9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNjpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpLldlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW09dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9XZWJDTEdMVXRpbHMuY2xhc3NcIiksYT1pLldlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpLHIscyl7byh0aGlzLGUpLHRoaXMuX2dsPXQ7dmFyIGE9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTt0aGlzLl9wcmVjaXNpb249MCE9PWEucHJlY2lzaW9uP1wicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnByZWNpc2lvbiBoaWdocCBpbnQ7XFxuXFxuXCI6XCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG5wcmVjaXNpb24gbG93cCBpbnQ7XFxuXFxuXCI7dmFyIGw9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpO3RoaXMuX21heERyYXdCdWZmZXJzPW51bGwsbnVsbCE9bCYmKHRoaXMuX21heERyYXdCdWZmZXJzPXRoaXMuX2dsLmdldFBhcmFtZXRlcihsLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wpKSx0aGlzLm5hbWU9XCJcIix0aGlzLnZpZXdTb3VyY2U9ITEsdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzPXt9LHRoaXMuaW5fZnJhZ21lbnRfdmFsdWVzPXt9LHRoaXMuX3ZlcnRleFBfcmVhZHk9ITEsdGhpcy5fZnJhZ21lbnRQX3JlYWR5PSExLHRoaXMuX3ZlcnRleEhlYWQ9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2U9bnVsbCx0aGlzLl9mcmFnbWVudEhlYWQ9bnVsbCx0aGlzLl9mcmFnbWVudFNvdXJjZT1udWxsLHRoaXMub3V0cHV0PW51bGwsdGhpcy5vdXRwdXRUZW1wTW9kZXM9bnVsbCx0aGlzLmZCdWZmZXI9bnVsbCx0aGlzLmZCdWZmZXJUZW1wPW51bGwsdGhpcy5kcmF3TW9kZT00LHZvaWQgMCE9PW4mJm51bGwhPT1uJiZ0aGlzLnNldFZlcnRleFNvdXJjZShuLGkpLHZvaWQgMCE9PXImJm51bGwhPT1yJiZ0aGlzLnNldEZyYWdtZW50U291cmNlKHIscyl9cmV0dXJuIHIoZSxbe2tleTpcImNvbXBpbGVWZXJ0ZXhGcmFnbWVudFNvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcHJlY2lzaW9uK1widW5pZm9ybSBmbG9hdCB1T2Zmc2V0O1xcbnVuaWZvcm0gZmxvYXQgdUJ1ZmZlcldpZHRoO1wiK3MuV2ViQ0xHTFV0aWxzLmxpbmVzX3ZlcnRleF9hdHRycyh0aGlzLmluX3ZlcnRleF92YWx1ZXMpK3MuV2ViQ0xHTFV0aWxzLnVucGFja0dMU0xGdW5jdGlvblN0cmluZygpK3MuV2ViQ0xHTFV0aWxzLmdldF9nbG9iYWxfaWQzX0dMU0xGdW5jdGlvblN0cmluZygpK3MuV2ViQ0xHTFV0aWxzLmdldF9nbG9iYWxfaWQyX0dMU0xGdW5jdGlvblN0cmluZygpK3RoaXMuX3ZlcnRleEhlYWQrXCJ2b2lkIG1haW4odm9pZCkge1xcblwiK3RoaXMuX3ZlcnRleFNvdXJjZStcIn1cXG5cIix0PVwiI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZVxcblwiK3RoaXMuX3ByZWNpc2lvbitzLldlYkNMR0xVdGlscy5saW5lc19mcmFnbWVudF9hdHRycyh0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcykrcy5XZWJDTEdMVXRpbHMuZ2V0X2dsb2JhbF9pZDNfR0xTTEZ1bmN0aW9uU3RyaW5nKCkrcy5XZWJDTEdMVXRpbHMuZ2V0X2dsb2JhbF9pZDJfR0xTTEZ1bmN0aW9uU3RyaW5nKCkrdGhpcy5fZnJhZ21lbnRIZWFkK1widm9pZCBtYWluKHZvaWQpIHtcXG5cIitzLldlYkNMR0xVdGlscy5saW5lc19kcmF3QnVmZmVyc0luaXQoOCkrdGhpcy5fZnJhZ21lbnRTb3VyY2Urcy5XZWJDTEdMVXRpbHMubGluZXNfZHJhd0J1ZmZlcnNXcml0ZSg4KStcIn1cXG5cIjt0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbT10aGlzLl9nbC5jcmVhdGVQcm9ncmFtKCksKG5ldyBzLldlYkNMR0xVdGlscykuY3JlYXRlU2hhZGVyKHRoaXMuX2dsLFwiV0VCQ0xHTCBWRVJURVggRlJBR01FTlQgUFJPR1JBTVwiLGUsdCx0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbSksdGhpcy51T2Zmc2V0PXRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbSxcInVPZmZzZXRcIiksdGhpcy51QnVmZmVyV2lkdGg9dGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtLFwidUJ1ZmZlcldpZHRoXCIpO2Zvcih2YXIgbiBpbiB0aGlzLmluX3ZlcnRleF92YWx1ZXMpe3ZhciBpPXtmbG9hdDRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXQ0X2Zyb21BdHRyOlwiQVRUUklCVVRFXCIsZmxvYXRfZnJvbUF0dHI6XCJBVFRSSUJVVEVcIixmbG9hdDpcIlVOSUZPUk1cIixmbG9hdDQ6XCJVTklGT1JNXCIsbWF0NDpcIlVOSUZPUk1cIn1bdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW25dLnR5cGVdO3MuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmVydGV4X3ZhbHVlcyxuKTt2YXIgbz1cIkFUVFJJQlVURVwiPT09aT90aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbSxuKTp0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW0sbi5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIikpO3RoaXMuaW5fdmVydGV4X3ZhbHVlc1tuXS5sb2NhdGlvbj1bb10sdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW25dLmV4cGVjdGVkTW9kZT1pfWZvcih2YXIgciBpbiB0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcyl7dmFyIGE9e2Zsb2F0NF9mcm9tU2FtcGxlcjpcIlNBTVBMRVJcIixmbG9hdF9mcm9tU2FtcGxlcjpcIlNBTVBMRVJcIixmbG9hdDpcIlVOSUZPUk1cIixmbG9hdDQ6XCJVTklGT1JNXCIsbWF0NDpcIlVOSUZPUk1cIn1bdGhpcy5pbl9mcmFnbWVudF92YWx1ZXNbcl0udHlwZV07cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl9mcmFnbWVudF92YWx1ZXMsciksdGhpcy5pbl9mcmFnbWVudF92YWx1ZXNbcl0ubG9jYXRpb249W3RoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbSxyLnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKSldLHRoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW3JdLmV4cGVjdGVkTW9kZT1hfXJldHVyblwiVkVSVEVYIFBST0dSQU1cXG5cIitlK1wiXFxuIEZSQUdNRU5UIFBST0dSQU1cXG5cIit0fX0se2tleTpcInNldFZlcnRleFNvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUuc3BsaXQoXCIpXCIpWzBdLnNwbGl0KFwiKFwiKVsxXS5zcGxpdChcIixcIiksaT0wLG89bi5sZW5ndGg7aTxvO2krKylpZihudWxsIT09bltpXS5tYXRjaCgvXFwqYXR0ci9nbSkpe3ZhciByPW5baV0uc3BsaXQoXCIqYXR0clwiKVsxXS50cmltKCk7cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92ZXJ0ZXhfdmFsdWVzLHIpLG51bGwhPW5baV0ubWF0Y2goL2Zsb2F0NC9nbSk/dGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW3JdLnR5cGU9XCJmbG9hdDRfZnJvbUF0dHJcIjpudWxsIT1uW2ldLm1hdGNoKC9mbG9hdC9nbSkmJih0aGlzLmluX3ZlcnRleF92YWx1ZXNbcl0udHlwZT1cImZsb2F0X2Zyb21BdHRyXCIpfWVsc2UgaWYobnVsbCE9PW5baV0ubWF0Y2goL1xcKi9nbSkpe3ZhciBhPW5baV0uc3BsaXQoXCIqXCIpWzFdLnRyaW0oKTtzLldlYkNMR0xVdGlscy5jaGVja0FyZ05hbWVJbml0aWFsaXphdGlvbih0aGlzLmluX3ZlcnRleF92YWx1ZXMsYSksbnVsbCE9bltpXS5tYXRjaCgvZmxvYXQ0L2dtKT90aGlzLmluX3ZlcnRleF92YWx1ZXNbYV0udHlwZT1cImZsb2F0NF9mcm9tU2FtcGxlclwiOm51bGwhPW5baV0ubWF0Y2goL2Zsb2F0L2dtKSYmKHRoaXMuaW5fdmVydGV4X3ZhbHVlc1thXS50eXBlPVwiZmxvYXRfZnJvbVNhbXBsZXJcIil9ZWxzZSBpZihcIlwiIT09bltpXSl7dmFyIGw9bltpXS5zcGxpdChcIiBcIilbMV0udHJpbSgpO2Zvcih2YXIgdSBpbiB0aGlzLmluX3ZlcnRleF92YWx1ZXMpaWYodS5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIik9PT1sKXtsPXU7YnJlYWt9cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92ZXJ0ZXhfdmFsdWVzLGwpLG51bGwhPW5baV0ubWF0Y2goL2Zsb2F0NC9nbSk/dGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW2xdLnR5cGU9XCJmbG9hdDRcIjpudWxsIT1uW2ldLm1hdGNoKC9mbG9hdC9nbSk/dGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW2xdLnR5cGU9XCJmbG9hdFwiOm51bGwhPW5baV0ubWF0Y2goL21hdDQvZ20pJiYodGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW2xdLnR5cGU9XCJtYXQ0XCIpfWlmKHRoaXMuX3ZlcnRleEhlYWQ9dm9pZCAwIT09dCYmbnVsbCE9PXQ/dDpcIlwiLHRoaXMuX3ZlcnRleEhlYWQ9dGhpcy5fdmVydGV4SGVhZC5yZXBsYWNlKC9cXHJcXG4vZ2ksXCJcIikucmVwbGFjZSgvXFxyL2dpLFwiXCIpLnJlcGxhY2UoL1xcbi9naSxcIlwiKSx0aGlzLl92ZXJ0ZXhIZWFkPXMuV2ViQ0xHTFV0aWxzLnBhcnNlU291cmNlKHRoaXMuX3ZlcnRleEhlYWQsdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzKSx0aGlzLl92ZXJ0ZXhTb3VyY2U9ZS5yZXBsYWNlKC9cXHJcXG4vZ2ksXCJcIikucmVwbGFjZSgvXFxyL2dpLFwiXCIpLnJlcGxhY2UoL1xcbi9naSxcIlwiKSx0aGlzLl92ZXJ0ZXhTb3VyY2U9dGhpcy5fdmVydGV4U291cmNlLnJlcGxhY2UoL15cXHcqIFxcdypcXChbXFx3XFxzXFwqLF0qXFwpIHsvZ2ksXCJcIikucmVwbGFjZSgvfShcXHN8XFx0KSokL2dpLFwiXCIpLHRoaXMuX3ZlcnRleFNvdXJjZT1zLldlYkNMR0xVdGlscy5wYXJzZVNvdXJjZSh0aGlzLl92ZXJ0ZXhTb3VyY2UsdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzKSx0aGlzLl92ZXJ0ZXhQX3JlYWR5PSEwLCEwPT09dGhpcy5fZnJhZ21lbnRQX3JlYWR5KXt2YXIgYz10aGlzLmNvbXBpbGVWZXJ0ZXhGcmFnbWVudFNvdXJjZSgpOyEwPT09dGhpcy52aWV3U291cmNlJiYoY29uc29sZS5sb2coXCIlYyBWRlA6IFwiK3RoaXMubmFtZSxcImZvbnQtc2l6ZTogMjBweDsgY29sb3I6IGdyZWVuXCIpLGNvbnNvbGUubG9nKFwiJWMgV0VCQ0xHTCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiLFwiY29sb3I6IGdyYXlcIiksY29uc29sZS5sb2coXCIlYyBcIit0K2UsXCJjb2xvcjogZ3JheVwiKSxjb25zb2xlLmxvZyhcIiVjIFRSQU5TTEFURUQgV0VCR0wgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIsXCJjb2xvcjogZGFya2dyYXlcIiksY29uc29sZS5sb2coXCIlYyBcIitjLFwiY29sb3I6IGRhcmtncmF5XCIpKX19fSx7a2V5Olwic2V0RnJhZ21lbnRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwiKVwiKVswXS5zcGxpdChcIihcIilbMV0uc3BsaXQoXCIsXCIpLGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspaWYobnVsbCE9PW5baV0ubWF0Y2goL1xcKi9nbSkpe3ZhciByPW5baV0uc3BsaXQoXCIqXCIpWzFdLnRyaW0oKTtzLldlYkNMR0xVdGlscy5jaGVja0FyZ05hbWVJbml0aWFsaXphdGlvbih0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcyxyKSxudWxsIT1uW2ldLm1hdGNoKC9mbG9hdDQvZ20pP3RoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW3JdLnR5cGU9XCJmbG9hdDRfZnJvbVNhbXBsZXJcIjpudWxsIT1uW2ldLm1hdGNoKC9mbG9hdC9nbSkmJih0aGlzLmluX2ZyYWdtZW50X3ZhbHVlc1tyXS50eXBlPVwiZmxvYXRfZnJvbVNhbXBsZXJcIil9ZWxzZSBpZihcIlwiIT09bltpXSl7dmFyIGE9bltpXS5zcGxpdChcIiBcIilbMV0udHJpbSgpO2Zvcih2YXIgbCBpbiB0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcylpZihsLnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKT09PWEpe2E9bDticmVha31zLldlYkNMR0xVdGlscy5jaGVja0FyZ05hbWVJbml0aWFsaXphdGlvbih0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcyxhKSxudWxsIT1uW2ldLm1hdGNoKC9mbG9hdDQvZ20pP3RoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW2FdLnR5cGU9XCJmbG9hdDRcIjpudWxsIT1uW2ldLm1hdGNoKC9mbG9hdC9nbSk/dGhpcy5pbl9mcmFnbWVudF92YWx1ZXNbYV0udHlwZT1cImZsb2F0XCI6bnVsbCE9bltpXS5tYXRjaCgvbWF0NC9nbSkmJih0aGlzLmluX2ZyYWdtZW50X3ZhbHVlc1thXS50eXBlPVwibWF0NFwiKX1pZih0aGlzLl9mcmFnbWVudEhlYWQ9dm9pZCAwIT09dCYmbnVsbCE9PXQ/dDpcIlwiLHRoaXMuX2ZyYWdtZW50SGVhZD10aGlzLl9mcmFnbWVudEhlYWQucmVwbGFjZSgvXFxyXFxuL2dpLFwiXCIpLnJlcGxhY2UoL1xcci9naSxcIlwiKS5yZXBsYWNlKC9cXG4vZ2ksXCJcIiksdGhpcy5fZnJhZ21lbnRIZWFkPXMuV2ViQ0xHTFV0aWxzLnBhcnNlU291cmNlKHRoaXMuX2ZyYWdtZW50SGVhZCx0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcyksdGhpcy5fZnJhZ21lbnRTb3VyY2U9ZS5yZXBsYWNlKC9cXHJcXG4vZ2ksXCJcIikucmVwbGFjZSgvXFxyL2dpLFwiXCIpLnJlcGxhY2UoL1xcbi9naSxcIlwiKSx0aGlzLl9mcmFnbWVudFNvdXJjZT10aGlzLl9mcmFnbWVudFNvdXJjZS5yZXBsYWNlKC9eXFx3KiBcXHcqXFwoW1xcd1xcc1xcKixdKlxcKSB7L2dpLFwiXCIpLnJlcGxhY2UoL30oXFxzfFxcdCkqJC9naSxcIlwiKSx0aGlzLl9mcmFnbWVudFNvdXJjZT1zLldlYkNMR0xVdGlscy5wYXJzZVNvdXJjZSh0aGlzLl9mcmFnbWVudFNvdXJjZSx0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcyksdGhpcy5fZnJhZ21lbnRQX3JlYWR5PSEwLCEwPT09dGhpcy5fdmVydGV4UF9yZWFkeSl7dmFyIHU9dGhpcy5jb21waWxlVmVydGV4RnJhZ21lbnRTb3VyY2UoKTshMD09PXRoaXMudmlld1NvdXJjZSYmKGNvbnNvbGUubG9nKFwiJWMgVkZQOiBcIixcImZvbnQtc2l6ZTogMjBweDsgY29sb3I6IGdyZWVuXCIpLGNvbnNvbGUubG9nKFwiJWMgV0VCQ0xHTCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiLFwiY29sb3I6IGdyYXlcIiksY29uc29sZS5sb2coXCIlYyBcIit0K2UsXCJjb2xvcjogZ3JheVwiKSxjb25zb2xlLmxvZyhcIiVjIFRSQU5TTEFURUQgV0VCR0wgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIsXCJjb2xvcjogZGFya2dyYXlcIiksY29uc29sZS5sb2coXCIlYyBcIit1LFwiY29sb3I6IGRhcmtncmF5XCIpKX19fV0pLGV9KCk7dC5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtPWEsbi5leHBvcnRzLldlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW09YX0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCI6NX1dLDc6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZShcIi4vV2ViQ0xHTC5jbGFzc1wiKSxlKFwiLi9XZWJDTEdMQnVmZmVyLmNsYXNzXCIpLGUoXCIuL1dlYkNMR0xGb3IuY2xhc3NcIiksZShcIi4vV2ViQ0xHTEtlcm5lbC5jbGFzc1wiKSxlKFwiLi9XZWJDTEdMVXRpbHMuY2xhc3NcIiksZShcIi4vV2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbS5jbGFzc1wiKSxuLmV4cG9ydHMuV2ViQ0xHTD10LldlYkNMR0w9V2ViQ0xHTCxuLmV4cG9ydHMuV2ViQ0xHTEJ1ZmZlcj10LldlYkNMR0xCdWZmZXI9V2ViQ0xHTEJ1ZmZlcixuLmV4cG9ydHMuV2ViQ0xHTEZvcj10LldlYkNMR0xGb3I9V2ViQ0xHTEZvcixuLmV4cG9ydHMuV2ViQ0xHTEtlcm5lbD10LldlYkNMR0xLZXJuZWw9V2ViQ0xHTEtlcm5lbCxuLmV4cG9ydHMuV2ViQ0xHTFV0aWxzPXQuV2ViQ0xHTFV0aWxzPVdlYkNMR0xVdGlscyxuLmV4cG9ydHMuV2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbT10LldlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW09V2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbX0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vV2ViQ0xHTC5jbGFzc1wiOjEsXCIuL1dlYkNMR0xCdWZmZXIuY2xhc3NcIjoyLFwiLi9XZWJDTEdMRm9yLmNsYXNzXCI6MyxcIi4vV2ViQ0xHTEtlcm5lbC5jbGFzc1wiOjQsXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiOjUsXCIuL1dlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW0uY2xhc3NcIjo2fV19LHt9LFs3XSl9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQXJyYXlHZW5lcmF0b3I9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9VdGlscy5jbGFzc1wiKSxhPW4uQXJyYXlHZW5lcmF0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7byh0aGlzLGUpfXJldHVybiByKGUsW3trZXk6XCJ2b2x1bWVBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuYXJyYXlOb2RlRGVzdGluYXRpb249W10sdGhpcy5hcnJheU5vZGVWZXJ0ZXhDb2xvcj1bXSx0aGlzLnZvPWUsdGhpcy52byBpbnN0YW5jZW9mIFN0b3JtVm94ZWxpemF0b3I9PSExKXJldHVybiBhbGVydChcIllvdSBtdXN0IHNlbGVjdCBhIHZveGVsaXphdG9yIG9iamVjdCB3aXRoIGFsYmVkbyBmaWxsbW9kZSBlbmFibGVkLlwiKSwhMTtpZih2b2lkIDA9PT10aGlzLnZvLmltYWdlM0RfVm94ZWxzQ29sb3J8fG51bGw9PT10aGlzLnZvLmltYWdlM0RfVm94ZWxzQ29sb3IpcmV0dXJuIGFsZXJ0KFwiWW91IG11c3Qgc2VsZWN0IGEgdm94ZWxpemF0b3Igb2JqZWN0IHdpdGggYWxiZWRvIGZpbGxtb2RlIGVuYWJsZWQuXCIpLCExO3RoaXMuZGF0YT10aGlzLnZvLmNsZ2xCdWZmX1ZveGVsc0NvbG9yLml0ZW1zWzBdLmluRGF0YTtmb3IodmFyIHQ9MCxuPTAsaT10aGlzLmRhdGEubGVuZ3RoLzQ7bjxpO24rKyl7dmFyIG89NCpuO3RoaXMuZGF0YVtvKzNdPjAmJnQrK312YXIgcj0odGhpcy5jdXJyZW50Tm9kZUlkLTEpL3Q7dGhpcy5pbmNyZW1Ob2Rlc0NlbGw9MDt2YXIgcz0tMTt0aGlzLmN1cnJlbnRWb3hlbENlbGw9bnVsbCx0aGlzLkNDWD0wLHRoaXMuQ0NZPTAsdGhpcy5DQ1o9MCx0aGlzLkNDWE1BWD10aGlzLnZvLnJlc29sdXRpb24tMSx0aGlzLkNDWU1BWD10aGlzLnZvLnJlc29sdXRpb24tMSx0aGlzLkNDWk1BWD10aGlzLnZvLnJlc29sdXRpb24tMTtmb3IodmFyIGE9dm9pZCAwLGw9dm9pZCAwLHU9ZnVuY3Rpb24oKXtmb3IoOzspe2lmKHRoaXMuQ0NYPT09dGhpcy5DQ1hNQVgmJnRoaXMuQ0NaPT09dGhpcy5DQ1pNQVgmJnRoaXMuQ0NZPT09dGhpcy5DQ1lNQVgpYnJlYWs7aWYodGhpcy5DQ1g9PT10aGlzLkNDWE1BWCYmdGhpcy5DQ1o9PT10aGlzLkNDWk1BWD8odGhpcy5DQ1g9MCx0aGlzLkNDWj0wLHRoaXMuQ0NZKyspOnRoaXMuQ0NYPT09dGhpcy5DQ1hNQVg/KHRoaXMuQ0NYPTAsdGhpcy5DQ1orKyk6dGhpcy5DQ1grKyx0aGlzLmN1cnJlbnRWb3hlbENlbGw9dGhpcy5DQ1kqKHRoaXMudm8ucmVzb2x1dGlvbip0aGlzLnZvLnJlc29sdXRpb24pK3RoaXMuQ0NaKnRoaXMudm8ucmVzb2x1dGlvbit0aGlzLkNDWCx0aGlzLmRhdGFbNCp0aGlzLmN1cnJlbnRWb3hlbENlbGwrM10+MCYmKHRoaXMuaW5jcmVtTm9kZXNDZWxsKz1yLHRoaXMuaW5jcmVtTm9kZXNDZWxsPj0xKSl7dGhpcy5pbmNyZW1Ob2Rlc0NlbGwtPTE7YnJlYWt9fX0uYmluZCh0aGlzKSxjPTA7Yzx0aGlzLmFycmF5Tm9kZUlkLmxlbmd0aDtjKyspcyE9PXRoaXMuYXJyYXlOb2RlSWRbY10/KHM9dGhpcy5hcnJheU5vZGVJZFtjXSx0aGlzLmluY3JlbU5vZGVzQ2VsbD49MT90aGlzLmluY3JlbU5vZGVzQ2VsbC09MTp1KCksYT0oYT0oYT0kVjMoWzAsMCwwXSkuYWRkKCRWMyhbLXRoaXMudm8uc2l6ZS8yLC10aGlzLnZvLnNpemUvMiwtdGhpcy52by5zaXplLzJdKSkpLmFkZCgkVjMoW3RoaXMudm8uY3MqdGhpcy5DQ1gqMSx0aGlzLnZvLmNzKnRoaXMuQ0NZKjEsdGhpcy52by5jcyoodGhpcy5DQ1pNQVgtdGhpcy5DQ1opKjFdKSkpLmFkZCgkVjMoW3RoaXMudm8uY3MqTWF0aC5yYW5kb20oKSx0aGlzLnZvLmNzKk1hdGgucmFuZG9tKCksdGhpcy52by5jcypNYXRoLnJhbmRvbSgpXSkpLGw9JFYzKFt0aGlzLmRhdGFbNCp0aGlzLmN1cnJlbnRWb3hlbENlbGxdLzI1NSx0aGlzLmRhdGFbNCp0aGlzLmN1cnJlbnRWb3hlbENlbGwrMV0vMjU1LHRoaXMuZGF0YVs0KnRoaXMuY3VycmVudFZveGVsQ2VsbCsyXS8yNTVdKSx0aGlzLmFycmF5Tm9kZURlc3RpbmF0aW9uLnB1c2goYS5lWzBdLGEuZVsxXSxhLmVbMl0sMSksdGhpcy5hcnJheU5vZGVWZXJ0ZXhDb2xvci5wdXNoKGwuZVswXSxsLmVbMV0sbC5lWzJdLDEpKToodGhpcy5hcnJheU5vZGVEZXN0aW5hdGlvbi5wdXNoKGEuZVswXSxhLmVbMV0sYS5lWzJdLDEpLHRoaXMuYXJyYXlOb2RlVmVydGV4Q29sb3IucHVzaChsLmVbMF0sbC5lWzFdLGwuZVsyXSwxKSk7Y29tcF9yZW5kZXJlcl9ub2Rlcy5zZXRBcmcoXCJkZXN0XCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheU5vZGVEZXN0aW5hdGlvbn0uYmluZCh0aGlzKSx0aGlzLnNwbGl0Tm9kZXMpLGNvbXBfcmVuZGVyZXJfbm9kZXMuc2V0QXJnKFwibm9kZVZlcnRleENvbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlOb2RlVmVydGV4Q29sb3J9LmJpbmQodGhpcyksdGhpcy5zcGxpdE5vZGVzKX19XSxbe2tleTpcInJhbmRvbUFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUuY291bnQ7bisrKVwiZmxvYXRcIj09PWUudHlwZT90LnB1c2goLWUub2Zmc2V0LzIrTWF0aC5yYW5kb20oKSplLm9mZnNldCk6dC5wdXNoKC1lLm9mZnNldC8yK01hdGgucmFuZG9tKCkqZS5vZmZzZXQsLWUub2Zmc2V0LzIrTWF0aC5yYW5kb20oKSplLm9mZnNldCwtZS5vZmZzZXQvMitNYXRoLnJhbmRvbSgpKmUub2Zmc2V0LC1lLm9mZnNldC8yK01hdGgucmFuZG9tKCkqZS5vZmZzZXQpO3JldHVybiB0fX0se2tleTpcIndpZHRoSGVpZ2h0QXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1lLndpZHRoKmUuaGVpZ2h0LGk9ZS5jb3VudC9uLG89MCxyPTAscz0wLGE9dm9pZCAwIT09ZS5zcGFjaW5nJiZudWxsIT09ZS5zcGFjaW5nP2Uuc3BhY2luZzouMDEsbD0wO2w8ZS5jb3VudDtsKyspbz49aSYmKCsrcj5lLndpZHRoLTEmJihyPTAscysrKSxvLT1pKSxvKz0xLHQucHVzaChyKmEsMCxzKmEsMSk7cmV0dXJuIHR9fSx7a2V5OlwiZmxvYXQ0QXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5jb3VudDtuKyspdC5wdXNoKGUuZmxvYXQ0WzBdLGUuZmxvYXQ0WzFdLGUuZmxvYXQ0WzJdLGUuZmxvYXQ0WzNdKTtyZXR1cm4gdH19LHtrZXk6XCJzcGhlcmljYWxBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXZvaWQgMD09PWU/MTplLnJhZGl1cyxpPTA7aTxlLmNvdW50O2krKyl7dmFyIG89MzYwKk1hdGgucmFuZG9tKCkscj0xODAqTWF0aC5yYW5kb20oKTt0LnB1c2goTWF0aC5jb3MobykqTWF0aC5hYnMoTWF0aC5zaW4ocikpKm4sTWF0aC5jb3MocikqbipNYXRoLnJhbmRvbSgpLE1hdGguc2luKG8pKk1hdGguYWJzKE1hdGguc2luKHIpKSpuLDEpfXJldHVybiB0fX0se2tleTpcImhlbUFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49dm9pZCAwPT09ZT8xOmUucmFkaXVzLGk9MDtpPGUuY291bnQ7aSsrKXt2YXIgbz0obmV3IHMuVXRpbHMpLmdldFZlY3RvcihlLm5vcm1hbFZlY3RvcixlLmRlZ3JlZXMpO3QucHVzaChvLmVbMF0qbixvLmVbMV0qbixvLmVbMl0qbiwxKX1yZXR1cm4gdH19LHtrZXk6XCJpbWFnZUFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXMuVXRpbHMuZ2V0VWludDhBcnJheUZyb21IVE1MSW1hZ2VFbGVtZW50KGUuaW1hZ2UpLG49W10saT0wO2k8ZS5jb3VudDtpKyspe3ZhciBvPTQqaTtuLnB1c2gocGFyc2VGbG9hdCh0W29dLzI1NSkscGFyc2VGbG9hdCh0W28rMV0vMjU1KSxwYXJzZUZsb2F0KHRbbysyXS8yNTUpLHBhcnNlRmxvYXQodFtvKzNdLzI1NSkpfXJldHVybiBufX1dKSxlfSgpO2kuQXJyYXlHZW5lcmF0b3I9YSx0LmV4cG9ydHMuQXJyYXlHZW5lcmF0b3I9YX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9VdGlscy5jbGFzc1wiOjM4fV0sODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9bi5Db21wb25lbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMudHlwZT1udWxsLHRoaXMubm9kZT1udWxsfXJldHVybiBvKGUsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt9fSx7a2V5OlwidGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe319XSksZX0oKTtlLkNvbXBvbmVudD1yLHQuZXhwb3J0cy5Db21wb25lbnQ9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkNvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQ9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLkNvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KTt2YXIgZT1yKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnR5cGU9dS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLkNPTlRST0xMRVJfVFJBTlNGT1JNX1RBUkdFVCxlLm5vZGU9bnVsbCxlLmdsPW51bGwsZS5jb21wX3RyYW5zZm9ybVRhcmdldD1udWxsLGUuY29tcF9wcm9qZWN0aW9uPW51bGwsZS5fdmVsPS4xLGUuZm9yd2FyZEU9MCxlLmJhY2t3YXJkRT0wLGUubGVmdEU9MCxlLnJpZ2h0RT0wLGUuZnJvbnRFPTAsZS5iYWNrRT0wLGUubGVmdEJ1dHRvbj0wLGUubWlkZGxlQnV0dG9uPTAsZS5yaWdodEJ1dHRvbj0wLGUubGVmdEJ1dHRvbkFjdGlvbj1cIk9SQklUXCIsZS5taWRkbGVCdXR0b25BY3Rpb249XCJQQU5cIixlLnJpZ2h0QnV0dG9uQWN0aW9uPVwiWk9PTVwiLGUubGFzdFg9MCxlLmxhc3RZPTAsZS5sb2NrUm90WD0hMSxlLmxvY2tSb3RZPSExLGV9cmV0dXJuIHModCxsLkNvbXBvbmVudCksYSh0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ub2RlPWUsdGhpcy5nbD10LHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQ9dGhpcy5ub2RlLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNX1RBUkdFVCksdGhpcy5jb21wX3Byb2plY3Rpb249dGhpcy5ub2RlLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTil9fSx7a2V5Olwic2V0VmVsb2NpdHlcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl92ZWw9ZX19LHtrZXk6XCJsb2NrUm90WFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sb2NrUm90WD0hMH19LHtrZXk6XCJ1bmxvY2tSb3RYXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxvY2tSb3RYPSExfX0se2tleTpcImlzTG9ja1JvdFhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tSb3RYfX0se2tleTpcImxvY2tSb3RZXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxvY2tSb3RZPSEwfX0se2tleTpcInVubG9ja1JvdFlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubG9ja1JvdFk9ITF9fSx7a2V5OlwiaXNMb2NrUm90WVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja1JvdFl9fSx7a2V5OlwiZm9yd2FyZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mb3J3YXJkRT0xfX0se2tleTpcImJhY2t3YXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJhY2t3YXJkRT0xfX0se2tleTpcInN0cmFmZUxlZnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubGVmdEU9MX19LHtrZXk6XCJzdHJhZmVSaWdodFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yaWdodEU9MX19LHtrZXk6XCJzdHJhZmVGcm9udFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcm9udEU9MX19LHtrZXk6XCJzdHJhZmVCYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJhY2tFPTF9fSx7a2V5Olwic3RvcEZvcndhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZm9yd2FyZEU9MH19LHtrZXk6XCJzdG9wQmFja3dhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYmFja3dhcmRFPTB9fSx7a2V5Olwic3RvcFN0cmFmZUxlZnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubGVmdEU9MH19LHtrZXk6XCJzdG9wU3RyYWZlUmlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmlnaHRFPTB9fSx7a2V5Olwic3RvcFN0cmFmZUZyb250XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyb250RT0wfX0se2tleTpcInN0b3BTdHJhZmVCYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJhY2tFPTB9fSx7a2V5OlwibW91c2VEb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5sYXN0WD1lLnNjcmVlblgsdGhpcy5sYXN0WT1lLnNjcmVlblksMD09PWUuYnV0dG9uJiYodGhpcy5sZWZ0QnV0dG9uPTEpLDE9PT1lLmJ1dHRvbiYmKHRoaXMubWlkZGxlQnV0dG9uPTEpLDI9PT1lLmJ1dHRvbiYmKHRoaXMucmlnaHRCdXR0b249MSksdGhpcy51cGRhdGVHb2FsKGUpfX0se2tleTpcIm1vdXNlVXBcIix2YWx1ZTpmdW5jdGlvbihlKXswPT09ZS5idXR0b24mJih0aGlzLmxlZnRCdXR0b249MCksMT09PWUuYnV0dG9uJiYodGhpcy5taWRkbGVCdXR0b249MCksMj09PWUuYnV0dG9uJiYodGhpcy5yaWdodEJ1dHRvbj0wKX19LHtrZXk6XCJtb3VzZU1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXsxIT09dGhpcy5sZWZ0QnV0dG9uJiYxIT09dGhpcy5taWRkbGVCdXR0b258fHRoaXMudXBkYXRlR29hbChlKX19LHtrZXk6XCJpc0xlZnRCdG5BY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5sZWZ0QnV0dG9ufX0se2tleTpcImlzTWlkZGxlQnRuQWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMubWlkZGxlQnV0dG9ufX0se2tleTpcImlzUmlnaHRCdG5BY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5yaWdodEJ1dHRvbn19LHtrZXk6XCJzZXRMZWZ0QnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5sZWZ0QnV0dG9uQWN0aW9uPWV9fSx7a2V5Olwic2V0TWlkZGxlQnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5taWRkbGVCdXR0b25BY3Rpb249ZX19LHtrZXk6XCJzZXRSaWdodEJ1dHRvbkFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucmlnaHRCdXR0b25BY3Rpb249ZX19LHtrZXk6XCJ0aWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9JFYzKFswLDAsMF0pOzE9PT10aGlzLmZvcndhcmRFJiYodD10LmFkZCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmludmVyc2UoKS5nZXRGb3J3YXJkKCkueCgtdGhpcy5fdmVsKSkpLDE9PT10aGlzLmJhY2t3YXJkRSYmKHQ9dC5hZGQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5pbnZlcnNlKCkuZ2V0Rm9yd2FyZCgpLngodGhpcy5fdmVsKSkpLDE9PT10aGlzLmxlZnRFJiYodD10LmFkZCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmludmVyc2UoKS5nZXRMZWZ0KCkueCgtdGhpcy5fdmVsKSkpLDE9PT10aGlzLnJpZ2h0RSYmKHQ9dC5hZGQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5pbnZlcnNlKCkuZ2V0TGVmdCgpLngodGhpcy5fdmVsKSkpLDE9PT10aGlzLmJhY2tFJiYodD10LmFkZCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmludmVyc2UoKS5nZXRVcCgpLngoLXRoaXMuX3ZlbCkpKSwxPT09dGhpcy5mcm9udEUmJih0PXQuYWRkKHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0TWF0cml4KCkuaW52ZXJzZSgpLmdldFVwKCkueCh0aGlzLl92ZWwpKSksdGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5zZXRQb3NpdGlvblRhcmdldCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uVGFyZ2V0KCkuYWRkKHQpKSx0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnNldFBvc2l0aW9uR29hbCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uR29hbCgpLmFkZCh0KSl9fSx7a2V5OlwidXBkYXRlR29hbFwiLHZhbHVlOmZ1bmN0aW9uKGUpezE9PT10aGlzLm1pZGRsZUJ1dHRvbj9cIlBBTlwiPT09dGhpcy5taWRkbGVCdXR0b25BY3Rpb24/dGhpcy5tYWtlUGFuKGUpOlwiT1JCSVRcIj09PXRoaXMubWlkZGxlQnV0dG9uQWN0aW9uJiZ0aGlzLm1ha2VPcmJpdChlKTpcIlBBTlwiPT09dGhpcy5sZWZ0QnV0dG9uQWN0aW9uP3RoaXMuY29tcF9wcm9qZWN0aW9uLmdldFByb2plY3Rpb24oKT09PXUuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5tYWtlT3JiaXQoZSk6dGhpcy5tYWtlUGFuKGUpOlwiT1JCSVRcIj09PXRoaXMubGVmdEJ1dHRvbkFjdGlvbiYmdGhpcy5tYWtlT3JiaXQoZSksdGhpcy5sYXN0WD1lLnNjcmVlblgsdGhpcy5sYXN0WT1lLnNjcmVlbll9fSx7a2V5OlwibWFrZVBhblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD10aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmdldExlZnQoKS54KCh0aGlzLmxhc3RYLWUuc2NyZWVuWCkqKC4wMDUqdGhpcy5jb21wX3Byb2plY3Rpb24uZ2V0Rm92KCkpKSxuPXRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0TWF0cml4KCkuZ2V0VXAoKS54KCh0aGlzLmxhc3RZLWUuc2NyZWVuWSkqKC0uMDA1KnRoaXMuY29tcF9wcm9qZWN0aW9uLmdldEZvdigpKSksaT10LmFkZChuLngoLTEpKTt0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnNldFBvc2l0aW9uR29hbCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uR29hbCgpLmFkZChpKSksdGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5zZXRQb3NpdGlvblRhcmdldCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uVGFyZ2V0KCkuYWRkKGkpKX19LHtrZXk6XCJtYWtlT3JiaXRcIix2YWx1ZTpmdW5jdGlvbihlKXshMT09PXRoaXMubG9ja1JvdFkmJih0aGlzLmxhc3RYPmUuc2NyZWVuWD90aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnlhdyguNSotKHRoaXMubGFzdFgtZS5zY3JlZW5YKSk6dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC55YXcoLjUqKGUuc2NyZWVuWC10aGlzLmxhc3RYKSkpLCExPT09dGhpcy5sb2NrUm90WCYmKHRoaXMubGFzdFk+ZS5zY3JlZW5ZP3RoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQucGl0Y2goLjUqKHRoaXMubGFzdFktZS5zY3JlZW5ZKSk6dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5waXRjaCguNSotKGUuc2NyZWVuWS10aGlzLmxhc3RZKSkpfX1dKSx0fSgpO2kuQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldD1jLHQuZXhwb3J0cy5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0PWN9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29uc3RhbnRzXCI6MTZ9XSwxMDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQ29tcG9uZW50S2V5Ym9hcmRFdmVudHM9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPXUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5LRVlCT0FSRF9FVkVOVFMsZS5ub2RlPW51bGwsZS5nbD1udWxsLGUuX29ua2V5ZG93bj1udWxsLGUuX29ua2V5dXA9bnVsbCxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dH19LHtrZXk6XCJvbmtleWRvd25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbmtleWRvd249ZX19LHtrZXk6XCJvbmtleXVwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25rZXl1cD1lfX1dKSx0fSgpO2kuQ29tcG9uZW50S2V5Ym9hcmRFdmVudHM9Yyx0LmV4cG9ydHMuQ29tcG9uZW50S2V5Ym9hcmRFdmVudHM9Y30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db25zdGFudHNcIjoxNn1dLDExOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5Db21wb25lbnRNb3VzZUV2ZW50cz12b2lkIDA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxsPWUoXCIuL0NvbXBvbmVudC5jbGFzc1wiKSx1PWUoXCIuL0NvbnN0YW50c1wiKSxjPW4uQ29tcG9uZW50TW91c2VFdmVudHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KTt2YXIgZT1yKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnR5cGU9dS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLk1PVVNFX0VWRU5UUyxlLm5vZGU9bnVsbCxlLmdsPW51bGwsZS5fb25tb3VzZWRvd249bnVsbCxlLl9vbm1vdXNldXA9bnVsbCxlLl9vbm1vdXNlbW92ZT1udWxsLGUuX29ubW91c2V3aGVlbD1udWxsLGV9cmV0dXJuIHModCxsLkNvbXBvbmVudCksYSh0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ub2RlPWUsdGhpcy5nbD10fX0se2tleTpcIm9ubW91c2Vkb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25tb3VzZWRvd249ZX19LHtrZXk6XCJvbm1vdXNldXBcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbm1vdXNldXA9ZX19LHtrZXk6XCJvbm1vdXNlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ubW91c2Vtb3ZlPWV9fSx7a2V5Olwib25tb3VzZXdoZWVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25tb3VzZXdoZWVsPWV9fV0pLHR9KCk7aS5Db21wb25lbnRNb3VzZUV2ZW50cz1jLHQuZXhwb3J0cy5Db21wb25lbnRNb3VzZUV2ZW50cz1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0NvbXBvbmVudC5jbGFzc1wiOjgsXCIuL0NvbnN0YW50c1wiOjE2fV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkNvbXBvbmVudFByb2plY3Rpb249dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9TdG9ybU1hdGguY2xhc3NcIiksYz1lKFwiLi9Db25zdGFudHNcIiksZD1uLkNvbXBvbmVudFByb2plY3Rpb249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KTt2YXIgZT1yKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnR5cGU9Yy5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlBST0pFQ1RJT04sZS5ub2RlPW51bGwsZS5nbD1udWxsLGUubVByb2plY3Rpb25NYXRyaXg9JE0xNihbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pLGUucHJveT1jLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFLGUuX3dpZHRoPTUxMixlLl9oZWlnaHQ9NTEyLGUuX2Zvdj00NSxlLl9mb3ZPcnRobz0yMCxlLl9uZWFyPS4xLGUuX2Zhcj0xZTQsZS5fbmVhck9ydGhvPS0xZTUsZS5fZmFyT3J0aG89MWU1LGV9cmV0dXJuIHModCxsLkNvbXBvbmVudCksYSh0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ub2RlPWUsdGhpcy5nbD10LHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfX0se2tleTpcImdldE1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVByb2plY3Rpb25NYXRyaXh9fSx7a2V5OlwiZ2V0UHJvamVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveX19LHtrZXk6XCJzZXRQcm9qZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm95PWUsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9fSx7a2V5Olwic2V0UmVzb2x1dGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fd2lkdGg9ZSx0aGlzLl9oZWlnaHQ9dCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX19LHtrZXk6XCJnZXRSZXNvbHV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6dGhpcy5fd2lkdGgsaGVpZ2h0OnRoaXMuX2hlaWdodH19fSx7a2V5Olwic2V0Rm92XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9mb3Y9ZTp0aGlzLl9mb3ZPcnRobz1lLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfX0se2tleTpcImdldEZvdlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5fZm92OnRoaXMuX2Zvdk9ydGhvfX0se2tleTpcInNldE5lYXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnByb3k9PT1jLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFP3RoaXMuX25lYXI9ZTp0aGlzLl9uZWFyT3J0aG89ZSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX19LHtrZXk6XCJnZXROZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9uZWFyOnRoaXMuX25lYXJPcnRob319LHtrZXk6XCJzZXRGYXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnByb3k9PT1jLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFP3RoaXMuX2Zhcj1lOnRoaXMuX2Zhck9ydGhvPWUsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9fSx7a2V5OlwiZ2V0RmFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9mYXI6dGhpcy5fZmFyT3J0aG99fSx7a2V5OlwidXBkYXRlUHJvamVjdGlvbk1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9mb3Y6dGhpcy5fZm92T3J0aG8sdD10aGlzLl93aWR0aC90aGlzLl9oZWlnaHQ7dGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLm1Qcm9qZWN0aW9uTWF0cml4PXUuU3Rvcm1NMTYuc2V0UGVyc3BlY3RpdmVQcm9qZWN0aW9uKGUsdCx0aGlzLl9uZWFyLHRoaXMuX2Zhcik6dGhpcy5tUHJvamVjdGlvbk1hdHJpeD11LlN0b3JtTTE2LnNldE9ydGhvZ3JhcGhpY1Byb2plY3Rpb24oLXQqZSx0KmUsLXQqZSx0KmUsdGhpcy5fbmVhck9ydGhvLHRoaXMuX2Zhck9ydGhvKX19XSksdH0oKTtpLkNvbXBvbmVudFByb2plY3Rpb249ZCx0LmV4cG9ydHMuQ29tcG9uZW50UHJvamVjdGlvbj1kfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0NvbXBvbmVudC5jbGFzc1wiOjgsXCIuL0NvbnN0YW50c1wiOjE2LFwiLi9TdG9ybU1hdGguY2xhc3NcIjoyNX1dLDEzOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5Db21wb25lbnRUcmFuc2Zvcm09dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLkNvbXBvbmVudFRyYW5zZm9ybT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7byh0aGlzLHQpO3ZhciBlPXIodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGUudHlwZT11LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNLGUubm9kZT1udWxsLGUuZ2w9bnVsbCxlLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbj0kTTE2KFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSksZS5tTW9kZWxNYXRyaXhfUm90YXRpb249JE0xNihbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pLGV9cmV0dXJuIHModCxsLkNvbXBvbmVudCksYSh0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ub2RlPWUsdGhpcy5nbD10fX0se2tleTpcImdldE1hdHJpeFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb259fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAkVjMoW3RoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbM10sdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVs3XSx0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzExXV0pfX0se2tleTpcImdldFBvc1hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzNdfX0se2tleTpcImdldFBvc1lcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzddfX0se2tleTpcImdldFBvc1pcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzExXX19LHtrZXk6XCJzZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbM109ZS5lWzBdLHRoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbN109ZS5lWzFdLHRoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbMTFdPWUuZVsyXX19LHtrZXk6XCJzZXRQb3NYXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVszXT1lfX0se2tleTpcInNldFBvc1lcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzddPWV9fSx7a2V5Olwic2V0UG9zWlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbMTFdPWV9fSx7a2V5OlwiZ2V0TWF0cml4Um90YXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Nb2RlbE1hdHJpeF9Sb3RhdGlvbn19XSksdH0oKTtpLkNvbXBvbmVudFRyYW5zZm9ybT1jLHQuZXhwb3J0cy5Db21wb25lbnRUcmFuc2Zvcm09Y30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db25zdGFudHNcIjoxNn1dLDE0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQ9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9VdGlscy5jbGFzc1wiKSxjPWUoXCIuL1N0b3JtTWF0aC5jbGFzc1wiKSxkPWUoXCIuL0NvbnN0YW50c1wiKSxoPW4uQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPWQuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5UUkFOU0ZPUk1fVEFSR0VULGUubm9kZT1udWxsLGUuZ2w9bnVsbCxlLm1Nb2RlbE1hdHJpeD0kTTE2KFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSksZS50YXJnZXREaXN0YW5jZT01LGUucG9zaXRpb25Hb2FsPSRWMyhbMCwwLGUudGFyZ2V0RGlzdGFuY2VdKSxlLnBvc2l0aW9uVGFyZ2V0PSRWMyhbMCwwLDBdKSxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dCx0aGlzLnBlcmZvcm1NYXRyaXgoKX19LHtrZXk6XCJnZXRNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Nb2RlbE1hdHJpeH19LHtrZXk6XCJzZXRUYXJnZXREaXN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGFyZ2V0RGlzdGFuY2U9ZX19LHtrZXk6XCJnZXRUYXJnZXREaXN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0RGlzdGFuY2V9fSx7a2V5Olwic2V0UG9zaXRpb25Hb2FsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wb3NpdGlvbkdvYWw9ZSx0aGlzLnBlcmZvcm1NYXRyaXgoKX19LHtrZXk6XCJnZXRQb3NpdGlvbkdvYWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uR29hbH19LHtrZXk6XCJzZXRQb3NpdGlvblRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucG9zaXRpb25UYXJnZXQ9ZSx0aGlzLnBlcmZvcm1NYXRyaXgoKX19LHtrZXk6XCJnZXRQb3NpdGlvblRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25UYXJnZXR9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucG9zaXRpb25Hb2FsPSRWMyhbMCwwLHRoaXMudGFyZ2V0RGlzdGFuY2VdKSx0aGlzLnBvc2l0aW9uVGFyZ2V0PSRWMyhbMCwwLDBdKSx0aGlzLnBlcmZvcm1NYXRyaXgoKX19LHtrZXk6XCJ5YXdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFBvc2l0aW9uR29hbCgpLnN1YnRyYWN0KHRoaXMuZ2V0UG9zaXRpb25UYXJnZXQoKSksbj11LlV0aWxzLmNhcnRlc2lhblRvU3BoZXJpY2FsKHQubm9ybWFsaXplKCkpLGk9dS5VdGlscy5zcGhlcmljYWxUb0NhcnRlc2lhbihuLnJhZGl1cyxuLmxhdCxuLmxuZytlKTt0aGlzLnNldFBvc2l0aW9uR29hbCh0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkuYWRkKGkueCh0aGlzLmdldFRhcmdldERpc3RhbmNlKCkpKSl9fSx7a2V5OlwicGl0Y2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFBvc2l0aW9uR29hbCgpLnN1YnRyYWN0KHRoaXMuZ2V0UG9zaXRpb25UYXJnZXQoKSksbj11LlV0aWxzLmNhcnRlc2lhblRvU3BoZXJpY2FsKHQubm9ybWFsaXplKCkpLGk9dS5VdGlscy5zcGhlcmljYWxUb0NhcnRlc2lhbihuLnJhZGl1cyxuLmxhdCtlLG4ubG5nKTt0aGlzLnNldFBvc2l0aW9uR29hbCh0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkuYWRkKGkueCh0aGlzLmdldFRhcmdldERpc3RhbmNlKCkpKSl9fSx7a2V5OlwicGVyZm9ybU1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tTW9kZWxNYXRyaXg9Yy5TdG9ybU0xNi5tYWtlTG9va0F0KHRoaXMuZ2V0UG9zaXRpb25Hb2FsKCkuZVswXSx0aGlzLmdldFBvc2l0aW9uR29hbCgpLmVbMV0sdGhpcy5nZXRQb3NpdGlvbkdvYWwoKS5lWzJdLHRoaXMuZ2V0UG9zaXRpb25UYXJnZXQoKS5lWzBdLHRoaXMuZ2V0UG9zaXRpb25UYXJnZXQoKS5lWzFdLHRoaXMuZ2V0UG9zaXRpb25UYXJnZXQoKS5lWzJdLDAsMSwwKX19XSksdH0oKTtpLkNvbXBvbmVudFRyYW5zZm9ybVRhcmdldD1oLHQuZXhwb3J0cy5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQ9aH0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db25zdGFudHNcIjoxNixcIi4vU3Rvcm1NYXRoLmNsYXNzXCI6MjUsXCIuL1V0aWxzLmNsYXNzXCI6Mzh9XSwxNTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQ29tcG9uZW50X0dQVT12b2lkIDA7dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTtlKFwid2ViY2xnbFwiKTt2YXIgbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLkNvbXBvbmVudF9HUFU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KTt2YXIgZT1yKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnR5cGU9dS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLkdQVSxlLm5vZGU9bnVsbCxlLmdsPW51bGwsZS5ncHVmRz1udWxsLGUuYXJncz17fSxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dH19LHtrZXk6XCJ0aWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy50aWNrQXJndW1lbnRzKCksbnVsbCE9dGhpcy5ncHVmRyYmdGhpcy5ncHVmRy5wcm9jZXNzS2VybmVscygpLG51bGwhPXRoaXMuZ3B1ZkcmJnRoaXMuZ3B1ZkcucHJvY2Vzc0dyYXBoaWModm9pZCAwKX19LHtrZXk6XCJzZXRHUFVGb3JcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHM7Zm9yKHZhciBuIGluIGFyZ3VtZW50c1sxXSl7dmFyIGk9bi5zcGxpdChcIiBcIik7aWYobnVsbCE9aSYmaS5sZW5ndGg+MSl7dmFyIG89aVsxXTt0aGlzLmFyZ3Nbb109e2ZudmFsdWU6YXJndW1lbnRzWzFdW25dLHVwZGF0YWJsZTpudWxsLHNwbGl0czpudWxsLG92ZXJyaWRlRGltZW5zaW9uczpudWxsfX1hcmd1bWVudHNbMV1bbl09YXJndW1lbnRzWzFdW25dKCl9dGhpcy5ncHVmRz1uZXcgZnVuY3Rpb24oKXtyZXR1cm4gZ3B1Zm9yLmFwcGx5KGUsdCl9fX0se2tleTpcImdldFdlYkNMR0xcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdwdWZHLmdldFdlYkNMR0woKX19LHtrZXk6XCJhZGRBcmd1bWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5hcmdzW2Uuc3BsaXQoXCIgXCIpWzFdXT17Zm52YWx1ZTp0LHVwZGF0YWJsZTpudWxsLHNwbGl0czpudWxsLG92ZXJyaWRlRGltZW5zaW9uczpudWxsfSx0aGlzLmdwdWZHLmFkZEFyZyhlKX19LHtrZXk6XCJzZXRBcmdcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXt2YXIgbz10aGlzLmdwdWZHLnNldEFyZyhlLHQoKSxuLGkpO3JldHVybiB0aGlzLmFyZ3NbZV09e2ZudmFsdWU6dCx1cGRhdGFibGU6bnVsbCxzcGxpdHM6bixvdmVycmlkZURpbWVuc2lvbnM6aX0sb319LHtrZXk6XCJnZXRDb21wb25lbnRCdWZmZXJBcmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuZ3B1ZkcuZ2V0R1BVRm9yQXJnKGUsdC5ncHVmRyksdGhpcy5hcmdzW2VdPXtmbnZhbHVlOm51bGwsdXBkYXRhYmxlOm51bGwsc3BsaXRzOm51bGwsb3ZlcnJpZGVEaW1lbnNpb25zOm51bGx9fX0se2tleTpcImdldEFyZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3N9fSx7a2V5OlwiZ2V0QWxsQXJnc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3B1ZkcuZ2V0QWxsQXJncygpfX0se2tleTpcImdldEJ1ZmZlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdwdWZHLl9hcmdzVmFsdWVzfX0se2tleTpcInNldEFyZ1VwZGF0YWJsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5hcmdzW2VdLnVwZGF0YWJsZT10fX0se2tleTpcInRpY2tBcmd1bWVudHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmFyZ3MpaWYoITA9PT10aGlzLmFyZ3NbZV0udXBkYXRhYmxlKXt2YXIgdD10aGlzLmFyZ3NbZV07dGhpcy5ncHVmRy5zZXRBcmcoZSx0LmZudmFsdWUoKSx0LnNwbGl0cyx0Lm92ZXJyaWRlRGltZW5zaW9ucyl9fX1dKSx0fSgpO2kuQ29tcG9uZW50X0dQVT1jLHQuZXhwb3J0cy5Db21wb25lbnRfR1BVPWN9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29uc3RhbnRzXCI6MTYsd2ViY2xnbDo2fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bi5Db25zdGFudHM9e0VWRU5UX1RZUEVTOntLRVlfRE9XTjowLEtFWV9VUDoxLE1PVVNFX0RPV046MixNT1VTRV9VUDozLE1PVVNFX01PVkU6NCxNT1VTRV9XSEVFTDo1fSxDT01QT05FTlRfVFlQRVM6e0tFWUJPQVJEX0VWRU5UUzowLE1PVVNFX0VWRU5UUzoxLFRSQU5TRk9STToyLFRSQU5TRk9STV9UQVJHRVQ6MyxDT05UUk9MTEVSX1RSQU5TRk9STV9UQVJHRVQ6NCxQUk9KRUNUSU9OOjUsR1BVOjZ9LFBST0pFQ1RJT05fVFlQRVM6e1BFUlNQRUNUSVZFOjAsT1JUSE86MX0sVklFV19UWVBFUzp7TEVGVDowLFJJR0hUOjEsRlJPTlQ6MixCQUNLOjMsVE9QOjQsQk9UVE9NOjV9LEJMRU5ESU5HX01PREVTOntaRVJPOlwiWkVST1wiLE9ORTpcIk9ORVwiLFNSQ19DT0xPUjpcIlNSQ19DT0xPUlwiLE9ORV9NSU5VU19TUkNfQ09MT1I6XCJPTkVfTUlOVVNfU1JDX0NPTE9SXCIsRFNUX0NPTE9SOlwiRFNUX0NPTE9SXCIsT05FX01JTlVTX0RTVF9DT0xPUjpcIk9ORV9NSU5VU19EU1RfQ09MT1JcIixTUkNfQUxQSEE6XCJTUkNfQUxQSEFcIixPTkVfTUlOVVNfU1JDX0FMUEhBOlwiT05FX01JTlVTX1NSQ19BTFBIQVwiLERTVF9BTFBIQTpcIkRTVF9BTFBIQVwiLE9ORV9NSU5VU19EU1RfQUxQSEE6XCJPTkVfTUlOVVNfRFNUX0FMUEhBXCIsU1JDX0FMUEhBX1NBVFVSQVRFOlwiU1JDX0FMUEhBX1NBVFVSQVRFXCIsQ09OU1RBTlRfQ09MT1I6XCJDT05TVEFOVF9DT0xPUlwiLE9ORV9NSU5VU19DT05TVEFOVF9DT0xPUjpcIk9ORV9NSU5VU19DT05TVEFOVF9DT0xPUlwiLENPTlNUQU5UX0FMUEhBOlwiQ09OU1RBTlRfQUxQSEFcIixPTkVfTUlOVVNfQ09OU1RBTlRfQUxQSEE6XCJPTkVfTUlOVVNfQ09OU1RBTlRfQUxQSEFcIn0sQkxFTkRJTkdfRVFVQVRJT05fVFlQRVM6e0ZVTkNfQUREOlwiRlVOQ19BRERcIixGVU5DX1NVQlRSQUNUOlwiRlVOQ19TVUJUUkFDVFwiLEZVTkNfUkVWRVJTRV9TVUJUUkFDVDpcIkZVTkNfUkVWRVJTRV9TVUJUUkFDVFwifSxEUkFXX01PREVTOntQT0lOVFM6MCxMSU5FUzoxLExJTkVfTE9PUDoyLExJTkVfU1RSSVA6MyxUUklBTkdMRVM6NCxUUklBTkdMRV9TVFJJUDo1LFRSSUFOR0xFX0ZBTjo2fX07ZS5Db25zdGFudHM9aSx0LmV4cG9ydHMuQ29uc3RhbnRzPWl9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLk1lc2g9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9VdGlscy5jbGFzc1wiKSxhPW4uTWVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5fb2JqPXt9LHRoaXMuX3RleHR1cmVzPXt9LHRoaXMub2JqSW5kZXg9bnVsbCx0aGlzLmluZGV4TWF4PTB9cmV0dXJuIHIoZSxbe2tleTpcImxvYWRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29iai52ZXJ0ZXhBcnJheT1bMCwwLDAsMF0sdGhpcy5fb2JqLm5vcm1hbEFycmF5PVswLDEsMCwwXSx0aGlzLl9vYmoudGV4dHVyZUFycmF5PVswLDAsMCwwXSx0aGlzLl9vYmoudGV4dHVyZVVuaXRBcnJheT1bMF0sdGhpcy5fb2JqLmluZGV4QXJyYXk9WzBdLHRoaXMuX29ian19LHtrZXk6XCJsb2FkVHJpYW5nbGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnNjYWxlP2Uuc2NhbGU6MSxuPXZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuc2lkZT9lLnNpZGU6MTtyZXR1cm4gdGhpcy5fb2JqLnZlcnRleEFycmF5PVswLDAsMCwxLG4vMip0LDAsLTEqdCwxLC1uLzIqdCwwLC0xKnQsMV0sdGhpcy5fb2JqLm5vcm1hbEFycmF5PVswLDAsMSwxLDAsMCwxLDEsMCwwLDEsMV0sdGhpcy5fb2JqLnRleHR1cmVBcnJheT1bMCwwLDAsMSwxLDAsMCwxLDEsMSwwLDFdLHRoaXMuX29iai50ZXh0dXJlVW5pdEFycmF5PVswLDAsMF0sdGhpcy5fb2JqLmluZGV4QXJyYXk9WzAsMSwyXSx0aGlzLl9vYmp9fSx7a2V5OlwibG9hZFF1YWRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMD09PWU/LjU6ZSxpPXZvaWQgMD09PXQ/LjU6dDtyZXR1cm4gdGhpcy5fb2JqPXt9LHRoaXMuX29iai52ZXJ0ZXhBcnJheT1bLW4sLWksMCwxLG4sLWksMCwxLG4saSwwLDEsLW4saSwwLDFdLHRoaXMuX29iai5ub3JtYWxBcnJheT1bMCwwLDEsMSwwLDAsMSwxLDAsMCwxLDEsMCwwLDEsMV0sdGhpcy5fb2JqLnRleHR1cmVBcnJheT1bMCwwLDAsMSwxLDAsMCwxLDEsMSwwLDEsMCwxLDAsMV0sdGhpcy5fb2JqLnRleHR1cmVVbml0QXJyYXk9WzAsMCwwLDBdLHRoaXMuX29iai5pbmRleEFycmF5PVswLDEsMiwwLDIsM10sdGhpcy5fb2JqfX0se2tleTpcImxvYWRDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYmo9e3ZlcnRleEFycmF5OltdLG5vcm1hbEFycmF5OltdLHRleHR1cmVBcnJheTpbXSx0ZXh0dXJlVW5pdEFycmF5OltdLGluZGV4QXJyYXk6W119LHRoaXMub2JqSW5kZXg9W10sdGhpcy5pbmRleE1heD0wO2Zvcih2YXIgdD12b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnNlZ21lbnRzP2Uuc2VnbWVudHM6NixuPXZvaWQgMCE9PWUmJnZvaWQgMCE9PWUucmFkaXVzP2UucmFkaXVzOi41LGk9MzYwL3Qsbz0zNjAvaSxyPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmNvcygobmV3IHMuVXRpbHMpLmRlZ1RvUmFkKGUpKX0uYmluZCh0aGlzKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNpbigobmV3IHMuVXRpbHMpLmRlZ1RvUmFkKGUpKX0uYmluZCh0aGlzKSxsPTEsdT1vO2w8PXU7bCsrKXt2YXIgYz1pKmwsZD0kVjMoW3IoYykqbiwwLGEoYykqbl0pLGg9JFYzKFtyKGMtaSkqbiwwLGEoYy1pKSpuXSksZj0kVjMoWzAsMCwwXSkscD1oLnN1YnRyYWN0KGQpLmNyb3NzKGYuc3VidHJhY3QoZCkpLm5vcm1hbGl6ZSgpLGc9JFYzKFtjLzM2MCwwLDBdKSx2PSRWMyhbKGMtaSkvMzYwLDAsMF0pLF89JFYzKFswLDAsMF0pLG09dGhpcy50ZXN0SWZJbkluZGljZXModGhpcy5fb2JqLGQscCxnKSx5PXRoaXMudGVzdElmSW5JbmRpY2VzKHRoaXMuX29iaixoLHAsdiksYj10aGlzLnRlc3RJZkluSW5kaWNlcyh0aGlzLl9vYmosZixwLF8pO3RoaXMuX29iai5pbmRleEFycmF5LnB1c2gobSx5LGIpfXJldHVybiB0aGlzLl9vYmp9fSx7a2V5OlwidGVzdElmSW5JbmRpY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7Zm9yKHZhciBvPXZvaWQgMCxyPTAscz10aGlzLm9iakluZGV4Lmxlbmd0aDtyPHM7cisrKXRoaXMub2JqSW5kZXhbcl0udi5lWzBdPT09dC5lWzBdJiZ0aGlzLm9iakluZGV4W3JdLnYuZVsxXT09PXQuZVsxXSYmdGhpcy5vYmpJbmRleFtyXS52LmVbMl09PT10LmVbMl0mJihvPXRoaXMub2JqSW5kZXhbcl0uaSk7cmV0dXJuIHZvaWQgMD09PW8mJihvPXRoaXMuaW5kZXhNYXgsdGhpcy5vYmpJbmRleC5wdXNoKHtpOm8sdjokVjMoW3QuZVswXSx0LmVbMV0sdC5lWzJdXSl9KSx0aGlzLmluZGV4TWF4KyssZS52ZXJ0ZXhBcnJheS5wdXNoKHQuZVswXSx0LmVbMV0sdC5lWzJdLDEpLGUubm9ybWFsQXJyYXkucHVzaChuLmVbMF0sbi5lWzFdLG4uZVsyXSwxKSxlLnRleHR1cmVBcnJheS5wdXNoKHQuZVswXSsuNSx0LmVbMl0rLjUsdC5lWzJdKy41LDEpLGUudGV4dHVyZVVuaXRBcnJheS5wdXNoKDApKSxvfX0se2tleTpcImxvYWRCb3hcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX29iaj17fTt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KFsuNSwuNSwuNV0pO3JldHVybiB0aGlzLl9vYmoudmVydGV4QXJyYXk9Wy0xKmVbMF0sLTEqZVsxXSwxKmVbMl0sMSwxKmVbMF0sLTEqZVsxXSwxKmVbMl0sMSwxKmVbMF0sMSplWzFdLDEqZVsyXSwxLC0xKmVbMF0sMSplWzFdLDEqZVsyXSwxLC0xKmVbMF0sLTEqZVsxXSwtMSplWzJdLDEsLTEqZVswXSwxKmVbMV0sLTEqZVsyXSwxLDEqZVswXSwxKmVbMV0sLTEqZVsyXSwxLDEqZVswXSwtMSplWzFdLC0xKmVbMl0sMSwtMSplWzBdLDEqZVsxXSwtMSplWzJdLDEsLTEqZVswXSwxKmVbMV0sMSplWzJdLDEsMSplWzBdLDEqZVsxXSwxKmVbMl0sMSwxKmVbMF0sMSplWzFdLC0xKmVbMl0sMSwtMSplWzBdLC0xKmVbMV0sLTEqZVsyXSwxLDEqZVswXSwtMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sLTEqZVsxXSwxKmVbMl0sMSwtMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsMSplWzBdLC0xKmVbMV0sLTEqZVsyXSwxLDEqZVswXSwxKmVbMV0sLTEqZVsyXSwxLDEqZVswXSwxKmVbMV0sMSplWzJdLDEsMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsLTEqZVswXSwtMSplWzFdLC0xKmVbMl0sMSwtMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsLTEqZVswXSwxKmVbMV0sMSplWzJdLDEsLTEqZVswXSwxKmVbMV0sLTEqZVsyXSwxXSx0aGlzLl9vYmoubm9ybWFsQXJyYXk9WzAsMCwxLDEsMCwwLDEsMSwwLDAsMSwxLDAsMCwxLDEsMCwwLC0xLDEsMCwwLC0xLDEsMCwwLC0xLDEsMCwwLC0xLDEsMCwxLDAsMSwwLDEsMCwxLDAsMSwwLDEsMCwxLDAsMSwwLC0xLDAsMSwwLC0xLDAsMSwwLC0xLDAsMSwwLC0xLDAsMSwxLDAsMCwxLDEsMCwwLDEsMSwwLDAsMSwxLDAsMCwxLC0xLDAsMCwxLC0xLDAsMCwxLC0xLDAsMCwxLC0xLDAsMCwxXSx0aGlzLl9vYmoudGV4dHVyZUFycmF5PVswLDAsMCwxLDEsMCwwLDEsMSwxLDAsMSwwLDEsMCwxLDEsMCwwLDEsMSwxLDAsMSwwLDEsMCwxLDAsMCwwLDEsMCwxLDAsMSwwLDAsMCwxLDEsMCwwLDEsMSwxLDAsMSwxLDEsMCwxLDAsMSwwLDEsMCwwLDAsMSwxLDAsMCwxLDEsMCwwLDEsMSwxLDAsMSwwLDEsMCwxLDAsMCwwLDEsMCwwLDAsMSwxLDAsMCwxLDEsMSwwLDEsMCwxLDAsMV0sdGhpcy5fb2JqLnRleHR1cmVVbml0QXJyYXk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSx0aGlzLl9vYmouaW5kZXhBcnJheT1bMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdLHRoaXMuX29ian19LHtrZXk6XCJsb2FkT2JqXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49XCJcIixpPWUuc3BsaXQoXCIvXCIpLG89MCxyPWkubGVuZ3RoLTE7bzxyO28rKyluPW4raVtvXStcIi9cIjt2YXIgcz1uZXcgWE1MSHR0cFJlcXVlc3Q7cy5vcGVuKFwiR0VUXCIsZSwhMCkscy5yZXNwb25zZVR5cGU9XCJibG9iXCIscy5vbmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEZpbGVSZWFkZXI7dC5vbmxvYWQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10LnRhcmdldC5yZXN1bHQ7dGhpcy5sb2FkT2JqRnJvbVNvdXJjZVRleHQoe3NvdXJjZVRleHQ6aSxvYmpEaXJlY3Rvcnk6bn0pLHZvaWQgMCE9PWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUodGhpcy5fb2JqLHRoaXMuX3RleHR1cmVzKX0uYmluZCh0aGlzLGUpLHQucmVhZEFzVGV4dChzLnJlc3BvbnNlKX0uYmluZCh0aGlzLHQpLHMuc2VuZChudWxsKX19LHtrZXk6XCJsb2FkT2JqRnJvbVNvdXJjZVRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vYmo9e30sdGhpcy5fdGV4dHVyZXM9e307dmFyIHQ9dm9pZCAwLG49dm9pZCAwO3Q9dm9pZCAwIT09ZS5zb3VyY2VUZXh0P2Uuc291cmNlVGV4dDp2b2lkIDAsbj12b2lkIDAhPT1lLm9iakRpcmVjdG9yeT9lLm9iakRpcmVjdG9yeTp2b2lkIDA7dmFyIGk9dC5zcGxpdChcIlxcclxcblwiKTtpZigxPT09aS5sZW5ndGgmJihpPXQuc3BsaXQoXCJcXG5cIikpLG51bGwhPWlbMF0ubWF0Y2goL09CSi9naW0pKXt2YXIgbz1bXSxyPVtdLHM9W10sYT1bXSxsPVtdLHU9W10sYz1bXSxkPVtdLGg9W10sZj1bXSxwPTAsZz1bXSx2PTAsXz0wLG09ITEseT1bXSxiPVtdLEU9W10sQz1bXSxUPVtdLHg9W10sUD1bXSx3PVtdLEw9W10sUz0wLEE9MCxrPTAsTT1bXSxSPTAsTj17fSxVPVstMSwwXTtOLl91bm5hbWVkPVU7Zm9yKHZhciBPPVwiXCIsST1cIlwiLEQ9MCxHPWkubGVuZ3RoO0Q8RztEKyspe3ZhciBGPWlbRF0ucmVwbGFjZSgvXFx0Ky9naSxcIiBcIikucmVwbGFjZSgvXFxzKyQvZ2ksXCJcIikucmVwbGFjZSgvXFxzKy9naSxcIiBcIik7aWYoXCIjXCIhPT1GWzBdKXt2YXIgQj1GLnNwbGl0KFwiIFwiKTtpZihcIm10bGxpYlwiPT09QlswXSYmKE89QlsxXSksXCJnXCI9PT1CWzBdJiYoVT1bZy5sZW5ndGgsMF0sTltCWzFdXT1VKSxcInZcIj09PUJbMF0mJih5W1NdPXBhcnNlRmxvYXQoQlsxXSksYltTXT1wYXJzZUZsb2F0KEJbMl0pLEVbU109cGFyc2VGbG9hdChCWzNdKSxTKyspLFwidm5cIj09PUJbMF0mJihDW0FdPXBhcnNlRmxvYXQoQlsxXSksVFtBXT1wYXJzZUZsb2F0KEJbMl0pLHhbQV09cGFyc2VGbG9hdChCWzNdKSxBKyspLFwidnRcIj09PUJbMF0mJihQW2tdPXBhcnNlRmxvYXQoQlsxXSksd1trXT1wYXJzZUZsb2F0KEJbMl0pLExba109cGFyc2VGbG9hdChCWzNdKSxrKyspLFwidXNlbXRsXCI9PT1CWzBdJiYoST1CWzFdLHRoaXMuX3RleHR1cmVzW3BdPXtmaWxlVXJsOm4rTyxtYXRlcmlhbE5hbWU6SX0scCsrKSxcImZcIj09PUJbMF0pezQhPT1CLmxlbmd0aCYmY29uc29sZS5sb2coXCIqKiogRXJyb3I6IGZhY2UgJ1wiK0YrXCInIG5vdCBoYW5kbGVkXCIpO2Zvcih2YXIgVz0xO1c8NDsrK1cpe209ITA7dmFyIFY9QltXXS5zcGxpdChcIi9cIik7aWYodm9pZCAwPT09TVtCW1ddXSl7dmFyIGo9dm9pZCAwLFk9dm9pZCAwLEg9dm9pZCAwO2lmKDE9PT1WLmxlbmd0aClZPWo9cGFyc2VJbnQoVlswXSktMSxIPWo7ZWxzZXtpZigzIT09Vi5sZW5ndGgpcmV0dXJuIG51bGw7aj1wYXJzZUludChWWzBdKS0xLEg9cGFyc2VJbnQoVlsxXSktMSxZPXBhcnNlSW50KFZbMl0pLTF9Zlt2XT1wLTEsb1t2XT0wLHJbdl09MCxzW3ZdPTAsajxFLmxlbmd0aCYmKG9bdl09eVtqXSxyW3ZdPWJbal0sc1t2XT1FW2pdKSxjW3ZdPTAsZFt2XT0wLGhbdl09MCxIPEwubGVuZ3RoJiYoY1t2XT1QW0hdLGRbdl09d1tIXSxoW3ZdPUxbSF0pLGFbdl09MCxsW3ZdPTAsdVt2XT0xLFk8eC5sZW5ndGgmJihhW3ZdPUNbWV0sbFt2XT1UW1ldLHVbdl09eFtZXSksdisrLE1bQltXXV09UixSKyt9Z1tfXT1NW0JbV11dLF8rKyxVWzFdKyt9fX19aWYoITA9PT1tKXt0aGlzLl9vYmoudmVydGV4QXJyYXk9bmV3IEZsb2F0MzJBcnJheSg0Km8ubGVuZ3RoKTtmb3IodmFyIFg9MCx6PW8ubGVuZ3RoO1g8ejtYKyspe3ZhciBLPTQqWDt0aGlzLl9vYmoudmVydGV4QXJyYXlbS109b1tYXSx0aGlzLl9vYmoudmVydGV4QXJyYXlbSysxXT1yW1hdLHRoaXMuX29iai52ZXJ0ZXhBcnJheVtLKzJdPXNbWF0sdGhpcy5fb2JqLnZlcnRleEFycmF5W0srM109MX10aGlzLl9vYmoubm9ybWFsQXJyYXk9bmV3IEZsb2F0MzJBcnJheSg0KmEubGVuZ3RoKTtmb3IodmFyIHE9MCwkPWEubGVuZ3RoO3E8JDtxKyspe3ZhciBaPTQqcTt0aGlzLl9vYmoubm9ybWFsQXJyYXlbWl09YVtxXSx0aGlzLl9vYmoubm9ybWFsQXJyYXlbWisxXT1sW3FdLHRoaXMuX29iai5ub3JtYWxBcnJheVtaKzJdPXVbcV0sdGhpcy5fb2JqLm5vcm1hbEFycmF5W1orM109MX10aGlzLl9vYmoudGV4dHVyZUFycmF5PW5ldyBGbG9hdDMyQXJyYXkoNCpjLmxlbmd0aCk7Zm9yKHZhciBRPTAsSj1jLmxlbmd0aDtRPEo7USsrKXt2YXIgZWU9NCpRO3RoaXMuX29iai50ZXh0dXJlQXJyYXlbZWVdPWNbUV0sdGhpcy5fb2JqLnRleHR1cmVBcnJheVtlZSsxXT1kW1FdLHRoaXMuX29iai50ZXh0dXJlQXJyYXlbZWUrMl09aFtRXSx0aGlzLl9vYmoudGV4dHVyZUFycmF5W2VlKzNdPTF9dGhpcy5fb2JqLnRleHR1cmVVbml0QXJyYXk9Zix0aGlzLl9vYmouaW5kZXhBcnJheT1nfX1lbHNlIGFsZXJ0KFwiTm90IE9CSiBmaWxlXCIpfX1dKSxlfSgpO2kuTWVzaD1hLHQuZXhwb3J0cy5NZXNoPWF9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vVXRpbHMuY2xhc3NcIjozOH1dLDE4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1uLk5vZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuX2NvbXBvbmVudHM9e30sdGhpcy5fbmFtZT1udWxsLHRoaXMuX2dsPW51bGwsdGhpcy5fZW5hYmxlZD0hMCx0aGlzLm9uVGljaz1udWxsfXJldHVybiBvKGUsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9uYW1lPWUsdGhpcy5fZ2w9dH19LHtrZXk6XCJhZGRDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9jb21wb25lbnRzW2UudHlwZV09ZSx0aGlzLl9jb21wb25lbnRzW2UudHlwZV0uaW5pdGlhbGl6ZSh0aGlzLHRoaXMuX2dsKX19LHtrZXk6XCJnZXRDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c1tlXX19LHtrZXk6XCJnZXRDb21wb25lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50c319LHtrZXk6XCJzZXRFbmFibGVkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZW5hYmxlZD1lfX0se2tleTpcImlzRW5hYmxlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9fSx7a2V5Olwic2V0TmFtZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX25hbWU9ZX19LHtrZXk6XCJnZXROYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmFtZX19XSksZX0oKTtlLk5vZGU9cix0LmV4cG9ydHMuTm9kZT1yfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5HcmlkPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4uLy4uL1V0aWxzLmNsYXNzXCIpLGE9ZShcIi4uLy4uL0NvbXBvbmVudFRyYW5zZm9ybS5jbGFzc1wiKSxsPWUoXCIuLi8uLi9Db21wb25lbnRfR1BVLmNsYXNzXCIpLHU9ZShcIi4uLy4uL01lc2guY2xhc3NcIiksYz1lKFwiLi4vLi4vQ29uc3RhbnRzXCIpLGQ9bi5HcmlkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSksdGhpcy5fc2NlPXQsdGhpcy5fcHJvamVjdD10aGlzLl9zY2UuZ2V0TG9hZGVkUHJvamVjdCgpLHRoaXMuX2dsPXRoaXMuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRXZWJHTENvbnRleHQoKSx0aGlzLl91dGlscz1uZXcgcy5VdGlscyx0aGlzLm5vZGU9bmV3IE5vZGUsdGhpcy5ub2RlLnNldE5hbWUoXCJncmlkXCIpLHRoaXMuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5hZGROb2RlKHRoaXMubm9kZSksdGhpcy5tZXNoPShuZXcgdS5NZXNoKS5sb2FkQm94KCksdGhpcy5jb21wX3RyYW5zZm9ybT1uZXcgYS5Db21wb25lbnRUcmFuc2Zvcm0sdGhpcy5ub2RlLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfdHJhbnNmb3JtKSx0aGlzLmNvbXBfcmVuZGVyZXI9bmV3IGwuQ29tcG9uZW50X0dQVSx0aGlzLm5vZGUuYWRkQ29tcG9uZW50KHRoaXMuY29tcF9yZW5kZXJlciksdGhpcy5ncmlkQ29sb3I9JFYzKFsuMywuMywuM10pfXJldHVybiByKGUsW3trZXk6XCJnZW5lcmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ncmlkRW5hYmxlZD0hMCx0aGlzLnNpemU9dm9pZCAwIT09ZSYmbnVsbCE9PWU/ZTp0aGlzLnNpemUsdGhpcy5zZXBhcmF0aW9uPXZvaWQgMCE9PXQmJm51bGwhPT10P3Q6dGhpcy5zZXBhcmF0aW9uLHRoaXMuY291bnRMaW5lcz10aGlzLnNpemUvdGhpcy5zZXBhcmF0aW9uKzEsdGhpcy5jb3VudExpbmVzKj0yO3ZhciBuPS10aGlzLnNpemUvMixpPXRoaXMuc2l6ZS8yLG89LXRoaXMuc2l6ZS8yLHI9dGhpcy5zaXplLzIscz1uLGE9byxsPVtdLHU9W10sZD1bXTt0aGlzLmlkPTA7Zm9yKHZhciBoPTAsZj10aGlzLmNvdW50TGluZXM7aDxmO2grKylhPD1yPyhsLnB1c2gobiwwLGEsMSxpLDAsYSwxKSxhKz10aGlzLnNlcGFyYXRpb24pOihsLnB1c2gocywwLG8sMSxzLDAsciwxKSxzKz10aGlzLnNlcGFyYXRpb24pLHUucHVzaCh0aGlzLmdyaWRDb2xvci5lWzBdLHRoaXMuZ3JpZENvbG9yLmVbMV0sdGhpcy5ncmlkQ29sb3IuZVsyXSwxLHRoaXMuZ3JpZENvbG9yLmVbMF0sdGhpcy5ncmlkQ29sb3IuZVsxXSx0aGlzLmdyaWRDb2xvci5lWzJdLDEpLGQucHVzaCh0aGlzLmlkLHRoaXMuaWQrMSksdGhpcy5pZCs9MjtsLnB1c2goMCwwLDAsMSwxMCwwLDAsMSksdS5wdXNoKDEsMCwwLDEsMSwwLDAsMSksZC5wdXNoKHRoaXMuaWQsdGhpcy5pZCsxKSx0aGlzLmlkKz0yLGwucHVzaCgwLDAsMCwxLDAsMTAsMCwxKSx1LnB1c2goMCwxLDAsMSwwLDEsMCwxKSxkLnB1c2godGhpcy5pZCx0aGlzLmlkKzEpLHRoaXMuaWQrPTIsbC5wdXNoKDAsMCwwLDEsMCwwLDEwLDEpLHUucHVzaCgwLDAsMSwxLDAsMCwxLDEpLGQucHVzaCh0aGlzLmlkLHRoaXMuaWQrMSksdGhpcy5jb21wX3JlbmRlcmVyLnNldEdQVUZvcih0aGlzLmNvbXBfcmVuZGVyZXIuZ2wse1wiZmxvYXQ0KmF0dHIgdmVydGV4UG9zXCI6ZnVuY3Rpb24oKXtyZXR1cm4gbH0uYmluZCh0aGlzKSxcImZsb2F0NCphdHRyIHZlcnRleENvbG9yXCI6ZnVuY3Rpb24oKXtyZXR1cm4gdX0uYmluZCh0aGlzKSxpbmRpY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LmJpbmQodGhpcyksXCJtYXQ0IFBNYXRyaXhcIjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KGMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OKS5nZXRNYXRyaXgoKS50cmFuc3Bvc2UoKS5lfS5iaW5kKHRoaXMpLFwibWF0NCBjYW1lcmFXTWF0cml4XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudChjLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNX1RBUkdFVCkuZ2V0TWF0cml4KCkudHJhbnNwb3NlKCkuZX0uYmluZCh0aGlzKSxcIm1hdDQgbm9kZVdNYXRyaXhcIjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5UUkFOU0ZPUk0pLmdldE1hdHJpeFBvc2l0aW9uKCkudHJhbnNwb3NlKCkuZX0uYmluZCh0aGlzKX0se3R5cGU6XCJHUkFQSElDXCIsY29uZmlnOltbXCJSR0JcIl0sXCJ2YXJ5aW5nIHZlYzQgdlZDO1xcblwiLFwidmVjNCB2cCA9IHZlcnRleFBvc1tdO1xcbnZlYzQgdmMgPSB2ZXJ0ZXhDb2xvcltdO1xcbnZWQyA9IHZjO2dsX1Bvc2l0aW9uID0gUE1hdHJpeCAqIGNhbWVyYVdNYXRyaXggKiBub2RlV01hdHJpeCAqIHZwO1xcblwiLFwidmFyeWluZyB2ZWM0IHZWQztcXG5cIixcInJldHVybiBbdlZDXTtcXG5cIl0sZHJhd01vZGU6MSxkZXB0aFRlc3Q6ITAsYmxlbmQ6ITAsYmxlbmRFcXVhdGlvbjpjLkNvbnN0YW50cy5CTEVORElOR19FUVVBVElPTl9UWVBFUy5GVU5DX0FERCxibGVuZFNyY01vZGU6Yy5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuU1JDX0FMUEhBLGJsZW5kRHN0TW9kZTpjLkNvbnN0YW50cy5CTEVORElOR19NT0RFUy5PTkVfTUlOVVNfU1JDX0FMUEhBfSksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcIlBNYXRyaXhcIiwhMCksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcImNhbWVyYVdNYXRyaXhcIiwhMCksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcIm5vZGVXTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5nZXRDb21wb25lbnRCdWZmZXJBcmcoXCJSR0JcIix0aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KGMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUpKX19XSksZX0oKTtpLkdyaWQ9ZCx0LmV4cG9ydHMuR3JpZD1kfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIjoxMyxcIi4uLy4uL0NvbXBvbmVudF9HUFUuY2xhc3NcIjoxNSxcIi4uLy4uL0NvbnN0YW50c1wiOjE2LFwiLi4vLi4vTWVzaC5jbGFzc1wiOjE3LFwiLi4vLi4vVXRpbHMuY2xhc3NcIjozOH1dLDIwOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uU2ltcGxlQ2FtZXJhPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4uLy4uL0NvbXBvbmVudFRyYW5zZm9ybVRhcmdldC5jbGFzc1wiKSxhPWUoXCIuLi8uLi9Db21wb25lbnRQcm9qZWN0aW9uLmNsYXNzXCIpLGw9ZShcIi4uLy4uL0NvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIiksdT1lKFwiLi4vLi4vQ29tcG9uZW50X0dQVS5jbGFzc1wiKSxjPWUoXCIuLi8uLi9Db21wb25lbnRLZXlib2FyZEV2ZW50cy5jbGFzc1wiKSxkPWUoXCIuLi8uLi9Db21wb25lbnRNb3VzZUV2ZW50cy5jbGFzc1wiKSxoPWUoXCIuLi8uLi9Ob2RlLmNsYXNzXCIpLGY9ZShcIi4uLy4uL0NvbnN0YW50c1wiKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciBpPXRoaXM7byh0aGlzLGUpO3ZhciByPXQscD1yLmdldExvYWRlZFByb2plY3QoKTt0aGlzLl9vbmtleWRvd249dm9pZCAwIT09biYmdm9pZCAwIT09bi5vbmtleWRvd24mJm51bGwhPT1uLm9ua2V5ZG93bj9uLm9ua2V5ZG93bjpudWxsLHRoaXMuX29ua2V5dXA9dm9pZCAwIT09biYmdm9pZCAwIT09bi5vbmtleXVwJiZudWxsIT09bi5vbmtleXVwP24ub25rZXl1cDpudWxsLHRoaXMuX29ubW91c2Vkb3duPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25tb3VzZWRvd24mJm51bGwhPT1uLm9ubW91c2Vkb3duP24ub25tb3VzZWRvd246bnVsbCx0aGlzLl9vbm1vdXNldXA9dm9pZCAwIT09biYmdm9pZCAwIT09bi5vbm1vdXNldXAmJm51bGwhPT1uLm9ubW91c2V1cD9uLm9ubW91c2V1cDpudWxsLHRoaXMuX29ubW91c2Vtb3ZlPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25tb3VzZW1vdmUmJm51bGwhPT1uLm9ubW91c2Vtb3ZlP24ub25tb3VzZW1vdmU6bnVsbCx0aGlzLl9vbm1vdXNld2hlZWw9dm9pZCAwIT09biYmdm9pZCAwIT09bi5vbm1vdXNld2hlZWwmJm51bGwhPT1uLm9ubW91c2V3aGVlbD9uLm9ubW91c2V3aGVlbDpudWxsLHRoaXMuX3VzZUFsdEtleT0hMCx0aGlzLmFsdEtleVByZXNzZWQ9ITEsdGhpcy5fcHJldmVudE1vdmU9ITEsdGhpcy5jYW1lcmE9bmV3IGguTm9kZSx0aGlzLmNhbWVyYS5zZXROYW1lKFwic2ltcGxlIGNhbWVyYVwiKSxwLmdldEFjdGl2ZVN0YWdlKCkuYWRkTm9kZSh0aGlzLmNhbWVyYSkscC5nZXRBY3RpdmVTdGFnZSgpLnNldEFjdGl2ZUNhbWVyYSh0aGlzLmNhbWVyYSksdGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldD1uZXcgcy5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQsdGhpcy5jYW1lcmEuYWRkQ29tcG9uZW50KHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQpLHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuc2V0VGFyZ2V0RGlzdGFuY2UoLjUpLHRoaXMuY29tcF9wcm9qZWN0aW9uPW5ldyBhLkNvbXBvbmVudFByb2plY3Rpb24sdGhpcy5jYW1lcmEuYWRkQ29tcG9uZW50KHRoaXMuY29tcF9wcm9qZWN0aW9uKSx0aGlzLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldD1uZXcgbC5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LHRoaXMuY2FtZXJhLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldCksdGhpcy5jb21wX3NjcmVlbkVmZmVjdHM9bmV3IHUuQ29tcG9uZW50X0dQVSx0aGlzLmNhbWVyYS5hZGRDb21wb25lbnQodGhpcy5jb21wX3NjcmVlbkVmZmVjdHMpLHRoaXMuY29tcF9zY3JlZW5FZmZlY3RzLnNldEdQVUZvcih0aGlzLmNvbXBfc2NyZWVuRWZmZWN0cy5nbCx7XCJmbG9hdDQqIFJHQlwiOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoci5nZXRDYW52YXMoKS53aWR0aCpyLmdldENhbnZhcygpLndpZHRoKjQpfX0se3R5cGU6XCJLRVJORUxcIixuYW1lOlwiQ0FNRVJBX1JHQl9LRVJORUxcIix2aWV3U291cmNlOiExLGNvbmZpZzpbXCJuXCIsdm9pZCAwLFwiXCIsXCJ2ZWM0IGNvbG9yID0gUkdCW25dO1xcbnJldHVybiBjb2xvcjtcXG5cIl0sZHJhd01vZGU6NCxkZXB0aFRlc3Q6ITEsYmxlbmQ6ITEsYmxlbmRFcXVhdGlvbjpmLkNvbnN0YW50cy5CTEVORElOR19FUVVBVElPTl9UWVBFUy5GVU5DX0FERCxibGVuZFNyY01vZGU6Zi5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuT05FLGJsZW5kRHN0TW9kZTpmLkNvbnN0YW50cy5CTEVORElOR19NT0RFUy5aRVJPfSksdGhpcy5jb21wX3NjcmVlbkVmZmVjdHMuZ3B1Zkcub25Qb3N0UHJvY2Vzc0tlcm5lbCgwLGZ1bmN0aW9uKCl7fSksdGhpcy5jb21wX2tleWJvYXJkRXZlbnRzPW5ldyBjLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzLHRoaXMuY2FtZXJhLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfa2V5Ym9hcmRFdmVudHMpLHRoaXMuY29tcF9rZXlib2FyZEV2ZW50cy5vbmtleWRvd24oZnVuY3Rpb24oZSl7dmFyIHQ9U3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1wiV1wiPT09dCYmaS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuZm9yd2FyZCgpLFwiU1wiPT09dCYmaS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuYmFja3dhcmQoKSxcIkFcIiE9PXQmJlwiJVwiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RyYWZlTGVmdCgpLFwiRFwiIT09dCYmXCInXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdHJhZmVSaWdodCgpLFwiRVwiIT09dCYmXCImXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdHJhZmVGcm9udCgpLFwiQ1wiIT09dCYmXCIoXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdHJhZmVCYWNrKCksXCJMXCI9PT10JiZpLnNldFZpZXcoZi5Db25zdGFudHMuVklFV19UWVBFUy5MRUZUKSxcIlJcIj09PXQmJmkuc2V0VmlldyhmLkNvbnN0YW50cy5WSUVXX1RZUEVTLlJJR0hUKSxcIkZcIj09PXQmJmkuc2V0VmlldyhmLkNvbnN0YW50cy5WSUVXX1RZUEVTLkZST05UKSxcIkJcIj09PXQmJmkuc2V0VmlldyhmLkNvbnN0YW50cy5WSUVXX1RZUEVTLkJBQ0spLFwiVFwiPT09dCYmaS5zZXRWaWV3KGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuVE9QKSxcIlBcIj09PXQmJmkuY29tcF9wcm9qZWN0aW9uLnNldFByb2plY3Rpb24oZi5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRSksXCJPXCI9PT10JiZpLmNvbXBfcHJvamVjdGlvbi5zZXRQcm9qZWN0aW9uKGYuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuT1JUSE8pLCEwPT09ZS5hbHRLZXkmJihpLmFsdEtleVByZXNzZWQ9ITApLG51bGwhPWkuX29ua2V5ZG93biYmaS5fb25rZXlkb3duKCl9KSx0aGlzLmNvbXBfa2V5Ym9hcmRFdmVudHMub25rZXl1cChmdW5jdGlvbihlKXt2YXIgdD1TdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSk7XCJXXCI9PT10JiZpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdG9wRm9yd2FyZCgpLFwiU1wiPT09dCYmaS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RvcEJhY2t3YXJkKCksXCJBXCIhPT10JiZcIiVcIiE9PXR8fGkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnN0b3BTdHJhZmVMZWZ0KCksXCJEXCIhPT10JiZcIidcIiE9PXR8fGkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnN0b3BTdHJhZmVSaWdodCgpLFwiRVwiIT09dCYmXCImXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdG9wU3RyYWZlRnJvbnQoKSxcIkNcIiE9PXQmJlwiKFwiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RvcFN0cmFmZUJhY2soKSwhMT09PWUuYWx0S2V5JiYoaS5hbHRLZXlQcmVzc2VkPSExKSxudWxsIT1pLl9vbmtleXVwJiZpLl9vbmtleXVwKCl9KTt2YXIgZz1uZXcgZC5Db21wb25lbnRNb3VzZUV2ZW50czt0aGlzLmNhbWVyYS5hZGRDb21wb25lbnQoZyksZy5vbm1vdXNlZG93bihmdW5jdGlvbihlKXtpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5tb3VzZURvd24oZSksITA9PT1lLmFsdEtleSYmKGkuYWx0S2V5UHJlc3NlZD0hMCksbnVsbCE9aS5fb25tb3VzZWRvd24mJmkuX29ubW91c2Vkb3duKCl9KSxnLm9ubW91c2V1cChmdW5jdGlvbihlKXtpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5tb3VzZVVwKGUpLCExPT09ZS5hbHRLZXkmJihpLmFsdEtleVByZXNzZWQ9ITEpLG51bGwhPWkuX29ubW91c2V1cCYmaS5fb25tb3VzZXVwKCl9KSxnLm9ubW91c2Vtb3ZlKGZ1bmN0aW9uKGUsdCl7bnVsbCE9aS5fb25tb3VzZW1vdmUmJmkuX29ubW91c2Vtb3ZlKCksITE9PT1pLl9wcmV2ZW50TW92ZSYmKChpLmNvbXBfcHJvamVjdGlvbi5nZXRQcm9qZWN0aW9uKCk9PT1mLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFfHwhMD09PWkuX3VzZUFsdEtleSYmITA9PT1pLmFsdEtleVByZXNzZWR8fCExPT09aS5fdXNlQWx0S2V5KSYmaS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQubW91c2VNb3ZlKGUpLCEwPT09aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuaXNSaWdodEJ0bkFjdGl2ZSgpJiZpLmNvbXBfcHJvamVjdGlvbi5nZXRQcm9qZWN0aW9uKCk9PT1mLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLk9SVEhPJiYhMD09PWkuYWx0S2V5UHJlc3NlZCYmKHQuZVsyXT4wP2kuY29tcF9wcm9qZWN0aW9uLnNldEZvdihpLmNvbXBfcHJvamVjdGlvbi5nZXRGb3YoKSooMStNYXRoLmFicyguMDA1KnQuZVsyXSkpKTppLmNvbXBfcHJvamVjdGlvbi5zZXRGb3YoaS5jb21wX3Byb2plY3Rpb24uZ2V0Rm92KCkvKDErTWF0aC5hYnMoLjAwNSp0LmVbMl0pKSkpKX0pLGcub25tb3VzZXdoZWVsKGZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09ZS53aGVlbERlbHRhWSYmZS53aGVlbERlbHRhWT49MHx8dm9pZCAwIT09ZS5kZWx0YVkmJmUuZGVsdGFZPD0wP2kuY29tcF9wcm9qZWN0aW9uLnNldEZvdihpLmNvbXBfcHJvamVjdGlvbi5nZXRGb3YoKS8xLjEpOmkuY29tcF9wcm9qZWN0aW9uLnNldEZvdigxLjEqaS5jb21wX3Byb2plY3Rpb24uZ2V0Rm92KCkpLGkuY29tcF9wcm9qZWN0aW9uLmdldFByb2plY3Rpb24oKT09PWYuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuT1JUSE8mJihpLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnNldFBvc2l0aW9uVGFyZ2V0KGkuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0UG9zaXRpb25UYXJnZXQoKS5hZGQodCkpLGkuY29tcF90cmFuc2Zvcm1UYXJnZXQuc2V0UG9zaXRpb25Hb2FsKGkuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0UG9zaXRpb25Hb2FsKCkuYWRkKHQpKSksbnVsbCE9aS5fb25tb3VzZXdoZWVsJiZpLl9vbm1vdXNld2hlZWwoKX0pfXJldHVybiByKGUsW3trZXk6XCJzZXRWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuY29tcF9wcm9qZWN0aW9uLnNldFByb2plY3Rpb24oZi5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5PUlRITyksdGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5yZXNldCgpLGUpe2Nhc2UgZi5Db25zdGFudHMuVklFV19UWVBFUy5MRUZUOnRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQueWF3KDkwKTticmVhaztjYXNlIGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuUklHSFQ6dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC55YXcoLTkwKTticmVhaztjYXNlIGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuRlJPTlQ6Y2FzZSBmLkNvbnN0YW50cy5WSUVXX1RZUEVTLkJBQ0s6YnJlYWs7Y2FzZSBmLkNvbnN0YW50cy5WSUVXX1RZUEVTLlRPUDp0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnBpdGNoKC04OS45KTticmVhaztjYXNlIGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuQk9UVE9NOnRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQucGl0Y2goOTApfX19LHtrZXk6XCJzZXRMZWZ0QnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc2V0TGVmdEJ1dHRvbkFjdGlvbihlKX19LHtrZXk6XCJzZXRNaWRkbGVCdXR0b25BY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zZXRNaWRkbGVCdXR0b25BY3Rpb24oZSl9fSx7a2V5Olwic2V0UmlnaHRCdXR0b25BY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zZXRSaWdodEJ1dHRvbkFjdGlvbihlKX19LHtrZXk6XCJpc0FsdEtleUVuYWJsZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VBbHRLZXl9fSx7a2V5OlwiaXNBbHRLZXlQcmVzc2VkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbHRLZXlQcmVzc2VkfX0se2tleTpcInNldFZlbG9jaXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc2V0VmVsb2NpdHkoZSl9fSx7a2V5Olwic2V0Rm92XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb21wX3Byb2plY3Rpb24uc2V0Rm92KGUpfX0se2tleTpcImdldEZvdlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcF9wcm9qZWN0aW9uLmdldEZvdigpfX1dLFt7a2V5OlwicHJldmVudE1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9wcmV2ZW50TW92ZT1lfX0se2tleTpcInVzZUFsdEtleVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3VzZUFsdEtleT1lfX1dKSxlfSgpO24uU2ltcGxlQ2FtZXJhPXAsaS5TaW1wbGVDYW1lcmE9cCx0LmV4cG9ydHMuU2ltcGxlQ2FtZXJhPXB9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4uLy4uL0NvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIjo5LFwiLi4vLi4vQ29tcG9uZW50S2V5Ym9hcmRFdmVudHMuY2xhc3NcIjoxMCxcIi4uLy4uL0NvbXBvbmVudE1vdXNlRXZlbnRzLmNsYXNzXCI6MTEsXCIuLi8uLi9Db21wb25lbnRQcm9qZWN0aW9uLmNsYXNzXCI6MTIsXCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIjoxNCxcIi4uLy4uL0NvbXBvbmVudF9HUFUuY2xhc3NcIjoxNSxcIi4uLy4uL0NvbnN0YW50c1wiOjE2LFwiLi4vLi4vTm9kZS5jbGFzc1wiOjE4fV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5TaW1wbGVOb2RlPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4uLy4uL0NvbXBvbmVudFRyYW5zZm9ybS5jbGFzc1wiKSxhPWUoXCIuLi8uLi9Db21wb25lbnRfR1BVLmNsYXNzXCIpLGw9ZShcIi4uLy4uL1ZGUF9SR0IuY2xhc3NcIiksdT1lKFwiLi4vLi4vQ29uc3RhbnRzXCIpLGM9bi5TaW1wbGVOb2RlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSksdGhpcy5fc2NlPXQsdGhpcy5fcHJvamVjdD10aGlzLl9zY2UuZ2V0TG9hZGVkUHJvamVjdCgpLHRoaXMubm9kZT1uZXcgTm9kZSx0aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuYWRkTm9kZSh0aGlzLm5vZGUpLHRoaXMuX21lc2g9bnVsbDt2YXIgbj1uZXcgcy5Db21wb25lbnRUcmFuc2Zvcm07dGhpcy5ub2RlLmFkZENvbXBvbmVudChuKSx0aGlzLmNvbXBfcmVuZGVyZXI9bmV3IGEuQ29tcG9uZW50X0dQVSx0aGlzLm5vZGUuYWRkQ29tcG9uZW50KHRoaXMuY29tcF9yZW5kZXJlcil9cmV0dXJuIHIoZSxbe2tleTpcInNldE1lc2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX21lc2g9ZSx0aGlzLmNvbXBfcmVuZGVyZXIuc2V0R1BVRm9yKHRoaXMuY29tcF9yZW5kZXJlci5nbCx7XCJmbG9hdDQqYXR0ciB2ZXJ0ZXhQb3NcIjpmdW5jdGlvbigpe3JldHVybiB0Ll9tZXNoLnZlcnRleEFycmF5fSxcImZsb2F0NCphdHRyIHZlcnRleE5vcm1hbFwiOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX21lc2gubm9ybWFsQXJyYXl9LFwiZmxvYXQ0KmF0dHIgdmVydGV4VGV4dHVyZVwiOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX21lc2gudGV4dHVyZUFycmF5fSxcImZsb2F0KmF0dHIgdmVydGV4VGV4dHVyZVVuaXRcIjpmdW5jdGlvbigpe3JldHVybiB0Ll9tZXNoLnRleHR1cmVVbml0QXJyYXl9LGluZGljZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fbWVzaC5pbmRleEFycmF5fSxcIm1hdDQgUE1hdHJpeFwiOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRBY3RpdmVDYW1lcmEoKS5nZXRDb21wb25lbnQodS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlBST0pFQ1RJT04pLmdldE1hdHJpeCgpLnRyYW5zcG9zZSgpLmV9LFwibWF0NCBjYW1lcmFXTWF0cml4XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNX1RBUkdFVCkuZ2V0TWF0cml4KCkudHJhbnNwb3NlKCkuZX0sXCJtYXQ0IG5vZGVXTWF0cml4XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5ub2RlLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNKS5nZXRNYXRyaXhQb3NpdGlvbigpLnRyYW5zcG9zZSgpLmV9LFwiZmxvYXQgbm9kZXNTaXplXCI6ZnVuY3Rpb24oKXtyZXR1cm4gMzB9LFwiZmxvYXQ0KiB0ZXhBbGJlZG9cIjpmdW5jdGlvbigpe3JldHVybiB0Ll9tZXNoLnZlcnRleEFycmF5fX0se3R5cGU6XCJHUkFQSElDXCIsY29uZmlnOm5ldyBsLlZGUF9SR0IoMSkuZ2V0U3JjKCksZHJhd01vZGU6NCxkZXB0aFRlc3Q6ITAsYmxlbmQ6ITAsYmxlbmRFcXVhdGlvbjp1LkNvbnN0YW50cy5CTEVORElOR19FUVVBVElPTl9UWVBFUy5GVU5DX0FERCxibGVuZFNyY01vZGU6dS5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuU1JDX0FMUEhBLGJsZW5kRHN0TW9kZTp1LkNvbnN0YW50cy5CTEVORElOR19NT0RFUy5PTkVfTUlOVVNfU1JDX0FMUEhBfSksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcIlBNYXRyaXhcIiwhMCksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcImNhbWVyYVdNYXRyaXhcIiwhMCksdGhpcy5jb21wX3JlbmRlcmVyLnNldEFyZ1VwZGF0YWJsZShcIm5vZGVXTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5nZXRDb21wb25lbnRCdWZmZXJBcmcoXCJSR0JcIix0aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KHUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUpKSx0aGlzLmNvbXBfcmVuZGVyZXIuZ3B1Zkcub25QcmVQcm9jZXNzR3JhcGhpYygwLGZ1bmN0aW9uKCl7fSl9fSx7a2V5Olwic2V0SW1hZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49bmV3IEltYWdlO24ub25sb2FkPWZ1bmN0aW9uKCl7dC5jb21wX3JlbmRlcmVyLnNldEFyZyhcInRleEFsYmVkb1wiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0sbi5zcmM9ZX19XSksZX0oKTtpLlNpbXBsZU5vZGU9Yyx0LmV4cG9ydHMuU2ltcGxlTm9kZT1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIjoxMyxcIi4uLy4uL0NvbXBvbmVudF9HUFUuY2xhc3NcIjoxNSxcIi4uLy4uL0NvbnN0YW50c1wiOjE2LFwiLi4vLi4vVkZQX1JHQi5jbGFzc1wiOjM5fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPW4uUHJvamVjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpKHRoaXMsZSksdGhpcy5zdGFnZXM9W10sdGhpcy5hY3RpdmVTdGFnZT1udWxsLHRoaXMuZ2w9bnVsbH1yZXR1cm4gbyhlLFt7a2V5Olwic2V0QWN0aXZlU3RhZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmFjdGl2ZVN0YWdlPWUsdGhpcy5hY3RpdmVTdGFnZS5zZXRXZWJHTENvbnRleHQodGhpcy5nbCl9fSx7a2V5OlwiZ2V0QWN0aXZlU3RhZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZVN0YWdlfX0se2tleTpcImFkZFN0YWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5zdGFnZXMucHVzaChlKX19LHtrZXk6XCJzZXRXZWJHTENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdsPWV9fV0pLGV9KCk7ZS5Qcm9qZWN0PXIsdC5leHBvcnRzLlByb2plY3Q9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDIzOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uU0NFPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vU3lzdGVtRXZlbnRzLmNsYXNzXCIpLGE9ZShcIi4vVXRpbHMuY2xhc3NcIiksbD1lKFwiLi9VSS9VSS5jbGFzc1wiKSx1PWUoXCIuL0NvbnN0YW50c1wiKSxjPW4uU0NFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLnRhcmdldD1udWxsLHRoaXMucHJvamVjdD1udWxsLHRoaXMuZGltZW5zaW9ucz1udWxsLHRoaXMuY2FudmFzPW51bGwsdGhpcy5nbD1udWxsLHRoaXMuX1VJPW51bGwsdGhpcy5fZW5hYmxlVUk9bnVsbCx0aGlzLl9ldmVudHM9bnVsbH1yZXR1cm4gcihlLFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMudGFyZ2V0PXZvaWQgMCE9PWUudGFyZ2V0P2UudGFyZ2V0OnZvaWQgMCx0aGlzLmRpbWVuc2lvbnM9dm9pZCAwIT09ZS5kaW1lbnNpb25zP2UuZGltZW5zaW9uczp7d2lkdGg6NTEyLGhlaWdodDo1MTJ9LHRoaXMuX2VuYWJsZVVJPXZvaWQgMCE9PWUuZW5hYmxlVUkmJmUuZW5hYmxlVUksbnVsbCE9dGhpcy50YXJnZXQpe2lmKHRoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy50YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMuc2V0RGltZW5zaW9ucyh0aGlzLmRpbWVuc2lvbnMud2lkdGgsdGhpcy5kaW1lbnNpb25zLmhlaWdodCksdm9pZCAwIT09ZS5nbCYmbnVsbCE9PWUuZ2wpdGhpcy5nbD1lLmdsO2Vsc2UgaWYoISh0aGlzLmdsPWEuVXRpbHMuZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhcyh0aGlzLmNhbnZhcykpKXJldHVybiBhbGVydChcIk5vIFdlYkdMUmVuZGVyaW5nQ29udGV4dFwiKSwhMX1lbHNlIGFsZXJ0KFwiVGFyZ2V0IERJViByZXF1aXJlZFwiKX19LHtrZXk6XCJsb2FkUHJvamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvamVjdD1lLHRoaXMucHJvamVjdC5zZXRXZWJHTENvbnRleHQodGhpcy5nbCksITA9PT10aGlzLl9lbmFibGVVSSYmKHRoaXMuX1VJPW5ldyBsLlVJKHRoaXMucHJvamVjdCkucmVuZGVyKHRoaXMudGFyZ2V0LHRoaXMuY2FudmFzKSksdGhpcy5fZXZlbnRzPW5ldyBzLlN5c3RlbUV2ZW50cyh0aGlzLHRoaXMuY2FudmFzKSx0aGlzLl9ldmVudHMuaW5pdGlhbGl6ZSgpfX0se2tleTpcImdldExvYWRlZFByb2plY3RcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb2plY3R9fSx7a2V5OlwiZ2V0Q2FudmFzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXN9fSx7a2V5OlwiZ2V0RXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfX0se2tleTpcInNldERpbWVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZGltZW5zaW9ucz17d2lkdGg6ZSxoZWlnaHQ6dH0sdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLmRpbWVuc2lvbnMud2lkdGgpLHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpLG51bGwhPXRoaXMucHJvamVjdCYmbnVsbCE9dGhpcy5wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkpe3ZhciBuPXRoaXMucHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpO2lmKG51bGwhPW4pe3ZhciBpPW4uZ2V0Q29tcG9uZW50KHUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OKSxvPW4uZ2V0Q29tcG9uZW50KHUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUpO2kuc2V0UmVzb2x1dGlvbih0aGlzLmRpbWVuc2lvbnMud2lkdGgsdGhpcy5kaW1lbnNpb25zLndpZHRoKSxvLnNldEFyZyhcIlJHQlwiLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5kaW1lbnNpb25zLndpZHRoKnRoaXMuZGltZW5zaW9ucy53aWR0aCo0KX0uYmluZCh0aGlzKSl9fX19LHtrZXk6XCJnZXREaW1lbnNpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaW1lbnNpb25zfX1dKSxlfSgpO2kuU0NFPWMsdC5leHBvcnRzLlNDRT1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0NvbnN0YW50c1wiOjE2LFwiLi9TeXN0ZW1FdmVudHMuY2xhc3NcIjoyNixcIi4vVUkvVUkuY2xhc3NcIjozMixcIi4vVXRpbHMuY2xhc3NcIjozOH1dLDI0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uU3RhZ2U9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9Db25zdGFudHNcIiksYT1uLlN0YWdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLm5vZGVzPVtdLHRoaXMuYWN0aXZlQ2FtZXJhPW51bGwsdGhpcy5zZWxlY3RlZE5vZGU9bnVsbCx0aGlzLnBhdXNlZD0hMSx0aGlzLmJhY2tncm91bmRDb2xvcj1bMCwwLDAsMV0sdGhpcy5nbD1udWxsLHRoaXMuX29udGljaz1udWxsfXJldHVybiByKGUsW3trZXk6XCJzZXRBY3RpdmVDYW1lcmFcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmFjdGl2ZUNhbWVyYT1lfX0se2tleTpcImdldEFjdGl2ZUNhbWVyYVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlQ2FtZXJhfX0se2tleTpcInNldFNlbGVjdGVkTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0ZWROb2RlPWV9fSx7a2V5OlwiZ2V0U2VsZWN0ZWROb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZE5vZGV9fSx7a2V5OlwiYWRkTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubm9kZXMucHVzaChlKSxlLmluaXRpYWxpemUobnVsbCE9ZS5nZXROYW1lKCk/ZS5nZXROYW1lKCk6XCJub2RlIFwiKyh0aGlzLm5vZGVzLmxlbmd0aC0xKSx0aGlzLmdsKX19LHtrZXk6XCJyZW1vdmVOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLm5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy5ub2Rlc1t0XT09PWUpe3RoaXMubm9kZXMuc3BsaWNlKHQsMSk7YnJlYWt9fX0se2tleTpcImdldE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc319LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbnRpY2s9ZSx0aGlzLnBhdXNlZD0hMSx0aGlzLnNldEJhY2tncm91bmRDb2xvcih0aGlzLmJhY2tncm91bmRDb2xvciksdGhpcy50aWNrKCl9fSx7a2V5OlwicGF1c2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfX0se2tleTpcInNldFdlYkdMQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZX19LHtrZXk6XCJzZXRCYWNrZ3JvdW5kQ29sb3JcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmJhY2tncm91bmRDb2xvcj1lfX0se2tleTpcImdldEJhY2tncm91bmRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFja2dyb3VuZENvbG9yfX0se2tleTpcImdldFdlYkdMQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2x9fSx7a2V5OlwidGlja1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5hY3RpdmVDYW1lcmEpe3ZvaWQgMCE9PXRoaXMuX29udGljayYmbnVsbCE9PXRoaXMuX29udGljayYmdGhpcy5fb250aWNrKCk7dmFyIGU9dGhpcy5hY3RpdmVDYW1lcmEuZ2V0Q29tcG9uZW50KHMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OKS5nZXRSZXNvbHV0aW9uKCk7dGhpcy5nbC52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCksdGhpcy5nbC5jbGVhckNvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yWzBdLHRoaXMuYmFja2dyb3VuZENvbG9yWzFdLHRoaXMuYmFja2dyb3VuZENvbG9yWzJdLHRoaXMuYmFja2dyb3VuZENvbG9yWzNdKSx0aGlzLmdsLmNsZWFyRGVwdGgoMSksdGhpcy5nbC5kZXB0aEZ1bmModGhpcy5nbC5MRVFVQUwpO3ZhciB0PXRoaXMuYWN0aXZlQ2FtZXJhLmdldENvbXBvbmVudChzLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVKTt2b2lkIDAhPT10JiZudWxsIT09dCYmdC5ncHVmRy5maWxsQXJnKFwiUkdCXCIsW3RoaXMuYmFja2dyb3VuZENvbG9yWzBdLHRoaXMuYmFja2dyb3VuZENvbG9yWzFdLHRoaXMuYmFja2dyb3VuZENvbG9yWzJdLHRoaXMuYmFja2dyb3VuZENvbG9yWzNdXSk7Zm9yKHZhciBuPTAsaT10aGlzLm5vZGVzLmxlbmd0aDtuPGk7bisrKWlmKHRoaXMubm9kZXNbbl0hPT10aGlzLmFjdGl2ZUNhbWVyYSl7Zm9yKHZhciBvIGluIHRoaXMubm9kZXNbbl0uZ2V0Q29tcG9uZW50cygpKXt2YXIgcj10aGlzLm5vZGVzW25dLmdldENvbXBvbmVudChvKTtudWxsIT1yLnRpY2smJnIudGljaygpfW51bGwhPXRoaXMubm9kZXNbbl0ub25UaWNrJiZ0aGlzLm5vZGVzW25dLm9uVGljaygpfWZvcih2YXIgYT0wLGw9dGhpcy5ub2Rlcy5sZW5ndGg7YTxsO2ErKylpZih0aGlzLm5vZGVzW2FdIT09dGhpcy5hY3RpdmVDYW1lcmEpZm9yKHZhciB1IGluIHRoaXMubm9kZXNbYV0uZ2V0Q29tcG9uZW50cygpKXt2YXIgYz10aGlzLm5vZGVzW2FdLmdldENvbXBvbmVudCh1KTtpZihudWxsIT1jLmdwdWZHKWZvcih2YXIgZCBpbiBjLmdwdWZHLnZlcnRleEZyYWdtZW50UHJvZ3JhbXMpe3ZhciBoPWMuZ3B1ZkcudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tkXSxmPVdlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKGgsYy5ncHVmRy5fYXJnc1ZhbHVlcyk7ITA9PT1oLmVuYWJsZWQmJm51bGwhPWYmJihjLmdwdWZHLl9nbC5iaW5kRnJhbWVidWZmZXIoYy5ncHVmRy5fZ2wuRlJBTUVCVUZGRVIsZlswXS5mQnVmZmVyKSxjLmdwdWZHLl9nbC5jbGVhcihjLmdwdWZHLl9nbC5ERVBUSF9CVUZGRVJfQklUKSxjLmdwdWZHLl9nbC5iaW5kRnJhbWVidWZmZXIoYy5ncHVmRy5fZ2wuRlJBTUVCVUZGRVIsZlswXS5mQnVmZmVyVGVtcCksYy5ncHVmRy5fZ2wuY2xlYXIoYy5ncHVmRy5fZ2wuREVQVEhfQlVGRkVSX0JJVCkpfX1mb3IodmFyIHAgaW4gdGhpcy5hY3RpdmVDYW1lcmEuZ2V0Q29tcG9uZW50cygpKXt2YXIgZz10aGlzLmFjdGl2ZUNhbWVyYS5nZXRDb21wb25lbnQocCk7bnVsbCE9Zy50aWNrJiZnLnRpY2soKX19fX1dKSxlfSgpO2kuU3RhZ2U9YSx0LmV4cG9ydHMuU3RhZ2U9YX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db25zdGFudHNcIjoxNn1dLDI1OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIG5ldyBhKGUpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIG5ldyBsKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7bi4kTTE2PW8sbi4kVjM9cjt2YXIgYT1uLlN0b3JtTTE2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5lPW51bGwsdGhpcy5lPXZvaWQgMCE9PXQmJm51bGwhPT10P25ldyBGbG9hdDMyQXJyYXkodCk6bmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pfXJldHVybiBzKGUsW3trZXk6XCJ4XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCBpbnN0YW5jZW9mIGU/W3RoaXMuZVswXSp0LmVbMF0rdGhpcy5lWzFdKnQuZVs0XSt0aGlzLmVbMl0qdC5lWzhdK3RoaXMuZVszXSp0LmVbMTJdLHRoaXMuZVswXSp0LmVbMV0rdGhpcy5lWzFdKnQuZVs1XSt0aGlzLmVbMl0qdC5lWzldK3RoaXMuZVszXSp0LmVbMTNdLHRoaXMuZVswXSp0LmVbMl0rdGhpcy5lWzFdKnQuZVs2XSt0aGlzLmVbMl0qdC5lWzEwXSt0aGlzLmVbM10qdC5lWzE0XSx0aGlzLmVbMF0qdC5lWzNdK3RoaXMuZVsxXSp0LmVbN10rdGhpcy5lWzJdKnQuZVsxMV0rdGhpcy5lWzNdKnQuZVsxNV0sdGhpcy5lWzRdKnQuZVswXSt0aGlzLmVbNV0qdC5lWzRdK3RoaXMuZVs2XSp0LmVbOF0rdGhpcy5lWzddKnQuZVsxMl0sdGhpcy5lWzRdKnQuZVsxXSt0aGlzLmVbNV0qdC5lWzVdK3RoaXMuZVs2XSp0LmVbOV0rdGhpcy5lWzddKnQuZVsxM10sdGhpcy5lWzRdKnQuZVsyXSt0aGlzLmVbNV0qdC5lWzZdK3RoaXMuZVs2XSp0LmVbMTBdK3RoaXMuZVs3XSp0LmVbMTRdLHRoaXMuZVs0XSp0LmVbM10rdGhpcy5lWzVdKnQuZVs3XSt0aGlzLmVbNl0qdC5lWzExXSt0aGlzLmVbN10qdC5lWzE1XSx0aGlzLmVbOF0qdC5lWzBdK3RoaXMuZVs5XSp0LmVbNF0rdGhpcy5lWzEwXSp0LmVbOF0rdGhpcy5lWzExXSp0LmVbMTJdLHRoaXMuZVs4XSp0LmVbMV0rdGhpcy5lWzldKnQuZVs1XSt0aGlzLmVbMTBdKnQuZVs5XSt0aGlzLmVbMTFdKnQuZVsxM10sdGhpcy5lWzhdKnQuZVsyXSt0aGlzLmVbOV0qdC5lWzZdK3RoaXMuZVsxMF0qdC5lWzEwXSt0aGlzLmVbMTFdKnQuZVsxNF0sdGhpcy5lWzhdKnQuZVszXSt0aGlzLmVbOV0qdC5lWzddK3RoaXMuZVsxMF0qdC5lWzExXSt0aGlzLmVbMTFdKnQuZVsxNV0sdGhpcy5lWzEyXSp0LmVbMF0rdGhpcy5lWzEzXSp0LmVbNF0rdGhpcy5lWzE0XSp0LmVbOF0rdGhpcy5lWzE1XSp0LmVbMTJdLHRoaXMuZVsxMl0qdC5lWzFdK3RoaXMuZVsxM10qdC5lWzVdK3RoaXMuZVsxNF0qdC5lWzldK3RoaXMuZVsxNV0qdC5lWzEzXSx0aGlzLmVbMTJdKnQuZVsyXSt0aGlzLmVbMTNdKnQuZVs2XSt0aGlzLmVbMTRdKnQuZVsxMF0rdGhpcy5lWzE1XSp0LmVbMTRdLHRoaXMuZVsxMl0qdC5lWzNdK3RoaXMuZVsxM10qdC5lWzddK3RoaXMuZVsxNF0qdC5lWzExXSt0aGlzLmVbMTVdKnQuZVsxNV1dOlswLDAsMCx0aGlzLmVbMF0qdC5lWzBdK3RoaXMuZVsxXSp0LmVbMV0rdGhpcy5lWzJdKnQuZVsyXSwwLDAsMCx0aGlzLmVbNF0qdC5lWzBdK3RoaXMuZVs1XSp0LmVbMV0rdGhpcy5lWzZdKnQuZVsyXSwwLDAsMCx0aGlzLmVbOF0qdC5lWzBdK3RoaXMuZVs5XSp0LmVbMV0rdGhpcy5lWzEwXSp0LmVbMl0sMCwwLDAsdGhpcy5lWzEyXSp0LmVbMF0rdGhpcy5lWzEzXSp0LmVbMV0rdGhpcy5lWzE0XSp0LmVbMl1dKX19LHtrZXk6XCJ0cmFuc3Bvc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvKFt0aGlzLmVbMF0sdGhpcy5lWzRdLHRoaXMuZVs4XSx0aGlzLmVbMTJdLHRoaXMuZVsxXSx0aGlzLmVbNV0sdGhpcy5lWzldLHRoaXMuZVsxM10sdGhpcy5lWzJdLHRoaXMuZVs2XSx0aGlzLmVbMTBdLHRoaXMuZVsxNF0sdGhpcy5lWzNdLHRoaXMuZVs3XSx0aGlzLmVbMTFdLHRoaXMuZVsxNV1dKX19LHtrZXk6XCJpbnZlcnNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1vKHRoaXMuZSkudHJhbnNwb3NlKCkuZSx0PW5ldyBGbG9hdDMyQXJyYXkoMTIpLG49bmV3IEZsb2F0MzJBcnJheSgxNik7dFswXT1lWzEwXSplWzE1XSx0WzFdPWVbMTFdKmVbMTRdLHRbMl09ZVs5XSplWzE1XSx0WzNdPWVbMTFdKmVbMTNdLHRbNF09ZVs5XSplWzE0XSx0WzVdPWVbMTBdKmVbMTNdLHRbNl09ZVs4XSplWzE1XSx0WzddPWVbMTFdKmVbMTJdLHRbOF09ZVs4XSplWzE0XSx0WzldPWVbMTBdKmVbMTJdLHRbMTBdPWVbOF0qZVsxM10sdFsxMV09ZVs5XSplWzEyXSxuWzBdPXRbMF0qZVs1XSt0WzNdKmVbNl0rdFs0XSplWzddLG5bMF0tPXRbMV0qZVs1XSt0WzJdKmVbNl0rdFs1XSplWzddLG5bMV09dFsxXSplWzRdK3RbNl0qZVs2XSt0WzldKmVbN10sblsxXS09dFswXSplWzRdK3RbN10qZVs2XSt0WzhdKmVbN10sblsyXT10WzJdKmVbNF0rdFs3XSplWzVdK3RbMTBdKmVbN10sblsyXS09dFszXSplWzRdK3RbNl0qZVs1XSt0WzExXSplWzddLG5bM109dFs1XSplWzRdK3RbOF0qZVs1XSt0WzExXSplWzZdLG5bM10tPXRbNF0qZVs0XSt0WzldKmVbNV0rdFsxMF0qZVs2XSxuWzRdPXRbMV0qZVsxXSt0WzJdKmVbMl0rdFs1XSplWzNdLG5bNF0tPXRbMF0qZVsxXSt0WzNdKmVbMl0rdFs0XSplWzNdLG5bNV09dFswXSplWzBdK3RbN10qZVsyXSt0WzhdKmVbM10sbls1XS09dFsxXSplWzBdK3RbNl0qZVsyXSt0WzldKmVbM10sbls2XT10WzNdKmVbMF0rdFs2XSplWzFdK3RbMTFdKmVbM10sbls2XS09dFsyXSplWzBdK3RbN10qZVsxXSt0WzEwXSplWzNdLG5bN109dFs0XSplWzBdK3RbOV0qZVsxXSt0WzEwXSplWzJdLG5bN10tPXRbNV0qZVswXSt0WzhdKmVbMV0rdFsxMV0qZVsyXSx0WzBdPWVbMl0qZVs3XSx0WzFdPWVbM10qZVs2XSx0WzJdPWVbMV0qZVs3XSx0WzNdPWVbM10qZVs1XSx0WzRdPWVbMV0qZVs2XSx0WzVdPWVbMl0qZVs1XSx0WzZdPWVbMF0qZVs3XSx0WzddPWVbM10qZVs0XSx0WzhdPWVbMF0qZVs2XSx0WzldPWVbMl0qZVs0XSx0WzEwXT1lWzBdKmVbNV0sdFsxMV09ZVsxXSplWzRdLG5bOF09dFswXSplWzEzXSt0WzNdKmVbMTRdK3RbNF0qZVsxNV0sbls4XS09dFsxXSplWzEzXSt0WzJdKmVbMTRdK3RbNV0qZVsxNV0sbls5XT10WzFdKmVbMTJdK3RbNl0qZVsxNF0rdFs5XSplWzE1XSxuWzldLT10WzBdKmVbMTJdK3RbN10qZVsxNF0rdFs4XSplWzE1XSxuWzEwXT10WzJdKmVbMTJdK3RbN10qZVsxM10rdFsxMF0qZVsxNV0sblsxMF0tPXRbM10qZVsxMl0rdFs2XSplWzEzXSt0WzExXSplWzE1XSxuWzExXT10WzVdKmVbMTJdK3RbOF0qZVsxM10rdFsxMV0qZVsxNF0sblsxMV0tPXRbNF0qZVsxMl0rdFs5XSplWzEzXSt0WzEwXSplWzE0XSxuWzEyXT10WzJdKmVbMTBdK3RbNV0qZVsxMV0rdFsxXSplWzldLG5bMTJdLT10WzRdKmVbMTFdK3RbMF0qZVs5XSt0WzNdKmVbMTBdLG5bMTNdPXRbOF0qZVsxMV0rdFswXSplWzhdK3RbN10qZVsxMF0sblsxM10tPXRbNl0qZVsxMF0rdFs5XSplWzExXSt0WzFdKmVbOF0sblsxNF09dFs2XSplWzldK3RbMTFdKmVbMTFdK3RbM10qZVs4XSxuWzE0XS09dFsxMF0qZVsxMV0rdFsyXSplWzhdK3RbN10qZVs5XSxuWzE1XT10WzEwXSplWzEwXSt0WzRdKmVbOF0rdFs5XSplWzldLG5bMTVdLT10WzhdKmVbOV0rdFsxMV0qZVsxMF0rdFs1XSplWzhdO3ZhciBpPWVbMF0qblswXStlWzFdKm5bMV0rZVsyXSpuWzJdK2VbM10qblszXTtyZXR1cm4gbyhbblswXSppLG5bMV0qaSxuWzJdKmksblszXSppLG5bNF0qaSxuWzVdKmksbls2XSppLG5bN10qaSxuWzhdKmksbls5XSppLG5bMTBdKmksblsxMV0qaSxuWzEyXSppLG5bMTNdKmksblsxNF0qaSxuWzE1XSppXSl9fSx7a2V5OlwiZ2V0TGVmdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoW3RoaXMuZVswXSx0aGlzLmVbNF0sdGhpcy5lWzhdXSkubm9ybWFsaXplKCl9fSx7a2V5OlwiZ2V0VXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiByKFt0aGlzLmVbMV0sdGhpcy5lWzVdLHRoaXMuZVs5XV0pLm5vcm1hbGl6ZSgpfX0se2tleTpcImdldEZvcndhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiByKFt0aGlzLmVbMl0sdGhpcy5lWzZdLHRoaXMuZVsxMF1dKS5ub3JtYWxpemUoKX19LHtrZXk6XCJzZXRSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwIT09biYmbnVsbCE9PW4mJm51bGwhPT1uLmVbMF0/dm9pZCAwPT09dHx8bnVsbD09PXR8fCEwPT09dD90aGlzLngobyhbMSwwLDAsMCwwLE1hdGguY29zKGUpLC1NYXRoLnNpbihlKSwwLDAsTWF0aC5zaW4oZSksTWF0aC5jb3MoZSksMCwwLDAsMCwxXSkpOm8oWzEsMCwwLDAsMCxNYXRoLmNvcyhlKSwtTWF0aC5zaW4oZSksMCwwLE1hdGguc2luKGUpLE1hdGguY29zKGUpLDAsMCwwLDAsMV0pOnZvaWQgMCE9PW4mJm51bGwhPT1uJiZudWxsIT09bi5lWzFdP3ZvaWQgMD09PXR8fG51bGw9PT10fHwhMD09PXQ/dGhpcy54KG8oW01hdGguY29zKGUpLDAsTWF0aC5zaW4oZSksMCwwLDEsMCwwLC1NYXRoLnNpbihlKSwwLE1hdGguY29zKGUpLDAsMCwwLDAsMV0pKTpvKFtNYXRoLmNvcyhlKSwwLE1hdGguc2luKGUpLDAsMCwxLDAsMCwtTWF0aC5zaW4oZSksMCxNYXRoLmNvcyhlKSwwLDAsMCwwLDFdKTp2b2lkIDAhPT1uJiZudWxsIT09biYmbnVsbCE9PW4uZVsyXT92b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10P3RoaXMueChvKFtNYXRoLmNvcyhlKSwtTWF0aC5zaW4oZSksMCwwLE1hdGguc2luKGUpLE1hdGguY29zKGUpLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSk6byhbTWF0aC5jb3MoZSksLU1hdGguc2luKGUpLDAsMCxNYXRoLnNpbihlKSxNYXRoLmNvcyhlKSwwLDAsMCwwLDEsMCwwLDAsMCwxXSk6dm9pZCAwfX0se2tleTpcInNldFJvdGF0aW9uWFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0Um90YXRpb24oZSx0LHIoWzEsMCwwXSkpfX0se2tleTpcInNldFJvdGF0aW9uWVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0Um90YXRpb24oZSx0LHIoWzAsMSwwXSkpfX0se2tleTpcInNldFJvdGF0aW9uWlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0Um90YXRpb24oZSx0LHIoWzAsMCwxXSkpfX0se2tleTpcInNldFNjYWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDAhPT1uJiZudWxsIT09biYmbnVsbCE9PW4uZVswXT92b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10P3RoaXMueChvKFtlLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSkpOm8oW2UsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKTp2b2lkIDAhPT1uJiZudWxsIT09biYmbnVsbCE9PW4uZVsxXT92b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10P3RoaXMueChvKFsxLDAsMCwwLDAsZSwwLDAsMCwwLDEsMCwwLDAsMCwxXSkpOm8oWzEsMCwwLDAsMCxlLDAsMCwwLDAsMSwwLDAsMCwwLDFdKTp2b2lkIDAhPT1uJiZudWxsIT09biYmbnVsbCE9PW4uZVsyXT92b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10P3RoaXMueChvKFsxLDAsMCwwLDAsMSwwLDAsMCwwLGUsMCwwLDAsMCwxXSkpOm8oWzEsMCwwLDAsMCwxLDAsMCwwLDAsZSwwLDAsMCwwLDFdKTp2b2lkIDB9fSx7a2V5Olwic2V0U2NhbGVYXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRTY2FsZShlLHQscihbMSwwLDBdKSl9fSx7a2V5Olwic2V0U2NhbGVZXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRTY2FsZShlLHQscihbMCwxLDBdKSl9fSx7a2V5Olwic2V0U2NhbGVaXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRTY2FsZShlLHQscihbMCwwLDFdKSl9fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiByKFt0aGlzLmVbM10sdGhpcy5lWzddLHRoaXMuZVsxMV1dKX19LHtrZXk6XCJzZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVbM109ZS5lWzBdLHRoaXMuZVs3XT1lLmVbMV0sdGhpcy5lWzExXT1lLmVbMl0sdGhpc319XSxbe2tleTpcIm1ha2VMb29rQXRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLHMsYSxsLHUsYyl7dmFyIGQ9cihbZSx0LG5dKSxoPXIoW2kscyxhXSksZj1yKFtsLHUsY10pLHA9ZC5zdWJ0cmFjdChoKS5ub3JtYWxpemUoKSxnPWYuY3Jvc3MocCkubm9ybWFsaXplKCksdj1wLmNyb3NzKGcpLm5vcm1hbGl6ZSgpLF89byhbZy5lWzBdLGcuZVsxXSxnLmVbMl0sMCx2LmVbMF0sdi5lWzFdLHYuZVsyXSwwLHAuZVswXSxwLmVbMV0scC5lWzJdLDAsMCwwLDAsMV0pLG09byhbMSwwLDAsLWUsMCwxLDAsLXQsMCwwLDEsLW4sMCwwLDAsMV0pO3JldHVybiBfLngobSl9fSx7a2V5Olwic2V0UGVyc3BlY3RpdmVQcm9qZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9TWF0aC50YW4oZSpNYXRoLlBJLzM2MCkqbixzPS1yLGE9dCpzLGw9dCpyO3JldHVybiBvKFsyKm4vKGwtYSksMCwobCthKS8obC1hKSwwLDAsMipuLyhyLXMpLChyK3MpLyhyLXMpLDAsMCwwLC0oaStuKS8oaS1uKSwtMippKm4vKGktbiksMCwwLC0xLDBdKX19LHtrZXk6XCJzZXRPcnRob2dyYXBoaWNQcm9qZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxyLHMpe3JldHVybiBvKFsyLyh0LWUpLDAsMCwtKHQrZSkvKHQtZSksMCwyLyhpLW4pLDAsLShpK24pLyhpLW4pLDAsMCwtMi8ocy1yKSwtKHMrcikvKHMtciksMCwwLDAsMV0pfX1dKSxlfSgpO2UuU3Rvcm1NMTY9YSx0LmV4cG9ydHMuU3Rvcm1NMTY9YSxlLiRNMTY9byx0LmV4cG9ydHMuJE0xNj1vO3ZhciBsPW4uU3Rvcm1WMz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuZT1uZXcgRmxvYXQzMkFycmF5KHQpfXJldHVybiBzKGUsW3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcihbdGhpcy5lWzBdK2UuZVswXSx0aGlzLmVbMV0rZS5lWzFdLHRoaXMuZVsyXStlLmVbMl1dKX19LHtrZXk6XCJjcm9zc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiByKFt0aGlzLmVbMV0qZS5lWzJdLXRoaXMuZVsyXSplLmVbMV0sdGhpcy5lWzJdKmUuZVswXS10aGlzLmVbMF0qZS5lWzJdLHRoaXMuZVswXSplLmVbMV0tdGhpcy5lWzFdKmUuZVswXV0pfX0se2tleTpcImRpc3RhbmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguc3FydCgodGhpcy5lWzBdLWUuZVswXSkqKHRoaXMuZVswXS1lLmVbMF0pKyh0aGlzLmVbMV0tZS5lWzFdKSoodGhpcy5lWzFdLWUuZVsxXSkrKHRoaXMuZVsyXS1lLmVbMl0pKih0aGlzLmVbMl0tZS5lWzJdKSl9fSx7a2V5OlwiZG90XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZVswXSplLmVbMF0rdGhpcy5lWzFdKmUuZVsxXSt0aGlzLmVbMl0qZS5lWzJdfX0se2tleTpcImVxdWFsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZVswXT09PWUuZVswXSYmdGhpcy5lWzFdPT09ZS5lWzFdJiZ0aGlzLmVbMl09PT1lLmVbMl19fSx7a2V5OlwibW9kdWx1c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLnN1bUNvbXBvbmVudFNxcnMoKSl9fSx7a2V5Olwic3VtQ29tcG9uZW50U3Fyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zcXJDb21wb25lbnRzKCk7cmV0dXJuIGVbMF0rZVsxXStlWzJdfX0se2tleTpcInNxckNvbXBvbmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyBGbG9hdDMyQXJyYXkoMyk7cmV0dXJuIGUuc2V0KFt0aGlzLmVbMF0qdGhpcy5lWzBdLHRoaXMuZVsxXSp0aGlzLmVbMV0sdGhpcy5lWzJdKnRoaXMuZVsyXV0pLGV9fSx7a2V5OlwieFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXQgaW5zdGFuY2VvZiBhO2lmKHQgaW5zdGFuY2VvZiBlKXJldHVybiByKFt0aGlzLmVbMF0qdC5lWzBdLHRoaXMuZVsxXSp0LmVbMV0sdGhpcy5lWzJdKnQuZVsyXV0pO2lmKG4pe3ZhciBpPW8oWzEsMCwwLHRoaXMuZVswXSwwLDEsMCx0aGlzLmVbMV0sMCwwLDEsdGhpcy5lWzJdLDAsMCwwLDFdKTtyZXR1cm4gbyhbaS5lWzBdKzArMCswLDAraS5lWzFdKzArMCwwK2kuZVsyXSswLGkuZVswXSp0LmVbMF0raS5lWzFdKnQuZVsxXStpLmVbMl0qdC5lWzJdK2kuZVszXSxpLmVbNF0rMCswKzAsMCtpLmVbNV0rMCswLDAraS5lWzZdKzAsaS5lWzRdKnQuZVswXStpLmVbNV0qdC5lWzFdK2kuZVs2XSp0LmVbMl0raS5lWzddLGkuZVs4XSswKzArMCwwK2kuZVs5XSswKzAsMCtpLmVbMTBdKzAsaS5lWzhdKnQuZVswXStpLmVbOV0qdC5lWzFdK2kuZVsxMF0qdC5lWzJdK2kuZVsxMV0saS5lWzEyXSswKzArMCwwK2kuZVsxM10rMCswLDAraS5lWzE0XSswLGkuZVsxMl0qdC5lWzBdK2kuZVsxM10qdC5lWzFdK2kuZVsxNF0qdC5lWzJdK2kuZVsxNV0qdC5lWzE1XV0pfXJldHVybiByKFt0aGlzLmVbMF0qdCx0aGlzLmVbMV0qdCx0aGlzLmVbMl0qdF0pfX0se2tleTpcInJlZmxlY3RcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1yKFt0aGlzLmVbMF0sdGhpcy5lWzFdLHRoaXMuZVsyXV0pLG49cihbZS5lWzBdLGUuZVsxXSxlLmVbMl1dKSxpPW4ueCh0LmRvdChuKSk7cmV0dXJuIGk9aS54KDIpLGk9dC5zdWJ0cmFjdChpKX19LHtrZXk6XCJzdWJ0cmFjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiByKFt0aGlzLmVbMF0tZS5lWzBdLHRoaXMuZVsxXS1lLmVbMV0sdGhpcy5lWzJdLWUuZVsyXV0pfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9MS90aGlzLm1vZHVsdXMoKTtyZXR1cm4gcihbdGhpcy5lWzBdKmUsdGhpcy5lWzFdKmUsdGhpcy5lWzJdKmVdKX19XSksZX0oKTtlLlN0b3JtVjM9bCx0LmV4cG9ydHMuU3Rvcm1WMz1sLGUuJFYzPXIsdC5leHBvcnRzLiRWMz1yfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5TeXN0ZW1FdmVudHM9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9VdGlscy5jbGFzc1wiKSxhPWUoXCIuL0NvbnN0YW50c1wiKSxsPW4uU3lzdGVtRXZlbnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe28odGhpcyxlKSx0aGlzLl9zY2U9dCx0aGlzLl9wcm9qZWN0PXRoaXMuX3NjZS5nZXRMb2FkZWRQcm9qZWN0KCksdGhpcy5fdGFyZ2V0PW4sdGhpcy5fdXRpbHM9bmV3IHMuVXRpbHMsdGhpcy5tb3VzZVBvc1hfb3JpZz0wLHRoaXMubW91c2VQb3NZX29yaWc9MCx0aGlzLm1vdXNlUG9zWD0wLHRoaXMubW91c2VQb3NZPTAsdGhpcy5tb3VzZU9sZFBvc1g9MCx0aGlzLm1vdXNlT2xkUG9zWT0wLHRoaXMuZGl2UG9zaXRpb25YPTAsdGhpcy5kaXZQb3NpdGlvblk9MCx0aGlzLmZvY3VzZWQ9ITF9cmV0dXJuIHIoZSxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLmtleWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMua2V5dXBMaXN0ZW5lci5iaW5kKHRoaXMpKSx0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix0aGlzLm1vdXNld2hlZWxMaXN0ZW5lci5iaW5kKHRoaXMpKSx0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIuYmluZCh0aGlzKSksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cExpc3RlbmVyLmJpbmQodGhpcyksITEpLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5tb3VzZXVwTGlzdGVuZXIuYmluZCh0aGlzKSwhMSksdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93bkxpc3RlbmVyLmJpbmQodGhpcyksITEpLHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMubW91c2Vkb3duTGlzdGVuZXIuYmluZCh0aGlzKS5iaW5kKHRoaXMpLCExKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZUxpc3RlbmVyLmJpbmQodGhpcyksITEpLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMubW91c2Vtb3ZlTGlzdGVuZXIuYmluZCh0aGlzKSwhMSksdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpe3RoaXMuZm9jdXNlZD0hMH0uYmluZCh0aGlzKSwhMSksdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oKXt0aGlzLmZvY3VzZWQ9ITF9LmJpbmQodGhpcyksITEpfX0se2tleTpcImdldE1vdXNlUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnt4OnRoaXMubW91c2VQb3NYLHk6dGhpcy5tb3VzZVBvc1l9fX0se2tleTpcInVwZGF0ZURpdlBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5kaXZQb3NpdGlvblg9cy5VdGlscy5nZXRFbGVtZW50UG9zaXRpb24odGhpcy5fc2NlLmdldENhbnZhcygpKS54LHRoaXMuZGl2UG9zaXRpb25ZPXMuVXRpbHMuZ2V0RWxlbWVudFBvc2l0aW9uKHRoaXMuX3NjZS5nZXRDYW52YXMoKSkueSx0aGlzLm1vdXNlUG9zWD1lLmNsaWVudFgtdGhpcy5kaXZQb3NpdGlvblgsdGhpcy5tb3VzZVBvc1k9ZS5jbGllbnRZLXRoaXMuZGl2UG9zaXRpb25ZLHRoaXMubW91c2VQb3NYX29yaWc9dGhpcy5tb3VzZVBvc1gsdGhpcy5tb3VzZVBvc1lfb3JpZz10aGlzLm1vdXNlUG9zWSx0aGlzLm1vdXNlT2xkUG9zWD10aGlzLm1vdXNlUG9zWCx0aGlzLm1vdXNlT2xkUG9zWT10aGlzLm1vdXNlUG9zWX19LHtrZXk6XCJjYWxsQ29tcG9uZW50RXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYodm9pZCAwIT09dGhpcy5fcHJvamVjdCYmbnVsbCE9PXRoaXMuX3Byb2plY3Qpe3ZhciBpPXRoaXMuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKSxvPWkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OKSxyPW51bGw7aWYodD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX0RPV04mJnRoaXMudXBkYXRlRGl2UG9zaXRpb24obiksdD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX01PVkUmJih0aGlzLm1vdXNlT2xkUG9zWD10aGlzLm1vdXNlUG9zWCx0aGlzLm1vdXNlT2xkUG9zWT10aGlzLm1vdXNlUG9zWSx0aGlzLm1vdXNlUG9zWD1uLmNsaWVudFgtdGhpcy5kaXZQb3NpdGlvblgsdGhpcy5tb3VzZVBvc1k9bi5jbGllbnRZLXRoaXMuZGl2UG9zaXRpb25ZLHI9JFYzKFt0aGlzLm1vdXNlUG9zWC10aGlzLm1vdXNlUG9zWF9vcmlnLDAsdGhpcy5tb3VzZVBvc1ktdGhpcy5tb3VzZVBvc1lfb3JpZ10pKSx0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfV0hFRUwpe3RoaXMudXBkYXRlRGl2UG9zaXRpb24obik7dmFyIHM9by5nZXRGb3YoKSxsPSh0aGlzLm1vdXNlUG9zWC10aGlzLl9zY2UuZ2V0Q2FudmFzKCkud2lkdGgvMikvdGhpcy5fc2NlLmdldENhbnZhcygpLndpZHRoKnMqLjIsdT0odGhpcy5tb3VzZVBvc1ktdGhpcy5fc2NlLmdldENhbnZhcygpLmhlaWdodC8yKS90aGlzLl9zY2UuZ2V0Q2FudmFzKCkuaGVpZ2h0KnMqLjI7KHZvaWQgMCE9PW4ud2hlZWxEZWx0YVkmJm4ud2hlZWxEZWx0YVk+PTB8fHZvaWQgMCE9PW4uZGVsdGFZJiZuLmRlbHRhWT49MCkmJihsKj0tMSx1Kj0tMSk7dmFyIGM9aS5nZXRBY3RpdmVDYW1lcmEoKS5nZXRDb21wb25lbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STV9UQVJHRVQpLmdldE1hdHJpeCgpLGQ9Yy5nZXRMZWZ0KCkueChsKSxoPWMuZ2V0VXAoKS54KHUpO3I9ZC5hZGQoaCl9Zm9yKHZhciBmPTAscD1pLmdldE5vZGVzKCkubGVuZ3RoO2Y8cDtmKyspZm9yKHZhciBnIGluIGkuZ2V0Tm9kZXMoKVtmXS5nZXRDb21wb25lbnRzKCkpe3ZhciB2PWkuZ2V0Tm9kZXMoKVtmXS5nZXRDb21wb25lbnQoZyk7di50eXBlPT09ZSYmKHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5LRVlfRE9XTiYmbnVsbCE9di5fb25rZXlkb3duJiYhMD09PXRoaXMuZm9jdXNlZCYmdi5fb25rZXlkb3duKG4pLHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5LRVlfVVAmJm51bGwhPXYuX29ua2V5dXAmJnYuX29ua2V5dXAobiksdD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX0RPV04mJm51bGwhPXYuX29ubW91c2Vkb3duJiZ2Ll9vbm1vdXNlZG93bihuKSx0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfVVAmJm51bGwhPXYuX29ubW91c2V1cCYmdi5fb25tb3VzZXVwKG4pLHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9NT1ZFJiZudWxsIT12Ll9vbm1vdXNlbW92ZSYmdi5fb25tb3VzZW1vdmUobixyKSx0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfV0hFRUwmJm51bGwhPXYuX29ubW91c2V3aGVlbCYmdi5fb25tb3VzZXdoZWVsKG4scikpfX19fSx7a2V5Olwia2V5ZG93bkxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsQ29tcG9uZW50RXZlbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLktFWUJPQVJEX0VWRU5UUyxhLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5LRVlfRE9XTixlKX19LHtrZXk6XCJrZXl1cExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsQ29tcG9uZW50RXZlbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLktFWUJPQVJEX0VWRU5UUyxhLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5LRVlfVVAsZSl9fSx7a2V5OlwibW91c2Vkb3duTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxDb21wb25lbnRFdmVudChhLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuTU9VU0VfRVZFTlRTLGEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX0RPV04sZSl9fSx7a2V5OlwibW91c2V1cExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsQ29tcG9uZW50RXZlbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLk1PVVNFX0VWRU5UUyxhLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9VUCxlKX19LHtrZXk6XCJtb3VzZW1vdmVMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbENvbXBvbmVudEV2ZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5NT1VTRV9FVkVOVFMsYS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfTU9WRSxlKX19LHtrZXk6XCJtb3VzZXdoZWVsTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5jYWxsQ29tcG9uZW50RXZlbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLk1PVVNFX0VWRU5UUyxhLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9XSEVFTCxlKX19XSksZX0oKTtpLlN5c3RlbUV2ZW50cz1sLHQuZXhwb3J0cy5TeXN0ZW1FdmVudHM9bH0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db25zdGFudHNcIjoxNixcIi4vVXRpbHMuY2xhc3NcIjozOH1dLDI3OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1uLkFjdGlvbkhlbHBlcnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuZmlyc3RDb2x1bVdpZHRoPVwiNDAlXCIsdGhpcy5zZWNvbmRDb2x1bVdpZHRoPVwiNjAlXCJ9cmV0dXJuIG8oZSxbe2tleTpcImFkZF9idG5cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9XCI8ZGl2PjxidXR0b24gaWQ9J0JVVFRPTklEX1wiK3QrXCInIHN0eWxlPSd3aWR0aDoxMDAlJz5cIit0K1wiPC9idXR0b24+PC9kaXY+XCI7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChpLGUpO3ZhciBvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlVUVE9OSURfXCIrdCk7by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlLHQpe2UodCl9LmJpbmQodGhpcyxuLG8pKX19LHtrZXk6XCJhZGRfdmFsdWVzQW5kQnRuXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvLHIpe2Zvcih2YXIgcz0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCtcIjt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6aGlkZGVuO1xcXCI+PGJ1dHRvbiBpZD0nQlVUVE9OSURfXCIrdCtcIicgc3R5bGU9J3dpZHRoOjEwMCUnPlwiK3QrJzwvYnV0dG9uPjwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCsnO1wiPicsYT0wO2E8aS5sZW5ndGg7YSsrKXMrPSc8aW5wdXQgdHlwZT1cIicrbisnXCIgaWQ9XCJJTlBVVElEXycrdCtcIl9cIitpW2FdKydcIiBzdGVwPVwiJytvW2FdLzIwKydcIiB2YWx1ZT1cIicrb1thXSsnXCIgdGl0bGU9XCInK2lbYV0rJ1wiIHN0eWxlPVwid2lkdGg6JysoMTAwL2kubGVuZ3RoLTEpKyclXCIvPic7cys9XCI8L2Rpdj48L2Rpdj5cIix0aGlzLmNvbnN0cnVjdG9yLmFwcGVuZFN0cmluZ0NoaWxkKHMsZSksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVVRUT05JRF9cIit0KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtmb3IodmFyIG49W10sbz0wO288aS5sZW5ndGg7bysrKW4ucHVzaChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI0lOUFVUSURfXCIrdCtcIl9cIitpW29dKS5pbm5lckhUTUwpO2Uobil9LmJpbmQodGhpcyxyKSl9fSx7a2V5OlwiYWRkX2NoZWNrYm94XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvKXt2YXIgcj0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCsnO3ZlcnRpY2FsLWFsaWduOnRvcDtvdmVyZmxvdzpoaWRkZW47XCI+Jyt0Kyc8L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrJztcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJJTlBVVElEXycrdCsnXCIgLz48L2Rpdj48L2Rpdj4nO3RoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQocixlKTt2YXIgcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCk7cy5jaGVja2VkPSEwPT09bnx8MT09PW4scy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlLHQsbil7ITE9PT1uLmNoZWNrZWQ/dCgpOmUoKX0uYmluZCh0aGlzLGksbyxzKSl9fSx7a2V5OlwiYWRkX3NlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyl7Zm9yKHZhciByPSc8ZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuZmlyc3RDb2x1bVdpZHRoKyc7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCsnO1wiPjxzZWxlY3QgaWQ9XCJTRUxFQ1RJRF8nK3QrJ1wiIHN0eWxlPVwid2lkdGg6MTAwJVwiPicscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT1cIlwiO2k9PT1uW3NdJiYoYT1cInNlbGVjdGVkPSdzZWxlY3RlZCdcIikscis9XCI8b3B0aW9uIHZhbHVlPSdcIituW3NdK1wiJyBcIithK1wiPlwiK25bc10rXCI8L29wdGlvbj5cIn1yKz1cIjwvc2VsZWN0PjwvZGl2PjwvZGl2PlwiLHRoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQocixlKTt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlNFTEVDVElEX1wiK3QpO2wuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZSh0Lm9wdGlvbnNbdC5zZWxlY3RlZEluZGV4XS52YWx1ZSl9LmJpbmQodGhpcyxvLGwpKX19LHtrZXk6XCJhZGRfc2xpZGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvLHIscyl7dmFyIGE9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJzt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6aGlkZGVuO1wiPicrdCsnPC9kaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5zZWNvbmRDb2x1bVdpZHRoKyc7XCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1hcIiB0eXBlPVwibnVtYmVyXCIgXFx0XFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuKydcIiBzdHlsZT1cInZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoyMCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWF9zbGlkZXJcIiB0eXBlPVwicmFuZ2VcIiBcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK24rJ1wiIHN0eWxlPVwidmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjc4JVwiPjwvZGl2PjwvZGl2Pic7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChhLGUpO3ZhciBsPWZ1bmN0aW9uKGUsbil7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJYXCIpLnZhbHVlO2UocGFyc2VGbG9hdChpKSl9LHU9ZnVuY3Rpb24oZSx0KXt0Lm5leHRTaWJsaW5nLnZhbHVlPXBhcnNlRmxvYXQodC52YWx1ZSkudG9GaXhlZCgzKSxsKGUpfSxjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWFwiKTtjLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix1LmJpbmQodGhpcyxzLGMpKTsoYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlhfc2xpZGVyXCIpKS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIixmdW5jdGlvbihlLHQpe3QucHJldmlvdXNTaWJsaW5nLnZhbHVlPXBhcnNlRmxvYXQodC52YWx1ZSkudG9GaXhlZCgzKSxsKGUpfS5iaW5kKHRoaXMscyxjKSl9fSx7a2V5OlwiYWRkXzNkc2xpZGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvLHIscyl7dmFyIGE9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJzt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6aGlkZGVuO1wiPicrdCsnPC9kaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5zZWNvbmRDb2x1bVdpZHRoKyc7XCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1hcIiB0eXBlPVwibnVtYmVyXCIgXFx0XFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuWzBdKydcIiBzdHlsZT1cImJhY2tncm91bmQ6cmVkO2NvbG9yOiNGRkY7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjIwJVwiPjxpbnB1dCBpZD1cIklOUFVUSURfJyt0KydYX3NsaWRlclwiIHR5cGU9XCJyYW5nZVwiIFxcdG1pbj1cIicraSsnXCIgbWF4PVwiJytvKydcIiBzdGVwPVwiJytyKydcIiB2YWx1ZT1cIicrblswXSsnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnJlZDtjb2xvcjojRkZGO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo3OCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWVwiIHR5cGU9XCJudW1iZXJcIiBcXHRcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK25bMV0rJ1wiIHN0eWxlPVwiYmFja2dyb3VuZDpncmVlbjtjb2xvcjojRkZGO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoyMCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWV9zbGlkZXJcIiB0eXBlPVwicmFuZ2VcIiBcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK25bMV0rJ1wiIHN0eWxlPVwiYmFja2dyb3VuZDpncmVlbjtjb2xvcjojRkZGO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo3OCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWlwiIHR5cGU9XCJudW1iZXJcIiBcXHRcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK25bMl0rJ1wiIHN0eWxlPVwiYmFja2dyb3VuZDpibHVlO2NvbG9yOiNGRkY7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjIwJVwiPjxpbnB1dCBpZD1cIklOUFVUSURfJyt0KydaX3NsaWRlclwiIHR5cGU9XCJyYW5nZVwiIFxcdG1pbj1cIicraSsnXCIgbWF4PVwiJytvKydcIiBzdGVwPVwiJytyKydcIiB2YWx1ZT1cIicrblsyXSsnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOmJsdWU7Y29sb3I6I0ZGRjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6NzglXCI+PC9kaXY+PC9kaXY+Jzt0aGlzLmNvbnN0cnVjdG9yLmFwcGVuZFN0cmluZ0NoaWxkKGEsZSk7dmFyIGw9ZnVuY3Rpb24oZSxuKXtlKFtwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWFwiKS52YWx1ZSkscGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIllcIikudmFsdWUpLHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJaXCIpLnZhbHVlKV0pfSx1PWZ1bmN0aW9uKGUsdCl7dC5uZXh0U2libGluZy52YWx1ZT1wYXJzZUZsb2F0KHQudmFsdWUpLnRvRml4ZWQoMyksbChlKX0sYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlhcIik7Yy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdS5iaW5kKHRoaXMscyxjKSksKGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJZXCIpKS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHUuYmluZCh0aGlzLHMsYykpLChjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWlwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix1LmJpbmQodGhpcyxzLGMpKTt2YXIgZD1mdW5jdGlvbihlLHQpe3QucHJldmlvdXNTaWJsaW5nLnZhbHVlPXBhcnNlRmxvYXQodC52YWx1ZSkudG9GaXhlZCgzKSxsKGUpfTsoYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlhfc2xpZGVyXCIpKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZC5iaW5kKHRoaXMscyxjKSksKGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJZX3NsaWRlclwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGQuYmluZCh0aGlzLHMsYykpLChjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWl9zbGlkZXJcIikpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixkLmJpbmQodGhpcyxzLGMpKX19LHtrZXk6XCJhZGRfY29sb3JwaWNrZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXt2YXIgbz0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCsnO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCsnO1wiPjxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cIklOUFVUSURfJyt0KydcIiB2YWx1ZT1cIicrbisnXCIgc3R5bGU9XCJ3aWR0aDoxMDAlXCI+PC9kaXY+PC9kaXY+Jzt0aGlzLmNvbnN0cnVjdG9yLmFwcGVuZFN0cmluZ0NoaWxkKG8sZSk7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QpO3IuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZSh0LnZhbHVlKX0uYmluZCh0aGlzLGkscikpfX0se2tleTpcImFkZF9pbWFnZVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCsnO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCtcIjtcXFwiPjxpbnB1dCBpZD0nSU5QVVRJRF9cIit0K1wiJyB0eXBlPSdmaWxlJyBzdHlsZT0nZGlzcGxheTpub25lJy8+PGRpdiBpZD0nRElWSURfXCIrdCtcIicgb25jbGljaz0nJCh0aGlzKS5wcmV2KCkuY2xpY2soKTsnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjt3aWR0aDoxNnB4O2hlaWdodDoxNnB4O2JvcmRlcjoxcHggc29saWQgI0ZGRic+PC9kaXY+PC9kaXY+PC9kaXY+XCI7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChpLGUpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0KS5vbmNoYW5nZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBGaWxlUmVhZGVyO2Uub25sb2FkPWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjSU5QVVRJRF9cIit0KS52YWwoKS5zcGxpdChcIi9cIik7ZT1lW2UubGVuZ3RoLTFdLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjRElWSURfXCIrdCkuYXBwZW5kQ2hpbGQoaSksZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNESVZJRF9cIit0KS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpLG4oaSl9LGkuc3JjPWUudGFyZ2V0LnJlc3VsdH0sZS5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXNbMF0pfX19LHtrZXk6XCJhZGRfZmlsZVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCsnO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCtcIjtcXFwiPjxpbnB1dCBpZD0nSU5QVVRJRF9cIit0K1wiJyB0eXBlPSdmaWxlJyBzdHlsZT0nZGlzcGxheTpub25lJy8+PGRpdiBpZD0nRElWSURfXCIrdCtcIicgb25jbGljaz0nJCh0aGlzKS5wcmV2KCkuY2xpY2soKTsnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjt3aWR0aDoxNnB4O2hlaWdodDoxNnB4O2JvcmRlcjoxcHggc29saWQgI0ZGRic+PC9kaXY+PC9kaXY+PC9kaXY+XCI7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChpLGUpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0KS5vbmNoYW5nZT1mdW5jdGlvbigpe24odGhpcy5maWxlc1swXSl9fX1dLFt7a2V5OlwiYXBwZW5kU3RyaW5nQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dm9pZCAwIT09biYmbnVsbCE9PW4/bjpcImVuZFwiLG89KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC9odG1sXCIpO1wiZW5kXCI9PT1pP3QuYXBwZW5kQ2hpbGQoby5ib2R5LmZpcnN0Q2hpbGQpOnQuaW5zZXJ0QmVmb3JlKG8uYm9keS5maXJzdENoaWxkLHQuZmlyc3RDaGlsZCl9fV0pLGV9KCk7ZS5BY3Rpb25IZWxwZXJzPXIsdC5leHBvcnRzLkFjdGlvbkhlbHBlcnM9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uRHJhZ2dhYmlsbHlTPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShlKFwiZHJhZ2dhYmlsbHlcIikpLGE9bi5EcmFnZ2FiaWxseVM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7byh0aGlzLGUpLHRoaXMuc3RyQXR0cklEPXQuaWQsdGhpcy5vblNob3c9dm9pZCAwIT09dC5vblNob3cmJm51bGwhPT10Lm9uU2hvdz90Lm9uU2hvdzpudWxsO3ZhciBpPXZvaWQgMCE9PXQuaHRtbCYmbnVsbCE9PXQuaHRtbD90Lmh0bWw6XCJcIjt0aGlzLndpbmRvd0VuYWJsZWQ9ITAsdGhpcy50YXJnZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uYXBwZW5kQ2hpbGQodGhpcy50YXJnZXQpLHRoaXMudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJTRUNtZW51XCIpLHRoaXMudGFyZ2V0LmlubmVySFRNTD0nXFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOjEycHg7IGJveC1zaGFkb3c6cmdiYSgwLCAwLCAwLCAwLjY4MzU5NCkgM3B4IDNweCA4cHggMXB4LHJnYigyNTUsIDI1NSwgMjU1KSAwIDAgNXB4IDAgaW5zZXQ7IGJvcmRlci1yYWRpdXM6NXB4O3Jlc2l6ZTpib3RoO292ZXJmbG93OmF1dG87YmFja2dyb3VuZDpyZ2JhKDUwLDUwLDUwLDAuOTUpO1wiPlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJlbERTX1BhbmVsXCIgc3R5bGU9XCJib3JkZXItdG9wLWxlZnQtcmFkaXVzOjVweDsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NXB4OyB3aWR0aDoxMDAlOyBiYWNrZ3JvdW5kOnJnYmEoMjAwLDIwMCwyMDAsMC43KTsgY3Vyc29yOm1vdmU7XFx0ZGlzcGxheTp0YWJsZTtcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmctbGVmdDo1cHg7Y29sb3I6IzAwMDtmb250LXdlaWdodDpib2xkO2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7XCI+Jyt0LnBhbmVsdGl0bGUrJzwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6MzBweDtcXHRwYWRkaW5nOjJweDsgZGlzcGxheTp0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7XCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZWxEU19UaXRsZU1pblwiIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2tcIj4mIzg4NjM7PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZWxEU19UaXRsZUNsb3NlXCIgc3R5bGU9XCJjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmlubGluZS1ibG9ja1wiPiYjODg2NDs8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBpZD1cIicrdGhpcy5zdHJBdHRySUQrJ19jb250ZW50XCIgc3R5bGU9XCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4OyBtaW4td2lkdGg6MjIwcHg7XFx0Y3Vyc29yOmRlZmF1bHQ7XFx0cGFkZGluZzo1cHg7IGNvbG9yOiNGRkY7ICBvdmVyZmxvdy15OmF1dG87XCI+XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICAnO3ZhciByPW5ldyBzLmRlZmF1bHQodGhpcy50YXJnZXQse2hhbmRsZTpcIiNlbERTX1BhbmVsXCJ9KTtpZih0aGlzLnRhcmdldC5zdHlsZS5sZWZ0PTEwMC10aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K1wicHhcIix0aGlzLnRhcmdldC5zdHlsZS50b3A9MTAwLXRoaXMudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCtcInB4XCIsbnVsbD09PWkpe3ZhciBhPXRoaXMudGFyZ2V0O2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0ckF0dHJJRCtcIl9jb250ZW50XCIpLmFwcGVuZENoaWxkKGEpfWVsc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHJBdHRySUQrXCJfY29udGVudFwiKS5pbm5lckhUTUw9aTt0aGlzLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI2VsRFNfVGl0bGVDbG9zZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtuLmhpZGUoKX0pLHRoaXMudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjZWxEU19UaXRsZU1pblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpeyEwPT09bi53aW5kb3dFbmFibGVkPyhuLndpbmRvd1NhdmVkUG9zTGVmdD1uLnRhcmdldC5zdHlsZS5sZWZ0LG4ud2luZG93U2F2ZWRQb3NUb3A9bi50YXJnZXQuc3R5bGUudG9wLG4udGFyZ2V0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLnRhcmdldC5zdHlsZS5sZWZ0PVwiNTBcIixuLnRhcmdldC5zdHlsZS50b3A9XCIwXCIsbi50YXJnZXQuc3R5bGUud2lkdGg9XCIxNTBweFwiLG4udGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrbi5zdHJBdHRySUQrXCJfY29udGVudFwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4udGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjZWxEU19UaXRsZU1pblwiKS5pbm5lckhUTUw9XCImIzg4NjI7XCIsbi53aW5kb3dFbmFibGVkPSExKToobi50YXJnZXQuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLG4udGFyZ2V0LnN0eWxlLmxlZnQ9bi53aW5kb3dTYXZlZFBvc0xlZnQsbi50YXJnZXQuc3R5bGUudG9wPW4ud2luZG93U2F2ZWRQb3NUb3Asbi50YXJnZXQuc3R5bGUud2lkdGg9XCI5NTBweFwiLG4udGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrbi5zdHJBdHRySUQrXCJfY29udGVudFwiKS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixuLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI2VsRFNfVGl0bGVNaW5cIikuaW5uZXJIVE1MPVwiJiM4ODYzO1wiLG4ud2luZG93RW5hYmxlZD0hMCl9KSxyLm9uKFwicG9pbnRlclVwXCIsZnVuY3Rpb24oZSx0KXtuLnRhcmdldC5jbGljaygpLG4udXBaaW5kZXgoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX0pLHRoaXMuaGlkZSgpfXJldHVybiByKGUsW3trZXk6XCJhcHBlbmRTdHJpbmdDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT12b2lkIDAhPT1uP246XCJlbmRcIixvPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQvaHRtbFwiKTtcImVuZFwiPT09aT90aGlzLnRhcmdldC5hcHBlbmRDaGlsZChvLmJvZHkuZmlyc3RDaGlsZCk6dGhpcy50YXJnZXQuaW5zZXJ0QmVmb3JlKG8uYm9keS5maXJzdENoaWxkLHRoaXMudGFyZ2V0LmZpcnN0Q2hpbGQpfX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudGFyZ2V0LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMudXBaaW5kZXgoKX19LHtrZXk6XCJoaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifX0se2tleTpcInVwWmluZGV4XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlNFQ21lbnVcIiksdD0hMCxuPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8scj1lLnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KG89ci5uZXh0KCkpLmRvbmUpO3Q9ITApby52YWx1ZS5zdHlsZS56SW5kZXg9XCIwXCJ9Y2F0Y2goZSl7bj0hMCxpPWV9ZmluYWxseXt0cnl7IXQmJnIucmV0dXJuJiZyLnJldHVybigpfWZpbmFsbHl7aWYobil0aHJvdyBpfX10aGlzLnRhcmdldC5zdHlsZS56SW5kZXg9XCI5OVwifX1dKSxlfSgpO2kuRHJhZ2dhYmlsbHlTPWEsdC5leHBvcnRzLkRyYWdnYWJpbGx5Uz1hfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7ZHJhZ2dhYmlsbHk6MX1dLDI5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uUGFuZWxOb2RlPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4uL0NvbnN0YW50c1wiKSxhPWUoXCIuL1VJQ29tcG9uZW50R1BVLmNsYXNzXCIpLGw9ZShcIi4vRHJhZ2dhYmlsbHlTLmNsYXNzXCIpLHU9bi5QYW5lbE5vZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7byh0aGlzLGUpLHRoaXMucGFuZWw9bmV3IGwuRHJhZ2dhYmlsbHlTKHtpZDpcIlBhbmVsRWRpdE5vZGVcIixwYW5lbHRpdGxlOlwiTk9ERVwiLGh0bWw6JzxzcGFuIHN0eWxlPVwiZm9udC13ZWlnaHQ6Ym9sZFwiIGlkPVwiRElWSURfU3Rvcm1FZGl0Tm9kZV9uYW1lXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJESVZJRF9TdG9ybUVkaXROb2RlX2VkaXRzXCI+PC9kaXY+J30pLHRoaXMucGFuZWwudGFyZ2V0LnN0eWxlLndpZHRoPVwiODAwcHhcIix0aGlzLmVsQ29udGVudE5hbWU9dGhpcy5wYW5lbC50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNESVZJRF9TdG9ybUVkaXROb2RlX25hbWVcIiksdGhpcy5lbENvbnRlbnQ9dGhpcy5wYW5lbC50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNESVZJRF9TdG9ybUVkaXROb2RlX2VkaXRzXCIpfXJldHVybiByKGUsW3trZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wYW5lbC5zaG93KCksdGhpcy51cGRhdGVOZWFyTm9kZShlKX19LHtrZXk6XCJ1cGRhdGVOZWFyTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWV8fG51bGw9PT1lKXRoaXMuZWxDb250ZW50TmFtZS5pbm5lckhUTUw9XCJcIix0aGlzLmVsQ29udGVudC5pbm5lckhUTUw9XCJcIjtlbHNle1wiXCIhPT1lLmdldE5hbWUoKSYmKHRoaXMuZWxDb250ZW50TmFtZS5pbm5lckhUTUw9ZS5nZXROYW1lKCkpLHRoaXMuZWxDb250ZW50LmlubmVySFRNTD1cIlwiO2Zvcih2YXIgdCBpbiBzLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMpZm9yKHZhciBuIGluIGUuZ2V0Q29tcG9uZW50cygpKWlmKG49PT1zLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVNbdF0udG9TdHJpbmcoKSl7dmFyIGk9XCI8ZGl2IGlkPSdESVZJRF9jb21wb25lbnRfXCIrdCtcIicgY2xhc3M9J2NvbXBvbmVudCBTdG9ybVNoYWRvdzAyIFN0b3JtUm91bmQnPlwiK3QrXCI8L2Rpdj5cIjt0aGlzLmVsQ29udGVudC5pbm5lckhUTUwrPWksbj09PXMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUudG9TdHJpbmcoKT9uZXcgYS5VSUNvbXBvbmVudEdQVSh0LGUpOnMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OLnRvU3RyaW5nKCl9fX19XSksZX0oKTtpLlBhbmVsTm9kZT11LHQuZXhwb3J0cy5QYW5lbE5vZGU9dX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vQ29uc3RhbnRzXCI6MTYsXCIuL0RyYWdnYWJpbGx5Uy5jbGFzc1wiOjI4LFwiLi9VSUNvbXBvbmVudEdQVS5jbGFzc1wiOjMzfV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5QYW5lbE51bWJlckdlbmVyYXRvcj12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIiksYT0oZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlfShlKFwiZHJhZ2dhYmlsbHlcIikpLGUoXCIuL0RyYWdnYWJpbGx5Uy5jbGFzc1wiKSksbD1uLlBhbmVsTnVtYmVyR2VuZXJhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLmFoPW5ldyBzLkFjdGlvbkhlbHBlcnMsdGhpcy5wYW5lbD1uZXcgYS5EcmFnZ2FiaWxseVMoe2lkOlwiRElWSURfUGFuZWxOdW1iZXJHZW5lcmF0b3JcIixwYW5lbHRpdGxlOlwiTlVNQkVSIEdFTkVSQVRPUlwifSksdGhpcy5wYW5lbC50YXJnZXQuc3R5bGUud2lkdGg9XCI1MDBweFwifXJldHVybiByKGUsW3trZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhbmVsLnNob3coKSx0aGlzLnNob3dMaXN0T2JqZWN0cygpfX0se2tleTpcInNob3dMaXN0T2JqZWN0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9QYW5lbE51bWJlckdlbmVyYXRvcl9jb250ZW50XCIpO2UuaW5uZXJIVE1MPVwiXCIsdGhpcy5haC5hZGRfaW1hZ2VTZWxlY3Rpb24oZSxcIkxPQURfSU1HXCIsZnVuY3Rpb24odCl7ZS5hcHBlbmRDaGlsZCh0KSxlLmlubmVySFRNTCs9dC53aWR0aCtcInhcIit0LmhlaWdodCtcIj1cIit0LndpZHRoKnQuaGVpZ2h0LHQuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsITApLHQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGUpe2UuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQ9XCJtb3ZlXCIsZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIix0LnNyYyl9LCExKX0pO3ZhciB0PWZ1bmN0aW9uKHQsbil7Zm9yKHZhciBpPVtdLG89W10scj10WzBdLHM9MTtzPHRbMV07cysrKXIqPXRbMF07Zm9yKHZhciBhPXRbMl0sbD0wO2w8cip0WzJdO2wrKyl7aWYoYT09PXRbMl0pe2E9MCxvPVtdO2Zvcih2YXIgdT0wO3U8bjt1Kyspby5wdXNoKDEtMipNYXRoLnJhbmRvbSgpKX1mb3IodmFyIGM9MDtjPG47YysrKWkucHVzaChvW2NdKTthKyt9dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtkLmlubmVySFRNTD1cImFyclwiLGQuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsITApLGUuYXBwZW5kQ2hpbGQoZCksZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZSx0KXtjb25zb2xlLmxvZyhlKSx0LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPVwibW92ZVwiLHQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsZSl9LmJpbmQodGhpcyxpKSwhMSl9LmJpbmQodGhpcyk7dGhpcy5haC5hZGRfdmFsdWVzQW5kQnRuKGUsXCJDUkVBVEVfUkFORE9NX0ZMT0FUXCIsXCJudW1iZXJcIixbXCJsZW5ndGhcIixcImRpbWVuc2lvbnNcIixcInJlcGVhdF9GTE9BVFwiXSxbMTI4LDIsMTRdLGZ1bmN0aW9uKGUpe3QoZSwxKX0uYmluZCh0aGlzKSksdGhpcy5haC5hZGRfdmFsdWVzQW5kQnRuKGUsXCJDUkVBVEVfUkFORE9NX0ZMT0FUNFwiLFwibnVtYmVyXCIsW1wibGVuZ3RoXCIsXCJkaW1lbnNpb25zXCIsXCJyZXBlYXRfRkxPQVQ0XCJdLFsxMjgsMiwxNF0sZnVuY3Rpb24oZSl7dChlLDQpfS5iaW5kKHRoaXMpKX19XSksZX0oKTtpLlBhbmVsTnVtYmVyR2VuZXJhdG9yPWwsdC5leHBvcnRzLlBhbmVsTnVtYmVyR2VuZXJhdG9yPWx9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQWN0aW9uSGVscGVycy5jbGFzc1wiOjI3LFwiLi9EcmFnZ2FiaWxseVMuY2xhc3NcIjoyOCxkcmFnZ2FiaWxseToxfV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5QYW5lbFN0YWdlPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vRHJhZ2dhYmlsbHlTLmNsYXNzXCIpLGE9bi5QYW5lbFN0YWdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLnBhbmVsPW5ldyBzLkRyYWdnYWJpbGx5Uyh7aWQ6XCJESVZJRF9QYW5lbFN0YWdlXCIscGFuZWx0aXRsZTpcIlNUQUdFXCJ9KSx0aGlzLnBhbmVsLnRhcmdldC5zdHlsZS53aWR0aD1cIjI1MHB4XCIsdGhpcy5lbENvbnRlbnQ9dGhpcy5wYW5lbC50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNESVZJRF9QYW5lbFN0YWdlX2NvbnRlbnRcIil9cmV0dXJuIHIoZSxbe2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5wYW5lbC5zaG93KCksdGhpcy5zaG93TGlzdE9iamVjdHMoZSx0LG4pfX0se2tleTpcInNob3dMaXN0T2JqZWN0c1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzOyFmdW5jdGlvbiBlKHQsbixvKXtpLmVsQ29udGVudC5pbm5lckhUTUw9XCJcIjtmb3IodmFyIHI9XCJcIixzPTAsYT10Lmxlbmd0aDtzPGE7cysrKXI9XCI8ZGl2IGlkPSdURElEX1N0b3JtT2JqZWN0TnVtX25vZGVzXCIrcytcIicgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6XCIrKHZvaWQgMCE9PW4mJm49PT10W3NdP1wiIzQ0NFwiOlwiIzAwMFwiKStcIjtjb2xvcjpcIisoITA9PT10W3NdLmlzRW5hYmxlZCgpP1wiI0ZGRlwiOlwiIzk5OVwiKStcIjsnPlwiK3Rbc10uZ2V0TmFtZSgpK1wiPC9kaXY+XCIsaS5lbENvbnRlbnQuaW5uZXJIVE1MKz1yO2Zvcih2YXIgbD0wLHU9dC5sZW5ndGg7bDx1O2wrKykhZnVuY3Rpb24obixpKXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlRESURfU3Rvcm1PYmplY3ROdW1fbm9kZXNcIituKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGkpe3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiIzQ0NFwiLG8odFtuXSksZSh0LHRbbl0sbyl9KX0obCl9KGUsdCxuKSx0aGlzLmVsQ29udGVudERpdj10aGlzLnBhbmVsLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI0RJVklEX1BhbmVsU3RhZ2VfY29udGVudCBkaXZcIiksdGhpcy5lbENvbnRlbnREaXYuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiLHRoaXMuZWxDb250ZW50RGl2LnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCAjNDQ0XCIsdGhpcy5lbENvbnRlbnREaXYuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7aS5lbENvbnRlbnREaXYuc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkICNDQ0NcIn0pLHRoaXMuZWxDb250ZW50RGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7aS5lbENvbnRlbnREaXYuc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkICM0NDRcIn0pfX1dKSxlfSgpO2kuUGFuZWxTdGFnZT1hLHQuZXhwb3J0cy5QYW5lbFN0YWdlPWF9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vRHJhZ2dhYmlsbHlTLmNsYXNzXCI6Mjh9XSwzMjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlVJPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vUGFuZWxTdGFnZS5jbGFzc1wiKSxhPWUoXCIuL1BhbmVsTm9kZS5jbGFzc1wiKSxsPWUoXCIuL1BhbmVsTnVtYmVyR2VuZXJhdG9yLmNsYXNzXCIpLHU9ZShcIi4vQWN0aW9uSGVscGVycy5jbGFzc1wiKSxjPW4uVUk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe28odGhpcyxlKSx0aGlzLl9wcm9qZWN0PXQsdGhpcy5wYW5lbF9TdGFnZT1udWxsLHRoaXMucGFuZWxfTm9kZT1udWxsLHRoaXMucGFuZWxfTnVtYmVyR2VuZXJhdG9yPW51bGx9cmV0dXJuIHIoZSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPSc8ZGl2IHN0eWxlPVwiZm9udC1zaXplOjEwcHg7XCI+XFxuICAgICAgICAgICAgPGRpdiBpZD1cIlRPUE1FTlVfJytlLmlkKydfdmlld19QYW5lbFN0YWdlXCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjtcIj5TdGFnZSAtIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJUT1BNRU5VXycrZS5pZCsnX3ZpZXdfUGFuZWxOb2RlXCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjtcIj5Ob2RlIC0gPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBpZD1cIlRPUE1FTlVfJytlLmlkKydfdmlld19QYW5lbE51bWJlckdlbmVyYXRvclwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXI7XCI+TnVtYmVyIEdlbmVyYXRvcjwvZGl2PlxcblxcdFxcdDwvZGl2Pic7dS5BY3Rpb25IZWxwZXJzLmFwcGVuZFN0cmluZ0NoaWxkKGksZSxcImluaXRcIiksdGhpcy5wYW5lbF9TdGFnZT1uZXcgcy5QYW5lbFN0YWdlLHRoaXMucGFuZWxfTm9kZT1uZXcgYS5QYW5lbE5vZGUsdGhpcy5wYW5lbF9OdW1iZXJHZW5lcmF0b3I9bmV3IGwuUGFuZWxOdW1iZXJHZW5lcmF0b3IsZS5xdWVyeVNlbGVjdG9yKFwiI1RPUE1FTlVfXCIrZS5pZCtcIl92aWV3X1BhbmVsU3RhZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksbi5wYW5lbF9TdGFnZS5zaG93KG4uX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXROb2RlcygpLG4uX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRTZWxlY3RlZE5vZGUoKSxmdW5jdGlvbihlKXtuLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuc2V0U2VsZWN0ZWROb2RlKGUpLG4ucGFuZWxfTm9kZS5zaG93KG4uX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRTZWxlY3RlZE5vZGUoKSl9KX0pLGUucXVlcnlTZWxlY3RvcihcIiNUT1BNRU5VX1wiK2UuaWQrXCJfdmlld19QYW5lbE5vZGVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksbi5wYW5lbF9Ob2RlLnNob3cobi5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldFNlbGVjdGVkTm9kZSgpKX0pLGUucXVlcnlTZWxlY3RvcihcIiNUT1BNRU5VX1wiK2UuaWQrXCJfdmlld19QYW5lbE51bWJlckdlbmVyYXRvclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxuLnBhbmVsX051bWJlckdlbmVyYXRvci5zaG93KCl9KX19XSksZX0oKTtpLlVJPWMsdC5leHBvcnRzLlVJPWN9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQWN0aW9uSGVscGVycy5jbGFzc1wiOjI3LFwiLi9QYW5lbE5vZGUuY2xhc3NcIjoyOSxcIi4vUGFuZWxOdW1iZXJHZW5lcmF0b3IuY2xhc3NcIjozMCxcIi4vUGFuZWxTdGFnZS5jbGFzc1wiOjMxfV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5VSUNvbXBvbmVudEdQVT12b2lkIDA7dmFyIHI9ZShcIi4vVUlDb21wb25lbnRHUFVfSW5kaWNlcy5jbGFzc1wiKSxzPWUoXCIuL1VJQ29tcG9uZW50R1BVX0FyZ3VtZW50LmNsYXNzXCIpLGE9ZShcIi4vVUlDb21wb25lbnRHUFVfS2VybmVsLmNsYXNzXCIpLGw9ZShcIi4vVUlDb21wb25lbnRHUFVfVmZwLmNsYXNzXCIpLHU9ZShcIi4uL0NvbnN0YW50c1wiKSxjPWUoXCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIiksZD1uLlVJQ29tcG9uZW50R1BVPWZ1bmN0aW9uIGUodCxuKXtvKHRoaXMsZSksdGhpcy5jb21wPW4uZ2V0Q29tcG9uZW50KHUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUpO3ZhciBpPXRoaXMuY29tcC5nZXRBbGxBcmdzKCksZD1cIjxkaXYgaWQ9J0RJVklEX1wiK3QrXCInIGNsYXNzPSdjb21wb25lbnRfc2VjdGlvbic+PGRpdiBpZD0nRElWSURfXCIrdCtcIl9hcmdzJyBzdHlsZT0nd2lkdGg6MzAwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Jz48L2Rpdj48ZGl2IGlkPSdESVZJRF9cIit0K1wiX2tlcm5lbHN2ZnBzJyBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wOyc+PC9kaXY+PC9kaXY+XCI7Yy5BY3Rpb25IZWxwZXJzLmFwcGVuZFN0cmluZ0NoaWxkKGQsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9jb21wb25lbnRfXCIrdCkpLG5ldyByLlVJQ29tcG9uZW50R1BVX0luZGljZXMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9cIit0KSxuLHRoaXMuY29tcCxpKSxuZXcgcy5VSUNvbXBvbmVudEdQVV9Bcmd1bWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkRJVklEX1wiK3QrXCJfYXJnc1wiKSxuLHRoaXMuY29tcCxpKSxuZXcgYS5VSUNvbXBvbmVudEdQVV9LZXJuZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9cIit0K1wiX2tlcm5lbHN2ZnBzXCIpLG4sdGhpcy5jb21wLGkpLG5ldyBsLlVJQ29tcG9uZW50R1BVX1ZmcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkRJVklEX1wiK3QrXCJfa2VybmVsc3ZmcHNcIiksbix0aGlzLmNvbXAsaSl9O2kuVUlDb21wb25lbnRHUFU9ZCx0LmV4cG9ydHMuVUlDb21wb25lbnRHUFU9ZH0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vQ29uc3RhbnRzXCI6MTYsXCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIjoyNyxcIi4vVUlDb21wb25lbnRHUFVfQXJndW1lbnQuY2xhc3NcIjozNCxcIi4vVUlDb21wb25lbnRHUFVfSW5kaWNlcy5jbGFzc1wiOjM1LFwiLi9VSUNvbXBvbmVudEdQVV9LZXJuZWwuY2xhc3NcIjozNixcIi4vVUlDb21wb25lbnRHUFVfVmZwLmNsYXNzXCI6Mzd9XSwzNDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uLlVJQ29tcG9uZW50R1BVX0FyZ3VtZW50PWZ1bmN0aW9uIGUodCxuLG8scil7dmFyIHM9dGhpcztpKHRoaXMsZSk7dmFyIGE9XCI8ZGl2IGlkPSdcIit0LmlkK1wiX2FyZ3MnIHN0eWxlPSd3aWR0aDppbmhlcml0O2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7Zm9udC1zaXplOjlweDsnPjxkaXYgc3R5bGU9J2hlaWdodDoyNTFweDsnPjxkaXY+QVJHVU1FTlRTPC9kaXY+PC9kaXY+XCIsbD0hMTtmb3IodmFyIHUgaW4gcil7dmFyIGM9clt1XTthKz1cIjxkaXYgaWQ9J0RJVklEX1wiK3UrXCJfYXJncycgdGl0bGU9J1wiK2MrXCInIHN0eWxlPSdoZWlnaHQ6MTNweDtiYWNrZ3JvdW5kLWNvbG9yOlwiKyghMD09PWw/XCJyZ2JhKDAsMCwwLDAuMClcIjpcInJnYmEoMCwwLDAsMC4wNylcIikrXCInPlwiK3UrXCIgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nQ0hFQ0tCT1hfVVBEQVRFX1wiK3UrXCInIHRpdGxlPSd1cGRhdGUgb24gdGljaycgc3R5bGU9J3dpZHRoOjhweDtoZWlnaHQ6OHB4O21hcmdpbjowO3ZlcnRpY2FsLWFsaWduOm1pZGRsZScgLz5cIix2b2lkIDAhPT1jJiZudWxsIT09YyYmKGMgaW5zdGFuY2VvZiBXZWJDTEdMQnVmZmVyP2ErPVwiIDxzcGFuIHN0eWxlPSdjb2xvcjpyZ2IoMTUwLCAyNTUsIDE1MCknPiB7V2ViQ0xHTEJ1ZmZlciBcIitjLmxlbmd0aCtcIn08L3NwYW4+XCI6YyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8YyBpbnN0YW5jZW9mIEFycmF5P2ErPVwiIDxzcGFuIHN0eWxlPSdjb2xvcjpyZ2IoMTUwLCAyNTUsIDE1MCknPiB7XCIrYy5jb25zdHJ1Y3Rvci5uYW1lK1wiIFwiK2MubGVuZ3RoK1wifTwvc3Bhbj5cIjphKz1cIiA8c3BhbiBzdHlsZT0nY29sb3I6cmdiKDE1MCwgMjU1LCAxNTApJz4gezxzcGFuPlwiK2MuY29uc3RydWN0b3IubmFtZStcIiBcIitjK1wifTwvc3Bhbj5cIiksYSs9XCI8L2Rpdj5cIixsPSFsfWErPVwiPC9kaXY+XCIsQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZChhLHQpO2Zvcih2YXIgZCBpbiByKXtyW2RdO3ZvaWQgMCE9PW8uZ2V0QXJncygpW2RdJiZudWxsIT1vLmdldEFyZ3MoKVtkXS51cGRhdGFibGUmJmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDSEVDS0JPWF9VUERBVEVfXCIrZCk7ZS5jaGVja2VkPSEwPT09by5nZXRBcmdzKClbZF0udXBkYXRhYmxlLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCxuKXshMT09PWUuY2hlY2tlZD90LnNldEFyZ1VwZGF0YWJsZShuLCExKTp0LnNldEFyZ1VwZGF0YWJsZShuLCEwKX0uYmluZChzLG8sZCkpfSgpO3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRElWSURfXCIrZCtcIl9hcmdzXCIpO2guYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsZnVuY3Rpb24oZSx0KXt0LnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCksdC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm1vdmVcIixlLnN0eWxlLmJhY2tncm91bmQ9XCJyZ2JhKDE1MCwgMjU1LCAxNTAsIDAuMylcIn0uYmluZCh0aGlzLGgpLCExKSxoLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIixmdW5jdGlvbihlLHQpe2Uuc3R5bGUuYmFja2dyb3VuZD1cInRyYW5zcGFyZW50XCJ9LmJpbmQodGhpcyxoKSwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLGZ1bmN0aW9uKGUsdCxuLGkpe2kuc3RvcFByb3BhZ2F0aW9uJiYoaS5zdG9wUHJvcGFnYXRpb24oKSxpLnByZXZlbnREZWZhdWx0KCkpLGUuc3R5bGUuYmFja2dyb3VuZD1cInRyYW5zcGFyZW50XCI7dmFyIG89aS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7aWYoXCJpbWFnZVwiPT09KG8ubWF0Y2goLywvaSk/XCJhcnJheVwiOlwiaW1hZ2VcIikpe3ZhciByPW5ldyBJbWFnZTtyLm9ubG9hZD1mdW5jdGlvbihlLHQsbil7ZS5zZXRBcmcodCxmdW5jdGlvbigpe3JldHVybiBufS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzLHQsbixyKSxyLnNyYz1vfWVsc2UgdC5zZXRBcmcobixmdW5jdGlvbigpe3JldHVybiBvLnNwbGl0KFwiLFwiKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyxoLG8sZCksITEpfX07ZS5VSUNvbXBvbmVudEdQVV9Bcmd1bWVudD1vLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9Bcmd1bWVudD1vfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bi5VSUNvbXBvbmVudEdQVV9JbmRpY2VzPWZ1bmN0aW9uIGUodCxuLG8scil7aSh0aGlzLGUpO3ZhciBzPVwiPGRpdiBpZD0nXCIrdC5pZCtcIl9pbmRpY2VzJyBzdHlsZT0nYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNSk7cGFkZGluZy1sZWZ0OjNweCc+PGRpdj5pbmRpY2VzPC9kaXY+XCIsYT1vLmdldEJ1ZmZlcnMoKS5pbmRpY2VzO3ZvaWQgMCE9PWEmJmEgaW5zdGFuY2VvZiBXZWJDTEdMQnVmZmVyJiYocys9XCIgPHNwYW4gc3R5bGU9J2NvbG9yOmdyZXknPiB7V2ViQ0xHTEJ1ZmZlciBcIisoXCI8c3BhbiB0aXRsZT0nXCIrYS5pbkRhdGErXCInPlwiK2EubGVuZ3RoK1wiPC9zcGFuPlwiKStcIn08L3NwYW4+XCIpLHMrPVwiPC9kaXY+XCIsQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZChzLHQpfTtlLlVJQ29tcG9uZW50R1BVX0luZGljZXM9byx0LmV4cG9ydHMuVUlDb21wb25lbnRHUFVfSW5kaWNlcz1vfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5VSUNvbXBvbmVudEdQVV9LZXJuZWw9dm9pZCAwO3ZhciByPWUoXCIuLi9Db25zdGFudHNcIikscz1uLlVJQ29tcG9uZW50R1BVX0tlcm5lbD1mdW5jdGlvbiBlKHQsbixpLHMpe28odGhpcyxlKTtmb3IodmFyIGEgaW4gaS5ncHVmRy5nZXRBbGxLZXJuZWxzKCkpe3ZhciBsPWkuZ3B1ZkcuZ2V0QWxsS2VybmVscygpW2FdLHU9bC5uYW1lLGM9XCI8ZGl2IGlkPSdcIit0LmlkK1wiX1wiK3UrXCJfa2VybmVscycgc3R5bGU9J2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7bWluLXdpZHRoOjEwMHB4O21heC13aWR0aDoxMDBweDtib3JkZXI6MXB4IHNvbGlkICMzMzM7Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MjUwcHg7b3ZlcmZsb3cteDpoaWRkZW47Jz48ZGl2PjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9cIit1K1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7Jy8+IFwiK2wubmFtZStcIjwvZGl2PjxkaXY+W1wiKyhudWxsIT1sLm91dHB1dFswXT9sLm91dHB1dDpcIlNDUkVFTlwiKStcIl08L2Rpdj48ZGl2PkRFUFRIIFRFU1Q6IDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9ERVBUSFRFU1RfXCIrdStcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4Oyc+PC9kaXY+PGRpdj5CTEVORDogPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nRU5BQkxFX0JMRU5EX1wiK3UrXCInIHN0eWxlPSdmb250LXNpemU6MTBweDsnPjwvZGl2PjxkaXY+QkxFTlQgRVFVQVRJT046IDxzZWxlY3QgaWQ9J0JMRU5EX0VRVUFUSU9OX1wiK3UrXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgZCBpbiByLkNvbnN0YW50cy5CTEVORElOR19FUVVBVElPTl9UWVBFUyljKz1cIjxvcHRpb24gdmFsdWU9J1wiK2QrXCInPlwiK2QrXCI8L29wdGlvbj5cIjtjKz1cIjwvc2VsZWN0PjwvZGl2PjxkaXY+QkxFTkQgU1JDIChGb3JlZ3JvdW5kKTogPHNlbGVjdCBpZD0nQkxFTkRfc291cmNlX1wiK3UrXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgaCBpbiByLkNvbnN0YW50cy5CTEVORElOR19NT0RFUyljKz1cIjxvcHRpb24gdmFsdWU9J1wiK2grXCInPlwiK2grXCI8L29wdGlvbj5cIjtjKz1cIjwvc2VsZWN0PjwvZGl2PjxkaXY+QkxFTkQgRFNUIChCYWNrZ3JvdW5kKTogPHNlbGVjdCBpZD0nQkxFTkRfZGVzdGluYXRpb25fXCIrdStcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4O21heC13aWR0aDo3MHB4Oyc+XCI7Zm9yKHZhciBmIGluIHIuQ29uc3RhbnRzLkJMRU5ESU5HX01PREVTKWMrPVwiPG9wdGlvbiB2YWx1ZT0nXCIrZitcIic+XCIrZitcIjwvb3B0aW9uPlwiO2MrPVwiPC9zZWxlY3Q+PC9kaXY+XCIsYys9XCI8L2Rpdj5cIjt2YXIgcD0hMTtmb3IodmFyIGcgaW4gcyl7dmFyIHY9c1tnXSxfPSExO2Zvcih2YXIgbSBpbiBsLmluX3ZhbHVlcylpZihnPT09bSl7Xz0hMCxjKz1cIjxkaXYgc3R5bGU9J2hlaWdodDoxM3B4O2JhY2tncm91bmQ6cmdiYSgxNTAsMTUwLDI1NSxcIisoITA9PT1wPzE6LjkpK1wiKTtjb2xvcjpyZ2JhKDAsMCwwLDApOyc+PHNwYW4gc3R5bGU9J2JvcmRlci1yaWdodDoxcHggc29saWQgZ3JleTtiYWNrZ3JvdW5kLWNvbG9yOlwiKyh2b2lkIDAhPT12P1wid2hpdGVcIjpcImJsYWNrXCIpK1wiOyc+Xzwvc3Bhbj4tXCI7YnJlYWt9ITE9PT1fJiYoYys9XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTNweDtjb2xvcjpyZ2JhKDAsMCwwLDApO2JhY2tncm91bmQtY29sb3I6XCIrKCEwPT09cD9cInJnYmEoMCwwLDAsMC4wKVwiOlwicmdiYSgwLDAsMCwwLjA3KVwiKStcIic+LVwiKTtmb3IodmFyIHk9XCJcIixiPTA7YjxsLm91dHB1dC5sZW5ndGg7YisrKWlmKGc9PT1sLm91dHB1dFtiXSl7eT1cIjxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbG9yOmJsYWNrOyc+VVBEQVRFPC9kaXY+XCI7YnJlYWt9Yys9eStcIjwvZGl2PlwiLHA9IXB9Yys9XCI8L2Rpdj5cIixBY3Rpb25IZWxwZXJzLmFwcGVuZFN0cmluZ0NoaWxkKGMsdCk7dmFyIEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFTkFCTEVfXCIrdSk7RS5jaGVja2VkPSEwPT09bC5lbmFibGVkLEUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0KXtlLmVuYWJsZWQ9ITA9PT10LmNoZWNrZWR9LmJpbmQodGhpcyxsLEUpKSwoRT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVOQUJMRV9ERVBUSFRFU1RfXCIrdSkpLmNoZWNrZWQ9ITA9PT1sLmRlcHRoVGVzdCxFLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUsdCl7ZS5kZXB0aFRlc3Q9ITA9PT10LmNoZWNrZWR9LmJpbmQodGhpcyxsLEUpKSwoRT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVOQUJMRV9CTEVORF9cIit1KSkuY2hlY2tlZD0hMD09PWwuYmxlbmQsRS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlLHQpe2UuYmxlbmQ9ITA9PT10LmNoZWNrZWR9LmJpbmQodGhpcyxsLEUpKSxFPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQkxFTkRfRVFVQVRJT05fXCIrdSk7Zm9yKHZhciBDPTA7QzxFLm9wdGlvbnMubGVuZ3RoO0MrKylpZihFLm9wdGlvbnNbQ10udmFsdWU9PT1sLmJsZW5kRXF1YXRpb24pe0Uuc2VsZWN0ZWRJbmRleD1DO2JyZWFrfUUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZEVxdWF0aW9uPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXhdLnZhbHVlfS5iaW5kKHRoaXMsbCxFKSksRT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJMRU5EX3NvdXJjZV9cIit1KTtmb3IodmFyIFQ9MDtUPEUub3B0aW9ucy5sZW5ndGg7VCsrKWlmKEUub3B0aW9uc1tUXS52YWx1ZT09PWwuYmxlbmRTcmNNb2RlKXtFLnNlbGVjdGVkSW5kZXg9VDticmVha31FLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UuYmxlbmRTcmNNb2RlPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXhdLnZhbHVlfS5iaW5kKHRoaXMsbCxFKSksRT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJMRU5EX2Rlc3RpbmF0aW9uX1wiK3UpO2Zvcih2YXIgeD0wO3g8RS5vcHRpb25zLmxlbmd0aDt4KyspaWYoRS5vcHRpb25zW3hdLnZhbHVlPT09bC5ibGVuZERzdE1vZGUpe0Uuc2VsZWN0ZWRJbmRleD14O2JyZWFrfUUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZERzdE1vZGU9dC5vcHRpb25zW3Quc2VsZWN0ZWRJbmRleF0udmFsdWV9LmJpbmQodGhpcyxsLEUpKX19O2kuVUlDb21wb25lbnRHUFVfS2VybmVsPXMsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX0tlcm5lbD1zfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi9Db25zdGFudHNcIjoxNn1dLDM3OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uVUlDb21wb25lbnRHUFVfVmZwPXZvaWQgMDt2YXIgcj1lKFwiLi4vQ29uc3RhbnRzXCIpLHM9bi5VSUNvbXBvbmVudEdQVV9WZnA9ZnVuY3Rpb24gZSh0LG4saSxzKXt2YXIgYT10aGlzO28odGhpcyxlKTt2YXIgbD1udWxsO2Zvcih2YXIgdSBpbiBpLmdwdWZHLmdldEFsbFZlcnRleEZyYWdtZW50UHJvZ3JhbSgpKSFmdW5jdGlvbihlKXt2YXIgbj1pLmdwdWZHLmdldEFsbFZlcnRleEZyYWdtZW50UHJvZ3JhbSgpW2VdLG89bi5uYW1lLHU9XCI8ZGl2IGlkPSdcIit0LmlkK1wiX1wiK28rXCJfdnBzJyBzdHlsZT0nZGlzcGxheTp0YWJsZS1jZWxsO3ZlcnRpY2FsLWFsaWduOnRvcDttaW4td2lkdGg6MTAwcHg7bWF4LXdpZHRoOjEwMHB4O2JvcmRlcjoxcHggc29saWQgIzMzMzsnPjxkaXYgc3R5bGU9J2hlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjsnPjxkaXY+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nRU5BQkxFX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDsnLz4gXCIrbi5uYW1lK1wiPC9kaXY+PGRpdj5bXCIrKG51bGwhPW4ub3V0cHV0WzBdP24ub3V0cHV0OlwiU0NSRUVOXCIpK1wiXTwvZGl2PjxkaXY+ZHJhd01vZGU6IDxzZWxlY3QgaWQ9J0RSQVdfXCIrbytcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4O21heC13aWR0aDo3MHB4Oyc+XCI7Zm9yKHZhciBjIGluIHIuQ29uc3RhbnRzLkRSQVdfTU9ERVMpdSs9XCI8b3B0aW9uIHZhbHVlPSdcIityLkNvbnN0YW50cy5EUkFXX01PREVTW2NdK1wiJz5cIitjK1wiPC9vcHRpb24+XCI7dSs9XCI8L3NlbGVjdD48L2Rpdj48ZGl2PkRFUFRIIFRFU1Q6IDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9ERVBUSFRFU1RfXCIrbytcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4Oyc+PC9kaXY+PGRpdj5CTEVORDogPGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0nRU5BQkxFX0JMRU5EX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDsnPjwvZGl2PjxkaXY+QkxFTlQgRVFVQVRJT046IDxzZWxlY3QgaWQ9J0JMRU5EX0VRVUFUSU9OX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgZCBpbiByLkNvbnN0YW50cy5CTEVORElOR19FUVVBVElPTl9UWVBFUyl1Kz1cIjxvcHRpb24gdmFsdWU9J1wiK2QrXCInPlwiK2QrXCI8L29wdGlvbj5cIjt1Kz1cIjwvc2VsZWN0PjwvZGl2PjxkaXY+QkxFTkQgU1JDIChGb3JlZ3JvdW5kKTogPHNlbGVjdCBpZD0nQkxFTkRfc291cmNlX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgaCBpbiByLkNvbnN0YW50cy5CTEVORElOR19NT0RFUyl1Kz1cIjxvcHRpb24gdmFsdWU9J1wiK2grXCInPlwiK2grXCI8L29wdGlvbj5cIjt1Kz1cIjwvc2VsZWN0PjwvZGl2PjxkaXY+QkxFTkQgRFNUIChCYWNrZ3JvdW5kKTogPHNlbGVjdCBpZD0nQkxFTkRfZGVzdGluYXRpb25fXCIrbytcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4O21heC13aWR0aDo3MHB4Oyc+XCI7Zm9yKHZhciBmIGluIHIuQ29uc3RhbnRzLkJMRU5ESU5HX01PREVTKXUrPVwiPG9wdGlvbiB2YWx1ZT0nXCIrZitcIic+XCIrZitcIjwvb3B0aW9uPlwiO3UrPVwiPC9zZWxlY3Q+PC9kaXY+XCIsdSs9XCI8L2Rpdj5cIixsPSExO2Zvcih2YXIgcCBpbiBzKXt2YXIgZz1zW3BdLHY9ITE7Zm9yKHZhciBfIGluIG4uaW5fdmVydGV4X3ZhbHVlcylpZihwPT09Xyl7dj0hMCx1Kz1cIjxkaXYgc3R5bGU9J2hlaWdodDoxM3B4O2JhY2tncm91bmQ6cmdiYSgyNTUsMTUwLDE1MCxcIisoITA9PT1sPzE6LjkpK1wiKTtjb2xvcjpyZ2JhKDAsMCwwLDApOyc+PHNwYW4gc3R5bGU9J2JvcmRlci1yaWdodDoxcHggc29saWQgZ3JleTtiYWNrZ3JvdW5kLWNvbG9yOlwiKyh2b2lkIDAhPT1nP1wid2hpdGVcIjpcImJsYWNrXCIpK1wiOyc+Xzwvc3Bhbj48c3BhbiBzdHlsZT0nY29sb3I6Ymx1ZTsnPlwiKyhcImZsb2F0NF9mcm9tU2FtcGxlclwiPT09bi5pbl92ZXJ0ZXhfdmFsdWVzW19dLnR5cGV8fFwiZmxvYXRfZnJvbVNhbXBsZXJcIj09PW4uaW5fdmVydGV4X3ZhbHVlc1tfXS50eXBlP1wiZnJvbVNhbXBsZXJcIjpcIlwiKStcIjwvc3Bhbj4tXCI7YnJlYWt9ITE9PT12JiYodSs9XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTNweDtjb2xvcjpyZ2JhKDAsMCwwLDApO2JhY2tncm91bmQtY29sb3I6XCIrKCEwPT09bD9cInJnYmEoMCwwLDAsMC4wKVwiOlwicmdiYSgwLDAsMCwwLjA3KVwiKStcIic+LVwiKSx1Kz1cIjwvZGl2PlwiLGw9IWx9dSs9XCI8L2Rpdj5cIixBY3Rpb25IZWxwZXJzLmFwcGVuZFN0cmluZ0NoaWxkKHUsdCk7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFTkFCTEVfXCIrbyk7bS5jaGVja2VkPSEwPT09bi5lbmFibGVkLG0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0KXtlLmVuYWJsZWQ9ITA9PT10LmNoZWNrZWR9LmJpbmQoYSxuLG0pKSxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRFJBV19cIitvKTtmb3IodmFyIHk9MDt5PG0ub3B0aW9ucy5sZW5ndGg7eSsrKWlmKG0ub3B0aW9uc1t5XS52YWx1ZT09PW4uZHJhd01vZGUpe20uc2VsZWN0ZWRJbmRleD15O2JyZWFrfW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCxpKXtjb25zb2xlLmxvZyhpLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZSksbi5kcmF3TW9kZT1wYXJzZUludChpLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZSl9LmJpbmQoYSxpLG8sbSkpLChtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRU5BQkxFX0RFUFRIVEVTVF9cIitvKSkuY2hlY2tlZD0hMD09PW4uZGVwdGhUZXN0LG0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0KXtlLmRlcHRoVGVzdD0hMD09PXQuY2hlY2tlZH0uYmluZChhLG4sbSkpLChtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRU5BQkxFX0JMRU5EX1wiK28pKS5jaGVja2VkPSEwPT09bi5ibGVuZCxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZD0hMD09PXQuY2hlY2tlZH0uYmluZChhLG4sbSkpLG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCTEVORF9FUVVBVElPTl9cIitvKTtmb3IodmFyIGI9MDtiPG0ub3B0aW9ucy5sZW5ndGg7YisrKWlmKG0ub3B0aW9uc1tiXS52YWx1ZT09PW4uYmxlbmRFcXVhdGlvbil7bS5zZWxlY3RlZEluZGV4PWI7YnJlYWt9bS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSx0KXtlLmJsZW5kRXF1YXRpb249dC5vcHRpb25zW3Quc2VsZWN0ZWRJbmRleF0udmFsdWV9LmJpbmQoYSxuLG0pKSxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQkxFTkRfc291cmNlX1wiK28pO2Zvcih2YXIgRT0wO0U8bS5vcHRpb25zLmxlbmd0aDtFKyspaWYobS5vcHRpb25zW0VdLnZhbHVlPT09bi5ibGVuZFNyY01vZGUpe20uc2VsZWN0ZWRJbmRleD1FO2JyZWFrfW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZFNyY01vZGU9dC5vcHRpb25zW3Quc2VsZWN0ZWRJbmRleF0udmFsdWV9LmJpbmQoYSxuLG0pKSxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQkxFTkRfZGVzdGluYXRpb25fXCIrbyk7Zm9yKHZhciBDPTA7QzxtLm9wdGlvbnMubGVuZ3RoO0MrKylpZihtLm9wdGlvbnNbQ10udmFsdWU9PT1uLmJsZW5kRHN0TW9kZSl7bS5zZWxlY3RlZEluZGV4PUM7YnJlYWt9bS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSx0KXtlLmJsZW5kRHN0TW9kZT10Lm9wdGlvbnNbdC5zZWxlY3RlZEluZGV4XS52YWx1ZX0uYmluZChhLG4sbSkpLHU9XCI8ZGl2IGlkPSdESVZJRF9cIitvK1wiX2Zwcycgc3R5bGU9J2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7bWluLXdpZHRoOjUwcHg7bWF4LXdpZHRoOjUwcHg7Ym9yZGVyOjFweCBzb2xpZCAjMzMzOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjI1MHB4Oyc+XCIsdSs9XCI8L2Rpdj5cIixsPSExO2Zvcih2YXIgVCBpbiBzKXt2YXIgeD1zW1RdLFA9ITE7Zm9yKHZhciB3IGluIG4uaW5fZnJhZ21lbnRfdmFsdWVzKWlmKFQ9PT13KXtQPSEwLHUrPVwiPGRpdiBzdHlsZT0naGVpZ2h0OjEzcHg7YmFja2dyb3VuZDpyZ2JhKDE1MCwxNTAsMjU1LFwiKyghMD09PWw/MTouOSkrXCIpO2NvbG9yOnJnYmEoMCwwLDAsMCk7Jz48c3BhbiBzdHlsZT0nYm9yZGVyLXJpZ2h0OjFweCBzb2xpZCBncmV5O2JhY2tncm91bmQtY29sb3I6XCIrKHZvaWQgMCE9PXg/XCJ3aGl0ZVwiOlwiYmxhY2tcIikrXCI7Jz5fPC9zcGFuPi1cIjticmVha30hMT09PVAmJih1Kz1cIjxkaXYgc3R5bGU9J2hlaWdodDoxM3B4O2NvbG9yOnJnYmEoMCwwLDAsMCk7YmFja2dyb3VuZC1jb2xvcjpcIisoITA9PT1sP1wicmdiYSgwLDAsMCwwLjApXCI6XCJyZ2JhKDAsMCwwLDAuMDcpXCIpK1wiJz4tXCIpO2Zvcih2YXIgTD1cIlwiLFM9MDtTPG4ub3V0cHV0Lmxlbmd0aDtTKyspaWYoVD09PW4ub3V0cHV0W1NdKXtMPVwiPGRpdiBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Y29sb3I6YmxhY2s7Jz5VUERBVEU8L2Rpdj5cIjticmVha311Kz1MK1wiPC9kaXY+XCIsbD0hbH11Kz1cIjwvZGl2PlwiLEFjdGlvbkhlbHBlcnMuYXBwZW5kU3RyaW5nQ2hpbGQodSx0KX0odSl9O2kuVUlDb21wb25lbnRHUFVfVmZwPXMsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX1ZmcD1zfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi9Db25zdGFudHNcIjoxNn1dLDM4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uVXRpbHM9dm9pZCAwO3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTtlKFwid2ViY2xnbFwiKTt2YXIgYT1uLlV0aWxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx3aW5kb3cucmVxdWVzdEFuaW1GcmFtZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXt3aW5kb3cuc2V0VGltZW91dChlLDFlMy82MCl9fXJldHVybiBzKGUsW3trZXk6XCJnZXRJbWFnZUZyb21DYW52YXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7bi5vbmxvYWQ9ZnVuY3Rpb24oKXt0KG4pfSxuLnNyYz1lLnRvRGF0YVVSTCgpfX0se2tleTpcInBhY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1bMS8yNTUsMS8yNTUsMS8yNTUsMF0saT10LG89ZS5mcmFjdCgyNTUqaSkscj1lLmZyYWN0KDI1NSpvKSxzPVtpLG8scixlLmZyYWN0KDI1NSpyKV0sYT1bc1sxXSpuWzBdLHNbMl0qblsxXSxzWzNdKm5bMl0sc1szXSpuWzNdXTtyZXR1cm5bc1swXS1hWzBdLHNbMV0tYVsxXSxzWzJdLWFbMl0sc1szXS1hWzNdXX19LHtrZXk6XCJ1bnBhY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1bMSwxLzI1NSwxLzY1MDI1LDEvMTY1ODEzNzVdO3JldHVybiBlLmRvdDQodCxuKX19XSxbe2tleTpcImdldENhbnZhc0Zyb21VaW50OEFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS53aWR0aD10LGkuaGVpZ2h0PW47Zm9yKHZhciBvPWkuZ2V0Q29udGV4dChcIjJkXCIpLHI9by5jcmVhdGVJbWFnZURhdGEodCxuKSxzPTA7czxyLmRhdGEubGVuZ3RoO3MrKylyLmRhdGFbc109ZVtzXTtyZXR1cm4gby5wdXRJbWFnZURhdGEociwwLDApLGl9fSx7a2V5OlwiZ2V0VWludDhBcnJheUZyb21IVE1MSW1hZ2VFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQ7dmFyIG49dC5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4uZHJhd0ltYWdlKGUsMCwwKSxuLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCkuZGF0YX19LHtrZXk6XCJnZXRWZWN0b3JcIix2YWx1ZTpmdW5jdGlvbih0LG4pe3ZhciBpPWUuY2FydGVzaWFuVG9TcGhlcmljYWwodCksbz1pLmxhdCxyPWkubG5nO3JldHVybiBvKz1uKigxODAqTWF0aC5yYW5kb20oKS05MCkscis9biooMTgwKk1hdGgucmFuZG9tKCktOTApLGUuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oMSxvLHIpfX0se2tleTpcImdldFZlY3RvckdMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWMzIGdldFZlY3Rvcih2ZWMzIHZlY05vcm1hbCwgZmxvYXQgZGVncmVlcywgdmVjMiB2ZWNOb2lzZSkge1xcbnZlYzMgb2IgPSBjYXJ0ZXNpYW5Ub1NwaGVyaWNhbCh2ZWNOb3JtYWwpO2Zsb2F0IGFuZ2xlTGF0ID0gb2IueTtmbG9hdCBhbmdsZUxuZyA9IG9iLno7ZmxvYXQgZGVzdkxhdCA9ICh2ZWNOb2lzZS54KjE4MC4wKS05MC4wO2Zsb2F0IGRlc3ZMbmcgPSAodmVjTm9pc2UueSoxODAuMCktOTAuMDthbmdsZUxhdCArPSAoZGVncmVlcypkZXN2TGF0KTthbmdsZUxuZyArPSAoZGVncmVlcypkZXN2TG5nKTtyZXR1cm4gc3BoZXJpY2FsVG9DYXJ0ZXNpYW4odmVjMygxLjAsIGFuZ2xlTGF0LCBhbmdsZUxuZykpO31cXG5cIn19LHtrZXk6XCJjYXJ0ZXNpYW5Ub1NwaGVyaWNhbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPU1hdGguc3FydCh0LmVbMF0qdC5lWzBdK3QuZVsxXSp0LmVbMV0rdC5lWzJdKnQuZVsyXSk7cmV0dXJue3JhZGl1czpuLGxhdDplLnJhZFRvRGVnKE1hdGguYWNvcyh0LmVbMV0vbikpLGxuZzplLnJhZFRvRGVnKE1hdGguYXRhbjIodC5lWzJdLHQuZVswXSkpfX19LHtrZXk6XCJjYXJ0ZXNpYW5Ub1NwaGVyaWNhbEdMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWMzIGNhcnRlc2lhblRvU3BoZXJpY2FsKHZlYzMgdmVjdCkge1xcbmZsb2F0IHIgPSBzcXJ0KHZlY3QueCp2ZWN0LnggKyB2ZWN0LnkqdmVjdC55ICsgdmVjdC56KnZlY3Queik7ZmxvYXQgYW5nbGVMYXQgPSByYWRUb0RlZyhhY29zKHZlY3QueS9yKSk7ZmxvYXQgYW5nbGVMbmcgPSByYWRUb0RlZyhhdGFuKHZlY3QueiwgdmVjdC54KSk7cmV0dXJuIHZlYzMociwgYW5nbGVMYXQsIGFuZ2xlTG5nKTt9XFxuXCJ9fSx7a2V5Olwic3BoZXJpY2FsVG9DYXJ0ZXNpYW5cIix2YWx1ZTpmdW5jdGlvbih0LG4saSl7dmFyIG89dCxyPWUuZGVnVG9SYWQobikscz1lLmRlZ1RvUmFkKGkpLGE9bypNYXRoLnNpbihyKSpNYXRoLmNvcyhzKSxsPW8qTWF0aC5zaW4ocikqTWF0aC5zaW4ocyksdT1vKk1hdGguY29zKHIpO3JldHVybiBuZXcgU3Rvcm1WMyhbYSx1LGxdKX19LHtrZXk6XCJzcGhlcmljYWxUb0NhcnRlc2lhbkdMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWMzIHNwaGVyaWNhbFRvQ2FydGVzaWFuKHZlYzMgdmVjdCkge1xcbmZsb2F0IHIgPSB2ZWN0Lng7ZmxvYXQgYW5nbGVMYXQgPSBkZWdUb1JhZCh2ZWN0LnkpO2Zsb2F0IGFuZ2xlTG5nID0gZGVnVG9SYWQodmVjdC56KTtmbG9hdCB4ID0gcipzaW4oYW5nbGVMYXQpKmNvcyhhbmdsZUxuZyk7ZmxvYXQgeiA9IHIqc2luKGFuZ2xlTGF0KSpzaW4oYW5nbGVMbmcpO2Zsb2F0IHkgPSByKmNvcyhhbmdsZUxhdCk7cmV0dXJuIHZlYzMoeCx5LHopO31cXG5cIn19LHtrZXk6XCJyZWZyYWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89bi9pLHI9LTEqdC5kb3QoZSkscz0xLW8qbyooMS1yKnIpO3JldHVybiBlLngobykuYWRkKHQueChvKnItTWF0aC5zcXJ0KHMpKSl9fSx7a2V5OlwiZGVnVG9SYWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gMy4xNDE1OSplLzE4MH19LHtrZXk6XCJkZWdUb1JhZEdMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJmbG9hdCBkZWdUb1JhZChmbG9hdCBkZWcpIHtyZXR1cm4gKGRlZyozLjE0MTU5KS8xODAuMDt9XCJ9fSx7a2V5OlwicmFkVG9EZWdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSooMTgwLzMuMTQxNTkpfX0se2tleTpcInJhZFRvRGVnR0xTTEZ1bmN0aW9uU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImZsb2F0IHJhZFRvRGVnKGZsb2F0IHJhZCkge3JldHVybiByYWQqKDE4MC4wLzMuMTQxNTkpO31cIn19LHtrZXk6XCJoZXhUb1JnYlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PS9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7ZT1lLnJlcGxhY2UodCxmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdCt0K24rbitpK2l9KTt2YXIgbj0vXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoZSk7cmV0dXJuIG4/e3I6cGFyc2VJbnQoblsxXSwxNiksZzpwYXJzZUludChuWzJdLDE2KSxiOnBhcnNlSW50KG5bM10sMTYpfTpudWxsfX0se2tleTpcInJnYlRvSGV4XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrKDE2Nzc3MjE2KyhlWzJdfGVbMV08PDh8ZVswXTw8MTYpKS50b1N0cmluZygxNikuc2xpY2UoMSl9fSx7a2V5OlwiaW52c3FydFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAxL2V9fSx7a2V5Olwic21vb3Roc3RlcFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtpZihuPGUpcmV0dXJuIDA7aWYobj49dClyZXR1cm4gMTtpZihlPT09dClyZXR1cm4tMTt2YXIgaT0obi1lKS8odC1lKTtyZXR1cm4gaSppKigzLTIqaSl9fSx7a2V5OlwiZG90NFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdK2VbM10qdFszXX19LHtrZXk6XCJmcmFjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPjA/ZS1NYXRoLmZsb29yKGUpOmUtTWF0aC5jZWlsKGUpfX0se2tleTpcInBhY2tHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjNCBwYWNrIChmbG9hdCBkZXB0aCkge2NvbnN0IHZlYzQgYmlhcyA9IHZlYzQoIDEuMCAvIDI1NS4wLDEuMCAvIDI1NS4wLDEuMCAvIDI1NS4wLDAuMCk7ZmxvYXQgciA9IGRlcHRoO2Zsb2F0IGcgPSBmcmFjdChyICogMjU1LjApO2Zsb2F0IGIgPSBmcmFjdChnICogMjU1LjApO2Zsb2F0IGEgPSBmcmFjdChiICogMjU1LjApO3ZlYzQgY29sb3VyID0gdmVjNChyLCBnLCBiLCBhKTtyZXR1cm4gY29sb3VyIC0gKGNvbG91ci55end3ICogYmlhcyk7fVwifX0se2tleTpcInVucGFja0dMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJmbG9hdCB1bnBhY2sgKHZlYzQgY29sb3VyKSB7Y29uc3QgdmVjNCBiaXRTaGlmdHMgPSB2ZWM0KDEuMCwxLjAgLyAyNTUuMCwxLjAgLyAoMjU1LjAgKiAyNTUuMCksMS4wIC8gKDI1NS4wICogMjU1LjAgKiAyNTUuMCkpO3JldHVybiBkb3QoY29sb3VyLCBiaXRTaGlmdHMpO31cIn19LHtrZXk6XCJyYXlUcmF2ZXJzYWxJbml0U1RSXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImZsb2F0IHdoID0gY2VpbChzcXJ0KHVSZXNvbHV0aW9uKnVSZXNvbHV0aW9uKnVSZXNvbHV0aW9uKSk7XFxuZmxvYXQgY3MgPSB1R3JpZHNpemUvdVJlc29sdXRpb247XFxuZmxvYXQgY2hzID0gY3MvMi4wO1xcbmZsb2F0IHRleGVsU2l6ZSA9IDEuMC8od2gtMS4wKTtcXG52ZWMzIGdsID0gdmVjMygtKHVHcmlkc2l6ZS8yLjApLCAtKHVHcmlkc2l6ZS8yLjApLCAtKHVHcmlkc2l6ZS8yLjApKTtcXG52ZWMzIF9yID0gdmVjMyh1R3JpZHNpemUsIHVHcmlkc2l6ZSwgdUdyaWRzaXplKTtcXG52ZWMzIF9yUmVzID0gdmVjMyh1UmVzb2x1dGlvbiwgdVJlc29sdXRpb24sIHVSZXNvbHV0aW9uKTtcXG52ZWMzIF9sZW4gPSBfci9fclJlcztcXG52ZWMzIHdvcmxkVG9Wb3hlbCh2ZWMzIHdvcmxkKSB7XFxudmVjMyBpamsgPSAod29ybGQgLSBnbCkgLyBfbGVuO1xcbmlqayA9IHZlYzMoZmxvb3IoaWprLngpLCBmbG9vcihpamsueSksIGZsb29yKGlqay56KSk7XFxucmV0dXJuIGlqaztcXG59XFxuZmxvYXQgdm94ZWxUb1dvcmxkWChmbG9hdCB4KSB7cmV0dXJuIHggKiBfbGVuLnggKyBnbC54O31cXG5mbG9hdCB2b3hlbFRvV29ybGRZKGZsb2F0IHkpIHtyZXR1cm4geSAqIF9sZW4ueSArIGdsLnk7fVxcbmZsb2F0IHZveGVsVG9Xb3JsZFooZmxvYXQgeikge3JldHVybiB6ICogX2xlbi56ICsgZ2wuejt9XFxuXCJ9fSx7a2V5OlwicmF5VHJhdmVyc2FsU1RSXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ2ZWMyIGdldElkKHZlYzMgdm94ZWwpIHtcXG5pbnQgdGV4M2RJZCA9IChpbnQodm94ZWwueSkqKGludCh1UmVzb2x1dGlvbikqaW50KHVSZXNvbHV0aW9uKSkpKyhpbnQodm94ZWwueikqKGludCh1UmVzb2x1dGlvbikpKStpbnQodm94ZWwueCk7XFxuZmxvYXQgbnVtID0gZmxvYXQodGV4M2RJZCkvd2g7XFxuZmxvYXQgY29sID0gZnJhY3QobnVtKSp3aDtcXG5mbG9hdCByb3cgPSBmbG9vcihudW0pO1xcbnJldHVybiB2ZWMyKGNvbCp0ZXhlbFNpemUsIHJvdyp0ZXhlbFNpemUpO1xcbn1cXG52ZWM0IGdldFZveGVsX0NvbG9yKHZlYzIgdGV4VmVjLCB2ZWMzIHZveGVsLCB2ZWMzIFJheU9yaWdpbikge1xcbnZlYzQgcmdiYSA9IHZlYzQoMC4wLDAuMCwwLjAsMC4wKTtcXG52ZWM0IHRleHR1cmUgPSBzYW1wbGVyX3ZveGVsQ29sb3JbdmVjMih0ZXhWZWMueCwgdGV4VmVjLnkpXTtcXG5pZih0ZXh0dXJlLmEvMjU1LjAgPiAwLjUpIHtcXG5yZ2JhID0gdmVjNCh0ZXh0dXJlLnJnYi8yNTUuMCxkaXN0YW5jZSh2ZWMzKHZveGVsVG9Xb3JsZFgodm94ZWwueCksIHZveGVsVG9Xb3JsZFgodm94ZWwueSksIHZveGVsVG9Xb3JsZFgodm94ZWwueikpLFJheU9yaWdpbikpO1xcbn1cXG5yZXR1cm4gcmdiYTtcXG59XFxudmVjNCBnZXRWb3hlbF9Qb3ModmVjMiB0ZXhWZWMpIHtcXG52ZWM0IHJnYmEgPSB2ZWM0KDAuMCwwLjAsMC4wLDAuMCk7XFxudmVjNCB0ZXh0dXJlID0gc2FtcGxlcl92b3hlbFBvc1t2ZWMyKHRleFZlYy54LCB0ZXhWZWMueSldO1xcbnJnYmEgPSB2ZWM0KCAoKHRleHR1cmUueHl6LzI1NS4wKSp1R3JpZHNpemUpLSh1R3JpZHNpemUvMi4wKSwgMS4wKTtcXG5yZXR1cm4gcmdiYTtcXG59XFxudmVjNCBnZXRWb3hlbF9Ob3JtYWwodmVjMiB0ZXhWZWMpIHtcXG52ZWM0IHJnYmEgPSB2ZWM0KDAuMCwwLjAsMC4wLDAuMCk7XFxudmVjNCB0ZXh0dXJlID0gc2FtcGxlcl92b3hlbE5vcm1hbFt2ZWMyKHRleFZlYy54LCB0ZXhWZWMueSldO1xcbnJnYmEgPSB2ZWM0KCgodGV4dHVyZS5yZ2IvMjU1LjApKjIuMCktMS4wLCAxLjApO1xcbnJldHVybiByZ2JhO1xcbn1cXG5zdHJ1Y3QgUmF5VHJhdmVyc2FsUmVzcG9uc2Uge3ZlYzQgdm94ZWxDb2xvcjt2ZWM0IHZveGVsUG9zO3ZlYzQgdm94ZWxOb3JtYWw7fTtSYXlUcmF2ZXJzYWxSZXNwb25zZSByYXlUcmF2ZXJzYWwodmVjMyBSYXlPcmlnaW4sIHZlYzMgUmF5RGlyKSB7XFxudmVjNCBmdm94ZWxDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTt2ZWM0IGZ2b3hlbFBvcyA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTt2ZWM0IGZ2b3hlbE5vcm1hbCA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTt2ZWMzIHZveGVsID0gd29ybGRUb1ZveGVsKFJheU9yaWdpbik7dmVjMyBfZGlyID0gbm9ybWFsaXplKFJheURpcik7dmVjMyB0TWF4O2lmKFJheURpci54IDwgMC4wKSB0TWF4LnggPSAodm94ZWxUb1dvcmxkWCh2b3hlbC54KS1SYXlPcmlnaW4ueCkvUmF5RGlyLng7aWYoUmF5RGlyLnggPiAwLjApIHRNYXgueCA9ICh2b3hlbFRvV29ybGRYKHZveGVsLngrMS4wKS1SYXlPcmlnaW4ueCkvUmF5RGlyLng7aWYoUmF5RGlyLnkgPCAwLjApIHRNYXgueSA9ICh2b3hlbFRvV29ybGRZKHZveGVsLnkpLVJheU9yaWdpbi55KS9SYXlEaXIueTtpZihSYXlEaXIueSA8IDAuMCkgdE1heC55ID0gKHZveGVsVG9Xb3JsZFkodm94ZWwueSsxLjApLVJheU9yaWdpbi55KS9SYXlEaXIueTtpZihSYXlEaXIueiA8IDAuMCkgdE1heC56ID0gKHZveGVsVG9Xb3JsZFoodm94ZWwueiktUmF5T3JpZ2luLnopL1JheURpci56O2lmKFJheURpci56IDwgMC4wKSB0TWF4LnogPSAodm94ZWxUb1dvcmxkWih2b3hlbC56KzEuMCktUmF5T3JpZ2luLnopL1JheURpci56O2Zsb2F0IHREZWx0YVggPSBfci54L2FicyhSYXlEaXIueCk7ZmxvYXQgdERlbHRhWSA9IF9yLnkvYWJzKFJheURpci55KTtmbG9hdCB0RGVsdGFaID0gX3Iuei9hYnMoUmF5RGlyLnopO2Zsb2F0IHN0ZXBYID0gMS4wOyBmbG9hdCBzdGVwWSA9IDEuMDsgZmxvYXQgc3RlcFogPSAxLjA7XFxuZmxvYXQgb3V0WCA9IF9yLng7IGZsb2F0IG91dFkgPSBfci55OyBmbG9hdCBvdXRaID0gX3IuejtcXG5pZihSYXlEaXIueCA8IDAuMCkge3N0ZXBYID0gLTEuMDsgb3V0WCA9IC0xLjA7fWlmKFJheURpci55IDwgMC4wKSB7c3RlcFkgPSAtMS4wOyBvdXRZID0gLTEuMDt9aWYoUmF5RGlyLnogPCAwLjApIHtzdGVwWiA9IC0xLjA7IG91dFogPSAtMS4wO312ZWM0IGNvbG9yID0gdmVjNCgwLjAsMC4wLDAuMCwwLjApO1xcbmJvb2wgYzE7IGJvb2wgYzI7IGJvb2wgYzM7IGJvb2wgaXNPdXQ7dmVjMiB2aWQ7Zm9yKGludCBjID0gMDsgYyA8IFwiK2UrXCIqMjsgYysrKSB7XFxuYzEgPSBib29sKHRNYXgueCA8IHRNYXgueSk7YzIgPSBib29sKHRNYXgueCA8IHRNYXgueik7YzMgPSBib29sKHRNYXgueSA8IHRNYXgueik7aXNPdXQgPSBmYWxzZTtpZiAoYzEgJiYgYzIpIHt2b3hlbC54ICs9IHN0ZXBYO2lmKHZveGVsLng9PW91dFgpIGlzT3V0PXRydWU7dE1heC54ICs9IHREZWx0YVg7fSBlbHNlIGlmKCggKGMxICYmICFjMikgfHwgKCFjMSAmJiAhYzMpICkpIHt2b3hlbC56ICs9IHN0ZXBaO2lmKHZveGVsLno9PW91dFopIGlzT3V0PXRydWU7dE1heC56ICs9IHREZWx0YVo7fSBlbHNlIGlmKCFjMSAmJiBjMykge3ZveGVsLnkgKz0gc3RlcFk7aWYodm94ZWwueT09b3V0WSkgaXNPdXQ9dHJ1ZTt0TWF4LnkgKz0gdERlbHRhWTt9aWYoaXNPdXQgPT0gdHJ1ZSkgYnJlYWs7XFxuZWxzZSB7aWYoKHZveGVsLnggPj0gMC4wICYmIHZveGVsLnggPD0gX3JSZXMueCAmJiB2b3hlbC55ID49IDAuMCAmJiB2b3hlbC55IDw9IF9yUmVzLnkgJiYgdm94ZWwueiA+PSAwLjAgJiYgdm94ZWwueiA8PSBfclJlcy56KSkgeztcXG52aWQgPSBnZXRJZCh2b3hlbCk7dmVjNCB2Y2MgPSBnZXRWb3hlbF9Db2xvcih2aWQsIHZveGVsLCBSYXlPcmlnaW4pO2lmKHZjYy5hICE9IDAuMCkge2Z2b3hlbENvbG9yID0gdmNjO2JyZWFrO1xcbn19fX1mdm94ZWxQb3MgPSBnZXRWb3hlbF9Qb3ModmlkKTtmdm94ZWxOb3JtYWwgPSBnZXRWb3hlbF9Ob3JtYWwodmlkKTtyZXR1cm4gUmF5VHJhdmVyc2FsUmVzcG9uc2UoZnZveGVsQ29sb3IsIGZ2b3hlbFBvcywgZnZveGVsTm9ybWFsKTt9XFxuXCJ9fSx7a2V5OlwiaXNQb3dlck9mVHdvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlJmUtMSl9fSx7a2V5OlwibmV4dEhpZ2hlc3RQb3dlck9mVHdvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7LS1lO2Zvcih2YXIgdD0xO3Q8MzI7dDw8PTEpZXw9ZT4+dDtyZXR1cm4gZSsxfX0se2tleTpcImdldEVsZW1lbnRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLG49MCxpPTA7XCJvYmplY3RcIj09PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6cih0KSkmJnZvaWQgMCE9PXQudGFnTmFtZTspaSs9dC5vZmZzZXRUb3Asbis9dC5vZmZzZXRMZWZ0LFwiQk9EWVwiPT09dC50YWdOYW1lLnRvVXBwZXJDYXNlKCkmJih0PTApLFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOnIodCkpJiZcIm9iamVjdFwiPT09cih0Lm9mZnNldFBhcmVudCkmJih0PXQub2Zmc2V0UGFyZW50KTtyZXR1cm57eDpuLHk6aX19fSx7a2V5OlwiZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFdlYkNMR0xVdGlscy5nZXRXZWJHTENvbnRleHRGcm9tQ2FudmFzKGUsdCl9fSx7a2V5OlwiZnVsbFNjcmVlblwiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudD9kb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuP2RvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4oKTpkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuP2RvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTpkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuP2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbj9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKX19XSksZX0oKTtpLlV0aWxzPWEsdC5leHBvcnRzLlV0aWxzPWF9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt3ZWJjbGdsOjZ9XSwzOTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3RoaXMuZ2V0U3JjPWZ1bmN0aW9uKCl7cmV0dXJuW1tcIlJHQlwiXSxcInZhcnlpbmcgdmVjNCB2Vk47XFxudmFyeWluZyB2ZWM0IHZWVDtcXG52YXJ5aW5nIGZsb2F0IHZWVFU7XFxuXCIsXCJ2ZWM0IHZwID0gdmVydGV4UG9zW107XFxudmVjNCB2biA9IHZlcnRleE5vcm1hbFtdO1xcbnZlYzQgdnQgPSB2ZXJ0ZXhUZXh0dXJlW107XFxuZmxvYXQgdnR1ID0gdmVydGV4VGV4dHVyZVVuaXRbXTtcXG52Vk4gPSB2bjt2VlQgPSB2dDt2VlRVID0gdnR1O2dsX1Bvc2l0aW9uID0gUE1hdHJpeCAqIGNhbWVyYVdNYXRyaXggKiBub2RlV01hdHJpeCAqIHZwO1xcblwiLFwidmFyeWluZyB2ZWM0IHZWTjtcXG52YXJ5aW5nIHZlYzQgdlZUO1xcbnZhcnlpbmcgZmxvYXQgdlZUVTtcXG5cIixcInZlYzQgdGV4dHVyZUNvbG9yID0gdGV4dHVyZTJEKHRleEFsYmVkbywgdlZULnh5KTtcXG5yZXR1cm4gW3RleHR1cmVDb2xvcl07XFxuXCJdfX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlZGUF9SR0I9aSxlLlZGUF9SR0I9aSx0LmV4cG9ydHMuVkZQX1JHQj1pfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7XCJ1c2Ugc3RyaWN0XCI7ZShcIi4vQXJyYXlHZW5lcmF0b3IuY2xhc3NcIiksZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLGUoXCIuL0NvbXBvbmVudF9HUFUuY2xhc3NcIiksZShcIi4vQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRLZXlib2FyZEV2ZW50cy5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRNb3VzZUV2ZW50cy5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRQcm9qZWN0aW9uLmNsYXNzXCIpLGUoXCIuL0NvbXBvbmVudFRyYW5zZm9ybS5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIiksZShcIi4vQ29uc3RhbnRzXCIpLGUoXCIuL01lc2guY2xhc3NcIiksZShcIi4vTm9kZS5jbGFzc1wiKSxlKFwiLi9Qcm9qZWN0LmNsYXNzXCIpLGUoXCIuL1NDRS5jbGFzc1wiKSxlKFwiLi9TdGFnZS5jbGFzc1wiKSxlKFwiLi9TdG9ybU1hdGguY2xhc3NcIiksZShcIi4vU3lzdGVtRXZlbnRzLmNsYXNzXCIpLGUoXCIuL1V0aWxzLmNsYXNzXCIpLGUoXCIuL1ZGUF9SR0IuY2xhc3NcIiksZShcIi4vUHJlZmFicy9HcmlkL0dyaWQuY2xhc3NcIiksZShcIi4vUHJlZmFicy9TaW1wbGVDYW1lcmEvU2ltcGxlQ2FtZXJhLmNsYXNzXCIpLGUoXCIuL1ByZWZhYnMvU2ltcGxlTm9kZS9TaW1wbGVOb2RlLmNsYXNzXCIpLGUoXCIuL1VJL0RyYWdnYWJpbGx5Uy5jbGFzc1wiKSxlKFwiLi9VSS9QYW5lbE5vZGUuY2xhc3NcIiksZShcIi4vVUkvUGFuZWxOdW1iZXJHZW5lcmF0b3IuY2xhc3NcIiksZShcIi4vVUkvUGFuZWxTdGFnZS5jbGFzc1wiKSxlKFwiLi9VSS9VSS5jbGFzc1wiKSxlKFwiLi9VSS9VSUNvbXBvbmVudEdQVS5jbGFzc1wiKSxlKFwiLi9VSS9VSUNvbXBvbmVudEdQVV9Bcmd1bWVudC5jbGFzc1wiKSxlKFwiLi9VSS9VSUNvbXBvbmVudEdQVV9JbmRpY2VzLmNsYXNzXCIpLGUoXCIuL1VJL1VJQ29tcG9uZW50R1BVX0tlcm5lbC5jbGFzc1wiKSxlKFwiLi9VSS9VSUNvbXBvbmVudEdQVV9WZnAuY2xhc3NcIiksdC5leHBvcnRzLkFycmF5R2VuZXJhdG9yPW4uQXJyYXlHZW5lcmF0b3I9QXJyYXlHZW5lcmF0b3IsdC5leHBvcnRzLkNvbXBvbmVudD1uLkNvbXBvbmVudD1Db21wb25lbnQsdC5leHBvcnRzLkNvbXBvbmVudF9HUFU9bi5Db21wb25lbnRfR1BVPUNvbXBvbmVudF9HUFUsdC5leHBvcnRzLkNvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQ9bi5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0PUNvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQsdC5leHBvcnRzLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPW4uQ29tcG9uZW50S2V5Ym9hcmRFdmVudHM9Q29tcG9uZW50S2V5Ym9hcmRFdmVudHMsdC5leHBvcnRzLkNvbXBvbmVudE1vdXNlRXZlbnRzPW4uQ29tcG9uZW50TW91c2VFdmVudHM9Q29tcG9uZW50TW91c2VFdmVudHMsdC5leHBvcnRzLkNvbXBvbmVudFByb2plY3Rpb249bi5Db21wb25lbnRQcm9qZWN0aW9uPUNvbXBvbmVudFByb2plY3Rpb24sdC5leHBvcnRzLkNvbXBvbmVudFRyYW5zZm9ybT1uLkNvbXBvbmVudFRyYW5zZm9ybT1Db21wb25lbnRUcmFuc2Zvcm0sdC5leHBvcnRzLkNvbXBvbmVudFRyYW5zZm9ybVRhcmdldD1uLkNvbXBvbmVudFRyYW5zZm9ybVRhcmdldD1Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQsdC5leHBvcnRzLkNvbnN0YW50cz1uLkNvbnN0YW50cz1Db25zdGFudHMsdC5leHBvcnRzLk1lc2g9bi5NZXNoPU1lc2gsdC5leHBvcnRzLk5vZGU9bi5Ob2RlPU5vZGUsdC5leHBvcnRzLlByb2plY3Q9bi5Qcm9qZWN0PVByb2plY3QsdC5leHBvcnRzLlNDRT1uLlNDRT1TQ0UsdC5leHBvcnRzLlN0YWdlPW4uU3RhZ2U9U3RhZ2UsdC5leHBvcnRzLlN0b3JtTTE2PW4uU3Rvcm1NMTY9U3Rvcm1NMTYsdC5leHBvcnRzLlN0b3JtVjM9bi5TdG9ybVYzPVN0b3JtVjMsdC5leHBvcnRzLlN5c3RlbUV2ZW50cz1uLlN5c3RlbUV2ZW50cz1TeXN0ZW1FdmVudHMsdC5leHBvcnRzLlV0aWxzPW4uVXRpbHM9VXRpbHMsdC5leHBvcnRzLlZGUF9SR0I9bi5WRlBfUkdCPVZGUF9SR0IsdC5leHBvcnRzLkdyaWQ9bi5HcmlkPUdyaWQsdC5leHBvcnRzLlNpbXBsZUNhbWVyYT1uLlNpbXBsZUNhbWVyYT1TaW1wbGVDYW1lcmEsdC5leHBvcnRzLlNpbXBsZU5vZGU9bi5TaW1wbGVOb2RlPVNpbXBsZU5vZGUsdC5leHBvcnRzLkRyYWdnYWJpbGx5Uz1uLkRyYWdnYWJpbGx5Uz1EcmFnZ2FiaWxseVMsdC5leHBvcnRzLlBhbmVsTm9kZT1uLlBhbmVsTm9kZT1QYW5lbE5vZGUsdC5leHBvcnRzLlBhbmVsTnVtYmVyR2VuZXJhdG9yPW4uUGFuZWxOdW1iZXJHZW5lcmF0b3I9UGFuZWxOdW1iZXJHZW5lcmF0b3IsdC5leHBvcnRzLlBhbmVsU3RhZ2U9bi5QYW5lbFN0YWdlPVBhbmVsU3RhZ2UsdC5leHBvcnRzLlVJPW4uVUk9VUksdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVPW4uVUlDb21wb25lbnRHUFU9VUlDb21wb25lbnRHUFUsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX0FyZ3VtZW50PW4uVUlDb21wb25lbnRHUFVfQXJndW1lbnQ9VUlDb21wb25lbnRHUFVfQXJndW1lbnQsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX0luZGljZXM9bi5VSUNvbXBvbmVudEdQVV9JbmRpY2VzPVVJQ29tcG9uZW50R1BVX0luZGljZXMsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX0tlcm5lbD1uLlVJQ29tcG9uZW50R1BVX0tlcm5lbD1VSUNvbXBvbmVudEdQVV9LZXJuZWwsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX1ZmcD1uLlVJQ29tcG9uZW50R1BVX1ZmcD1VSUNvbXBvbmVudEdQVV9WZnB9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQXJyYXlHZW5lcmF0b3IuY2xhc3NcIjo3LFwiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCI6OSxcIi4vQ29tcG9uZW50S2V5Ym9hcmRFdmVudHMuY2xhc3NcIjoxMCxcIi4vQ29tcG9uZW50TW91c2VFdmVudHMuY2xhc3NcIjoxMSxcIi4vQ29tcG9uZW50UHJvamVjdGlvbi5jbGFzc1wiOjEyLFwiLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIjoxMyxcIi4vQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCI6MTQsXCIuL0NvbXBvbmVudF9HUFUuY2xhc3NcIjoxNSxcIi4vQ29uc3RhbnRzXCI6MTYsXCIuL01lc2guY2xhc3NcIjoxNyxcIi4vTm9kZS5jbGFzc1wiOjE4LFwiLi9QcmVmYWJzL0dyaWQvR3JpZC5jbGFzc1wiOjE5LFwiLi9QcmVmYWJzL1NpbXBsZUNhbWVyYS9TaW1wbGVDYW1lcmEuY2xhc3NcIjoyMCxcIi4vUHJlZmFicy9TaW1wbGVOb2RlL1NpbXBsZU5vZGUuY2xhc3NcIjoyMSxcIi4vUHJvamVjdC5jbGFzc1wiOjIyLFwiLi9TQ0UuY2xhc3NcIjoyMyxcIi4vU3RhZ2UuY2xhc3NcIjoyNCxcIi4vU3Rvcm1NYXRoLmNsYXNzXCI6MjUsXCIuL1N5c3RlbUV2ZW50cy5jbGFzc1wiOjI2LFwiLi9VSS9EcmFnZ2FiaWxseVMuY2xhc3NcIjoyOCxcIi4vVUkvUGFuZWxOb2RlLmNsYXNzXCI6MjksXCIuL1VJL1BhbmVsTnVtYmVyR2VuZXJhdG9yLmNsYXNzXCI6MzAsXCIuL1VJL1BhbmVsU3RhZ2UuY2xhc3NcIjozMSxcIi4vVUkvVUkuY2xhc3NcIjozMixcIi4vVUkvVUlDb21wb25lbnRHUFUuY2xhc3NcIjozMyxcIi4vVUkvVUlDb21wb25lbnRHUFVfQXJndW1lbnQuY2xhc3NcIjozNCxcIi4vVUkvVUlDb21wb25lbnRHUFVfSW5kaWNlcy5jbGFzc1wiOjM1LFwiLi9VSS9VSUNvbXBvbmVudEdQVV9LZXJuZWwuY2xhc3NcIjozNixcIi4vVUkvVUlDb21wb25lbnRHUFVfVmZwLmNsYXNzXCI6MzcsXCIuL1V0aWxzLmNsYXNzXCI6MzgsXCIuL1ZGUF9SR0IuY2xhc3NcIjozOX1dfSx7fSxbNDBdKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5WRlBfTk9ERSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxucmVxdWlyZShcInNjZWpzXCIpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVkZQX05PREUgPSBleHBvcnRzLlZGUF9OT0RFID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZGUF9OT0RFKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVkZQX05PREUpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhWRlBfTk9ERSwgbnVsbCwgW3tcbiAgICAgICAga2V5OiBcImdldFNyY1wiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3JjKGN1c3RvbUNvZGUsIGdlb21ldHJ5TGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW1tcIlJHQlwiXSxcblxuICAgICAgICAgICAgLy/ilojilojilZcgICDilojilojilZfilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWXICDilojilojilZcgICAg4paI4paI4pWXICDilojilojilZfilojilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVl1xuICAgICAgICAgICAgLy/ilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZfilZrilZDilZDilojilojilZTilZDilZDilZ3ilojilojilZTilZDilZDilZDilZDilZ3ilZrilojilojilZfilojilojilZTilZ0gICAg4paI4paI4pWRICDilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZdcbiAgICAgICAgICAgIC8v4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZTilZ0gICDilojilojilZEgICDilojilojilojilojilojilZcgICDilZrilojilojilojilZTilZ0gICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilZFcbiAgICAgICAgICAgIC8v4pWa4paI4paI4pWXIOKWiOKWiOKVlOKVneKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXICAg4paI4paI4pWRICAg4paI4paI4pWU4pWQ4pWQ4pWdICAg4paI4paI4pWU4paI4paI4pWXICAgICDilojilojilZTilZDilZDilojilojilZHilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRXG4gICAgICAgICAgICAvLyDilZrilojilojilojilojilZTilZ0g4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWRICDilojilojilZEgICDilojilojilZEgICDilojilojilojilojilojilojilojilZfilojilojilZTilZ0g4paI4paI4pWXICAgIOKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWRICDilojilojilZHilojilojilojilojilojilojilZTilZ1cbiAgICAgICAgICAgIC8vICDilZrilZDilZDilZDilZ0gIOKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ0gICAg4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVnVxuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjNCB2VmVydGV4Q29sb3I7XFxuJyArICd2YXJ5aW5nIHZlYzQgdlZlcnRleENvbG9yTmV0RXJyb3I7XFxuJyArICd2YXJ5aW5nIHZlYzQgdlVWO1xcbicgKyAndmFyeWluZyB2ZWMyIHZWZXJ0ZXhVVjtcXG4nICsgJ3ZhcnlpbmcgZmxvYXQgdlVzZVRleDtcXG4nICsgJ3ZhcnlpbmcgdmVjNCB2V05NYXRyaXg7XFxuJyArICd2YXJ5aW5nIGZsb2F0IHZOb2RlSWQ7XFxuJyArICd2YXJ5aW5nIGZsb2F0IHZOb2RlSWRPcHBvc2l0ZTtcXG4nICsgJ3ZhcnlpbmcgZmxvYXQgdkRpc3Q7XFxuJyArICd2YXJ5aW5nIGZsb2F0IHZJc1NlbGVjdGVkO1xcbicgKyAndmFyeWluZyBmbG9hdCB2SXNIb3ZlcjtcXG4nICsgJ3ZhcnlpbmcgZmxvYXQgdlVzZUNyb3NzaGFpcjtcXG4nICsgJ3ZhcnlpbmcgZmxvYXQgdklzdGFyZ2V0O1xcbicgKyAndmVjMiBnZXQyRGZyb20xRChmbG9hdCBpZHgsIGZsb2F0IGNvbHVtbnMpIHsnICsgJ2Zsb2F0IG4gPSBpZHgvY29sdW1uczsnICsgJ2Zsb2F0IHJvdyA9IGZsb2F0KGludChuKSk7JyArICdmbG9hdCBjb2wgPSBmcmFjdChuKSpjb2x1bW5zOycgKyAnZmxvYXQgdHMgPSAxLjAvY29sdW1uczsnICsgJ3JldHVybiB2ZWMyKHRzKmNvbCwgdHMqcm93KTsnICsgJ30nICsgXCJmbG9hdCBnZXREaWdpdChmbG9hdCBwbGFuZUlkLCBmbG9hdCB2YWx1ZSkgeyAgICAgICAgICAgXFx0XFx0XFxuICAgICAgIFxcdFxcdCAgICBpZih2YWx1ZSA+PSAwLjAgJiYgcGxhbmVJZCA9PSAxLjApIHJldHVybiAzOS4wO1xcbiAgICAgICBcXHRcXHQgICAgXFxuICAgICAgICAgICBcXHRcXHRpZih2YWx1ZSA8IDAuMCAmJiBwbGFuZUlkID09IDAuMCkgcmV0dXJuIDM4LjA7XFxuICAgICAgIFxcdFxcdCAgICBpZih2YWx1ZSA8IDAuMCAmJiBwbGFuZUlkID09IDIuMCkgcmV0dXJuIDM5LjA7XFxuICAgICAgIFxcdFxcdCAgICAgXFxuICAgICAgIFxcdFxcdCAgICBmbG9hdCB2YWwgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIGZsb2F0IHNlbGVjdGVkRGlnaXQgPSAwLjA7XFxuICAgICAgICAgICAgICAgIGZvcihpbnQgbj0wOyBuIDw9IDEyOyBuKyspIHtcXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IG51bSA9IGZsb29yKGFicyh2YWwpKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmKG51bSA9PSAwLjApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWx1ZSA+PSAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMSkpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigodmFsdWUgPCAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpIHx8IChuID4gMCAmJiBuID09IGludChwbGFuZUlkKS0yKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaWdpdCA9IG51bTsgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsICo9IDEwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSAxLjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTEwLjAgOiAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSAyLjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTIwLjAgOiAyMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYobnVtID09IDMuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWx1ZSA+PSAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMSkpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigodmFsdWUgPCAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpIHx8IChuID4gMCAmJiBuID09IGludChwbGFuZUlkKS0yKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaWdpdCA9IG51bTsgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsICo9IDEwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCArPSAodmFsID49IDAuMCkgPyAtMzAuMCA6IDMwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYobnVtID09IDQuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWx1ZSA+PSAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMSkpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigodmFsdWUgPCAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpIHx8IChuID4gMCAmJiBuID09IGludChwbGFuZUlkKS0yKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaWdpdCA9IG51bTsgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsICo9IDEwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCArPSAodmFsID49IDAuMCkgPyAtNDAuMCA6IDQwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSA1LjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTUwLjAgOiA1MC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSA2LjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTYwLjAgOiA2MC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYobnVtID09IDcuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWx1ZSA+PSAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMSkpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigodmFsdWUgPCAwLjApICYmICgobiA9PSAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpIHx8IChuID4gMCAmJiBuID09IGludChwbGFuZUlkKS0yKSkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREaWdpdCA9IG51bTsgYnJlYWs7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsICo9IDEwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCArPSAodmFsID49IDAuMCkgPyAtNzAuMCA6IDcwLjA7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSA4LjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTgwLjAgOiA4MC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKG51bSA9PSA5LjApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsdWUgPj0gMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKSkgfHwgKG4gPiAwICYmIG4gPT0gaW50KHBsYW5lSWQpLTEpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gbnVtOyBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoKHZhbHVlIDwgMC4wKSAmJiAoKG4gPT0gMCAmJiBuID09IGludChwbGFuZUlkKS0xKSB8fCAobiA+IDAgJiYgbiA9PSBpbnQocGxhbmVJZCktMikpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaXQgPSBudW07IGJyZWFrO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAqPSAxMC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gKHZhbCA+PSAwLjApID8gLTkwLjAgOiA5MC4wO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERpZ2l0ID0gYWJzKGZsb29yKHNlbGVjdGVkRGlnaXQpKTtcXG4gICAgICAgICAgICAgICAgaWYoc2VsZWN0ZWREaWdpdCA9PSAwLjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyOC4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSAxLjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyOS4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSAyLjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMC4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSAzLjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMS4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA0LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMi4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA1LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMy4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA2LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzNC4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA3LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzNS4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA4LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzNi4wO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoc2VsZWN0ZWREaWdpdCA9PSA5LjApIHtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzNy4wO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVwiICsgJ21hdDQgbG9va0F0KHZlYzMgZXllLCB2ZWMzIGNlbnRlciwgdmVjMyB1cCkgeycgKyAndmVjMyB6YXhpcyA9IG5vcm1hbGl6ZShjZW50ZXIgLSBleWUpOycgKyAndmVjMyB4YXhpcyA9IG5vcm1hbGl6ZShjcm9zcyh1cCwgemF4aXMpKTsnICsgJ3ZlYzMgeWF4aXMgPSBjcm9zcyh6YXhpcywgeGF4aXMpOycgKyAnbWF0NCBtYXRyaXg7JyArXG4gICAgICAgICAgICAvL0NvbHVtbiBNYWpvclxuICAgICAgICAgICAgJ21hdHJpeFswXVswXSA9IHhheGlzLng7JyArICdtYXRyaXhbMV1bMF0gPSB5YXhpcy54OycgKyAnbWF0cml4WzJdWzBdID0gemF4aXMueDsnICsgJ21hdHJpeFszXVswXSA9IDAuMDsnICsgJ21hdHJpeFswXVsxXSA9IHhheGlzLnk7JyArICdtYXRyaXhbMV1bMV0gPSB5YXhpcy55OycgKyAnbWF0cml4WzJdWzFdID0gemF4aXMueTsnICsgJ21hdHJpeFszXVsxXSA9IDAuMDsnICsgJ21hdHJpeFswXVsyXSA9IHhheGlzLno7JyArICdtYXRyaXhbMV1bMl0gPSB5YXhpcy56OycgKyAnbWF0cml4WzJdWzJdID0gemF4aXMuejsnICsgJ21hdHJpeFszXVsyXSA9IDAuMDsnICsgJ21hdHJpeFswXVszXSA9IC1kb3QoeGF4aXMsIGV5ZSk7JyArICdtYXRyaXhbMV1bM10gPSAtZG90KHlheGlzLCBleWUpOycgKyAnbWF0cml4WzJdWzNdID0gLWRvdCh6YXhpcywgZXllKTsnICsgJ21hdHJpeFszXVszXSA9IDEuMDsnICsgJ3JldHVybiBtYXRyaXg7JyArICd9JyArICdtYXQ0IHRyYW5zcG9zZShtYXQ0IG0pIHsnICsgJ3JldHVybiBtYXQ0KCAgbVswXVswXSwgbVsxXVswXSwgbVsyXVswXSwgbVszXVswXSwnICsgJ21bMF1bMV0sIG1bMV1bMV0sIG1bMl1bMV0sIG1bM11bMV0sJyArICdtWzBdWzJdLCBtWzFdWzJdLCBtWzJdWzJdLCBtWzNdWzJdLCcgKyAnbVswXVszXSwgbVsxXVszXSwgbVsyXVszXSwgbVszXVszXSk7JyArICd9JyArICdtYXQ0IHJvdGF0aW9uTWF0cml4KHZlYzMgYXhpcywgZmxvYXQgYW5nbGUpIHsnICsgJ2F4aXMgPSBub3JtYWxpemUoYXhpcyk7JyArICdmbG9hdCBzID0gc2luKGFuZ2xlKTsnICsgJ2Zsb2F0IGMgPSBjb3MoYW5nbGUpOycgKyAnZmxvYXQgb2MgPSAxLjAgLSBjOycgKyAncmV0dXJuIG1hdDQob2MgKiBheGlzLnggKiBheGlzLnggKyBjLCAgICAgICAgICAgb2MgKiBheGlzLnggKiBheGlzLnkgLSBheGlzLnogKiBzLCAgb2MgKiBheGlzLnogKiBheGlzLnggKyBheGlzLnkgKiBzLCAgMC4wLCcgKyAnb2MgKiBheGlzLnggKiBheGlzLnkgKyBheGlzLnogKiBzLCAgb2MgKiBheGlzLnkgKiBheGlzLnkgKyBjLCAgICAgICAgICAgb2MgKiBheGlzLnkgKiBheGlzLnogLSBheGlzLnggKiBzLCAgMC4wLCcgKyAnb2MgKiBheGlzLnogKiBheGlzLnggLSBheGlzLnkgKiBzLCAgb2MgKiBheGlzLnkgKiBheGlzLnogKyBheGlzLnggKiBzLCAgb2MgKiBheGlzLnogKiBheGlzLnogKyBjLCAgICAgICAgICAgMC4wLCcgKyAnMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC4wLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMS4wKTsnICsgJ30nICsgVXRpbHMuZGVnVG9SYWRHTFNMRnVuY3Rpb25TdHJpbmcoKSArIFV0aWxzLnJhZFRvRGVnR0xTTEZ1bmN0aW9uU3RyaW5nKCkgKyBVdGlscy5jYXJ0ZXNpYW5Ub1NwaGVyaWNhbEdMU0xGdW5jdGlvblN0cmluZygpICsgVXRpbHMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW5HTFNMRnVuY3Rpb25TdHJpbmcoKSArIFV0aWxzLmdldFZlY3RvckdMU0xGdW5jdGlvblN0cmluZygpLFxuXG4gICAgICAgICAgICAvL+KWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZfilojilojilZcgIOKWiOKWiOKVlyAgICDilojilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWXXG4gICAgICAgICAgICAvL+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KVmuKVkOKVkOKWiOKWiOKVlOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKVmuKWiOKWiOKVl+KWiOKWiOKVlOKVnSAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilZDilZDilZ1cbiAgICAgICAgICAgIC8v4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZTilZ0gICDilojilojilZEgICDilojilojilojilojilojilZcgICDilZrilojilojilojilZTilZ0gICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAgICAg4paI4paI4paI4paI4paI4pWXXG4gICAgICAgICAgICAvL+KVmuKWiOKWiOKVlyDilojilojilZTilZ3ilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVlyAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVlOKVkOKVkOKVnSAgIOKWiOKWiOKVlOKWiOKWiOKVlyAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4paI4paI4pWR4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWRICAgICDilojilojilZTilZDilZDilZ1cbiAgICAgICAgICAgIC8vIOKVmuKWiOKWiOKWiOKWiOKVlOKVnSDilojilojilojilojilojilojilojilZfilojilojilZEgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVlOKVnSDilojilojilZcgICAg4paI4paI4paI4paI4paI4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZHilZrilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZdcbiAgICAgICAgICAgIC8vICDilZrilZDilZDilZDilZ0gIOKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWdICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ0gICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVnVxuICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICBtYXQ0IG5vZGVwb3MgPSBub2RlV01hdHJpeDtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWM0IG5vZGVWZXJ0ZXhQb3NpdGlvbiA9IG5vZGVWZXJ0ZXhQb3NbXTtcXG4gICAgICAgICAgICB2ZWM0IG5vZGVWZXJ0ZXhUZXggPSBub2RlVmVydGV4VGV4dHVyZVtdO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGZsb2F0IG5vZGVJZCA9IGRhdGFbXS54OyAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHZlYzIgeEdlb21ldHJ5Tm9kZSA9IGdldF9nbG9iYWxfaWQobm9kZUlkLCBidWZmZXJOb2Rlc1dpZHRoLCBcIiArIGdlb21ldHJ5TGVuZ3RoLnRvRml4ZWQoMSkgKyAoXCIpOyBcIiArIFwiXFxuXFxuICAgICAgICAgICAgdmVjNCBjdXJyZW50UG9zaXRpb24gPSBwb3NYWVpXW3hHZW9tZXRyeU5vZGVdO1xcbiAgICAgICAgICAgIHZlYzMgb3Bwb3NpdGVQb3NpdGlvbiA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7XFxuICAgICAgICAgICAgXFxuXFxuICAgICAgICAgICAgZmxvYXQgY3VycmVudExpbmVWZXJ0ZXggPSBkYXRhW10uejsgXCIgKyBcIlxcbiAgICAgICAgICAgIGZsb2F0IHZlcnRleENvdW50ID0gMS4wO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWM0IG5vZGVWZXJ0ZXhDb2xvciA9IHZlYzQoMS4wLCAxLjAsIDEuMCwgMS4wKTtcXG4gICAgICAgICAgICB2ZWM0IG5vZGVWZXJ0ZXhDb2xvck5ldEVycm9yID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAxLjApO1xcbiAgICAgICAgICAgIHZWZXJ0ZXhVViA9IHZlYzIoLTEuMCwgLTEuMCk7XFxuXFxuICAgICAgICAgICAgaWYoaXNOb2RlID09IDEuMCkge1xcbiAgICAgICAgICAgICAgICBmbG9hdCBmb3V0cHV0ID0gZGF0YUJbeEdlb21ldHJ5Tm9kZV0uejtcXG4gICAgICAgICAgICAgICAgZmxvYXQgZXJyb3IgPSBkYXRhQlt4R2VvbWV0cnlOb2RlXS55O1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdmVjNCgwLjAsIDAuMSwgMC4wLCAxLjApO1xcblxcbiAgICAgICAgICAgICAgICBtYXQ0IG1tID0gcm90YXRpb25NYXRyaXgodmVjMygxLjAsMC4wLDAuMCksICgzLjE0MTYvMi4wKSozLjApO1xcbiAgICAgICAgICAgICAgICBub2RlcG9zID0gbm9kZXBvcyptbTtcXG4gICAgICAgICAgICAgICAgZmxvYXQgbm9kZUltZ0lkID0gbm9kZUltZ0lkW107XFxuXFxuICAgICAgICAgICAgICAgIGlmKG5vZGVJbWdJZCAhPSAtMS4wKSB7XFxuICAgICAgICAgICAgICAgICAgICB2VXNlVGV4ID0gMS4wO1xcbiAgICAgICAgICAgICAgICAgICAgdlZlcnRleFVWID0gZ2V0MkRmcm9tMUQobm9kZUltZ0lkLCBub2RlSW1nQ29sdW1ucykrdmVjMihub2RlVmVydGV4VGV4dHVyZS54L25vZGVJbWdDb2x1bW5zLG5vZGVWZXJ0ZXhUZXh0dXJlLnkvbm9kZUltZ0NvbHVtbnMpO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIG5vZGVWZXJ0ZXhDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcXG4gICAgICAgICAgICAgICAgaWYoZm91dHB1dCA+IDAuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZlcnRleENvbG9yID0gdmVjNChhYnMoZm91dHB1dCksIGFicyhmb3V0cHV0KSwgYWJzKGZvdXRwdXQpLCAxLjApO1xcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZm91dHB1dCA8IDAuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZlcnRleENvbG9yID0gdmVjNChhYnMoZm91dHB1dCksIDAuMCwgMC4wLCAxLjApO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIGlmKGVycm9yID4gMC4wKSB7XFxuICAgICAgICAgICAgICAgICAgICBub2RlVmVydGV4Q29sb3JOZXRFcnJvciA9IHZlYzQoMC4wLCBhYnMoZXJyb3IpLCAwLjAsIDEuMCk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihlcnJvciA8IDAuMCkge1xcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZlcnRleENvbG9yTmV0RXJyb3IgPSB2ZWM0KGFicyhlcnJvciksIDAuMCwgMC4wLCAxLjApO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZlcnRleENvbG9yTmV0RXJyb3IgPSB2ZWM0KDAuMCwwLjAsMC4wLCAwLjApO1xcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIHZJc1NlbGVjdGVkID0gKGlkVG9EcmFnID09IGRhdGFbXS54KSA/IDEuMCA6IDAuMDtcXG4gICAgICAgICAgICAgICAgdklzSG92ZXIgPSAoaWRUb0hvdmVyID09IGRhdGFbXS54KSA/IDEuMCA6IDAuMDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYoaXNMaW5rID09IDEuMCkgeyAgICAgICAgXFxuICAgICAgICAgICAgICAgIGZsb2F0IGZvdXRwdXQgPSBkYXRhQlt4R2VvbWV0cnlOb2RlXS56O1xcbiAgICAgICAgICAgICAgICBmbG9hdCBlcnJvciA9IGRhdGFCW3hHZW9tZXRyeU5vZGVdLnc7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBmbG9hdCBub2RlSWRPcHBvc2l0ZSA9IGRhdGFbXS55O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgdmVjMiB4R2VvbWV0cnlOb2RlX29wcG9zaXRlID0gZ2V0X2dsb2JhbF9pZChub2RlSWRPcHBvc2l0ZSwgYnVmZmVyTm9kZXNXaWR0aCwgXCIpICsgZ2VvbWV0cnlMZW5ndGgudG9GaXhlZCgxKSArIChcIik7XFxuICAgICAgICAgICAgICAgIHZlYzMgb3Bwb3NpdGVQb3NpdGlvbiA9IHBvc1hZWldbeEdlb21ldHJ5Tm9kZV9vcHBvc2l0ZV0ueHl6O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgXCIgKyBWRlBfTk9ERS5saW5rU3RyKCkgKyBcIlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdmVjNChkaXJOKihsaW5lSW5jcmVtZW50cypjdXJyZW50TGluZVZlcnRleCksIDEuMCk7IFwiICsgXCJcXG5cXG4gICAgICAgICAgICAgICAgdklzU2VsZWN0ZWQgPSAoaWRUb0RyYWcgPT0gZGF0YVtdLnggfHwgaWRUb0RyYWcgPT0gZGF0YVtdLnkpID8gMS4wIDogMC4wO1xcbiAgICAgICAgICAgICAgICB2SXNIb3ZlciA9IChpZFRvSG92ZXIgPT0gZGF0YVtdLnggfHwgaWRUb0hvdmVyID09IGRhdGFbXS55KSA/IDEuMCA6IDAuMDtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIG5vZGVWZXJ0ZXhDb2xvciA9IHZlYzQoYWJzKGZvdXRwdXQpLCBhYnMoZm91dHB1dCksIGFicyhmb3V0cHV0KSwgMS4wKTtcXG5cXG4gICAgICAgICAgICAgICAgaWYoZXJyb3IgPiAwLjApIHtcXG4gICAgICAgICAgICAgICAgICAgIG5vZGVWZXJ0ZXhDb2xvck5ldEVycm9yID0gdmVjNCgwLjAsIGFicyhlcnJvciksIDAuMCwgMS4wKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKGVycm9yIDwgMC4wKSB7XFxuICAgICAgICAgICAgICAgICAgICBub2RlVmVydGV4Q29sb3JOZXRFcnJvciA9IHZlYzQoYWJzKGVycm9yKSwgMC4wLCAwLjAsIDEuMCk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICBub2RlVmVydGV4Q29sb3JOZXRFcnJvciA9IHZlYzQoMC4wLDAuMCwwLjAsIDAuMCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgdk5vZGVJZE9wcG9zaXRlID0gbm9kZUlkT3Bwb3NpdGU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmKGlzQXJyb3cgPT0gMS4wKSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IG5vZGVJZE9wcG9zaXRlID0gZGF0YVtdLnk7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICB2ZWMyIHhHZW9tZXRyeU5vZGVfb3Bwb3NpdGUgPSBnZXRfZ2xvYmFsX2lkKG5vZGVJZE9wcG9zaXRlLCBidWZmZXJOb2Rlc1dpZHRoLCBcIikgKyBnZW9tZXRyeUxlbmd0aC50b0ZpeGVkKDEpICsgKFwiKTtcXG4gICAgICAgICAgICAgICAgdmVjMyBvcHBvc2l0ZVBvc2l0aW9uID0gcG9zWFlaV1t4R2VvbWV0cnlOb2RlX29wcG9zaXRlXS54eXo7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICBcIiArIFZGUF9OT0RFLmxpbmtTdHIoKSArIFwiICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICB2ZWMzIGN1cnJlbnRQb3NpdGlvblRNUDtcXG4gICAgICAgICAgICAgICAgXCIgKyBcIlxcbiAgICAgICAgICAgICAgICBmbG9hdCBjdXJyZW50TGluZVZlcnRleFUgPSB2ZXJ0ZXhDb3VudC0xLjA7XFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvblRNUCA9IG9wcG9zaXRlUG9zaXRpb24rKChkaXJOKi0xLjApKihsaW5lSW5jcmVtZW50cypjdXJyZW50TGluZVZlcnRleFUpKTtcXG5cXG4gICAgICAgICAgICAgICAgbWF0NCBwcCA9IGxvb2tBdChjdXJyZW50UG9zaXRpb25UTVAsIHZlYzMoY3VycmVudFBvc2l0aW9uLngsIGN1cnJlbnRQb3NpdGlvbi55LCBjdXJyZW50UG9zaXRpb24ueiksIHZlYzMoMC4wLCAxLjAsIDAuMCkpO1xcbiAgICAgICAgICAgICAgICBwcCA9IHRyYW5zcG9zZShwcCk7XFxuICAgICAgICAgICAgICAgIG5vZGVwb3NbMF1bMF0gPSBwcFswXVswXTtcXG4gICAgICAgICAgICAgICAgbm9kZXBvc1swXVsxXSA9IHBwWzFdWzBdO1xcbiAgICAgICAgICAgICAgICBub2RlcG9zWzBdWzJdID0gcHBbMl1bMF07XFxuXFxuICAgICAgICAgICAgICAgIG5vZGVwb3NbMV1bMF0gPSBwcFswXVsxXTtcXG4gICAgICAgICAgICAgICAgbm9kZXBvc1sxXVsxXSA9IHBwWzFdWzFdO1xcbiAgICAgICAgICAgICAgICBub2RlcG9zWzFdWzJdID0gcHBbMl1bMV07XFxuXFxuICAgICAgICAgICAgICAgIG5vZGVwb3NbMl1bMF0gPSBwcFswXVsyXTtcXG4gICAgICAgICAgICAgICAgbm9kZXBvc1syXVsxXSA9IHBwWzFdWzJdO1xcbiAgICAgICAgICAgICAgICBub2RlcG9zWzJdWzJdID0gcHBbMl1bMl07XFxuXFxuICAgICAgICAgICAgICAgIFwiICsgXCJcXG4gICAgICAgICAgICAgICAgZGlyID0gY3VycmVudFBvc2l0aW9uVE1QLXZlYzMoY3VycmVudFBvc2l0aW9uLngsIGN1cnJlbnRQb3NpdGlvbi55LCBjdXJyZW50UG9zaXRpb24ueik7XFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB2ZWM0KG5vcm1hbGl6ZShkaXIpLDEuMCkqMi4wO1xcblxcbiAgICAgICAgICAgICAgICB2SXNTZWxlY3RlZCA9IChpZFRvRHJhZyA9PSBkYXRhW10ueCB8fCBpZFRvRHJhZyA9PSBkYXRhW10ueSkgPyAxLjAgOiAwLjA7XFxuICAgICAgICAgICAgICAgIHZJc0hvdmVyID0gKGlkVG9Ib3ZlciA9PSBkYXRhW10ueCB8fCBpZFRvSG92ZXIgPT0gZGF0YVtdLnkpID8gMS4wIDogMC4wO1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgdk5vZGVJZE9wcG9zaXRlID0gbm9kZUlkT3Bwb3NpdGU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmKGlzTm9kZVRleHQgPT0gMS4wKSB7XFxuICAgICAgICAgICAgICAgIGZsb2F0IGZvdXRwdXQgPSBkYXRhQlt4R2VvbWV0cnlOb2RlXS56O1xcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgZmxvYXQgbGV0SWQgPSAoc2hvd1ZhbHVlcyA9PSAxLjApID8gZ2V0RGlnaXQoZGF0YVtdLnksIGZvdXRwdXQpIDogbGV0dGVySWRbXTtcXG4gICAgICAgICAgICAgICAgbWF0NCBtbSA9IHJvdGF0aW9uTWF0cml4KHZlYzMoMS4wLDAuMCwwLjApLCAoMy4xNDE2LzIuMCkqMy4wKTtcXG4gICAgICAgICAgICAgICAgbm9kZXBvcyA9IG5vZGVwb3MqbW07XFxuXFxuICAgICAgICAgICAgICAgIHZWZXJ0ZXhVViA9IGdldDJEZnJvbTFEKGxldElkLCBmb250SW1nQ29sdW1ucykrdmVjMihub2RlVmVydGV4VGV4dHVyZS54L2ZvbnRJbWdDb2x1bW5zLG5vZGVWZXJ0ZXhUZXh0dXJlLnkvZm9udEltZ0NvbHVtbnMpO1xcbiAgICAgICAgICAgICAgICBub2RlVmVydGV4UG9zaXRpb24gPSB2ZWM0KG5vZGVWZXJ0ZXhQb3NpdGlvbi54KjAuMSwgbm9kZVZlcnRleFBvc2l0aW9uLnkqMC4xLCBub2RlVmVydGV4UG9zaXRpb24ueiowLjEsIDEuMCk7XFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbi54ICs9IDMuNTtcXG4gICAgICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uLnkgKz0gMC41O1xcblxcbiAgICAgICAgICAgICAgICB2SXNTZWxlY3RlZCA9IChpZFRvRHJhZyA9PSBkYXRhW10ueCkgPyAxLjAgOiAwLjA7XFxuICAgICAgICAgICAgICAgIHZJc0hvdmVyID0gKGlkVG9Ib3ZlciA9PSBkYXRhW10ueCkgPyAxLjAgOiAwLjA7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICB2SXN0YXJnZXQgPSAoY3VycmVudExpbmVWZXJ0ZXggPT0gMS4wKSA/IDEuMCA6IDAuMDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgbm9kZXBvc1szXVswXSA9IGN1cnJlbnRQb3NpdGlvbi54O1xcbiAgICAgICAgICAgIG5vZGVwb3NbM11bMV0gPSBjdXJyZW50UG9zaXRpb24ueTtcXG4gICAgICAgICAgICBub2RlcG9zWzNdWzJdID0gY3VycmVudFBvc2l0aW9uLno7XFxuXFxuICAgICAgICAgICAgbWF0NCBub2RlcG9zRyA9IG5vZGVXTWF0cml4O1xcbiAgICAgICAgICAgIHZXTk1hdHJpeCA9IG5vZGVwb3NHICogbm9kZVZlcnRleE5vcm1hbFtdO1xcblxcbiAgICAgICAgICAgIHZVc2VDcm9zc2hhaXIgPSAwLjA7XFxuICAgICAgICAgICAgXFxuXFxuICAgICAgICAgICAgXCIgKyBjdXN0b21Db2RlICsgXCJcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2RGlzdCA9IG1heCgwLjMsIDEuMC0oZGlzdGFuY2UoY3VycmVudFBvc2l0aW9uLnh5eiwgb3Bwb3NpdGVQb3NpdGlvbikqMC4wMSkpOyBcIiArIFwiXFxuICAgICAgICAgICAgdlZlcnRleENvbG9yID0gbm9kZVZlcnRleENvbG9yO1xcbiAgICAgICAgICAgIHZWZXJ0ZXhDb2xvck5ldEVycm9yID0gbm9kZVZlcnRleENvbG9yTmV0RXJyb3I7XFxuICAgICAgICAgICAgdlVWID0gbm9kZVZlcnRleFRleHR1cmU7XFxuICAgICAgICAgICAgdk5vZGVJZCA9IG5vZGVJZDtcXG5cXG5cXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IFBNYXRyaXggKiBjYW1lcmFXTWF0cml4ICogbm9kZXBvcyAqIG5vZGVWZXJ0ZXhQb3NpdGlvbjtcIiksXG5cbiAgICAgICAgICAgIC8v4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilZcgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilZcgICDilojilojilojilZfilojilojilojilojilojilojilojilZfilojilojilojilZcgICDilojilojilZfilojilojilojilojilojilojilojilojilZcgICAg4paI4paI4pWXICDilojilojilZfilojilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVl1xuICAgICAgICAgICAgLy/ilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilZDilZ0g4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWR4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWdICAgIOKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXXG4gICAgICAgICAgICAvL+KWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilojilZfilojilojilZTilojilojilojilojilZTilojilojilZHilojilojilojilojilojilZcgIOKWiOKWiOKVlOKWiOKWiOKVlyDilojilojilZEgICDilojilojilZEgICAgICAg4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilojilZHilojilojilZEgIOKWiOKWiOKVkVxuICAgICAgICAgICAgLy/ilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWR4pWa4paI4paI4pWX4paI4paI4pWRICAg4paI4paI4pWRICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWR4paI4paI4pWRICDilojilojilZFcbiAgICAgICAgICAgIC8v4paI4paI4pWRICAgICDilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRIOKVmuKVkOKVnSDilojilojilZHilojilojilojilojilojilojilojilZfilojilojilZEg4pWa4paI4paI4paI4paI4pWRICAg4paI4paI4pWRICAgICAgIOKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWRICDilojilojilZHilojilojilojilojilojilojilZTilZ1cbiAgICAgICAgICAgIC8v4pWa4pWQ4pWdICAgICDilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZ0gICAgIOKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWdICAg4pWa4pWQ4pWdICAgICAgIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZ1cbiAgICAgICAgICAgIFwidmFyeWluZyB2ZWM0IHZWZXJ0ZXhDb2xvcjtcXG4gICAgICAgICAgICB2YXJ5aW5nIHZlYzQgdlZlcnRleENvbG9yTmV0RXJyb3I7XFxuICAgICAgICAgICAgdmFyeWluZyB2ZWM0IHZVVjtcXG4gICAgICAgXFx0XFx0dmFyeWluZyB2ZWMyIHZWZXJ0ZXhVVjtcXG4gICAgICAgXFx0XFx0dmFyeWluZyBmbG9hdCB2VXNlVGV4O1xcbiAgICAgICBcXHRcXHR2YXJ5aW5nIHZlYzQgdldOTWF0cml4O1xcbiAgICAgICAgICAgIHZhcnlpbmcgZmxvYXQgdk5vZGVJZDtcXG4gICAgICAgICAgICB2YXJ5aW5nIGZsb2F0IHZOb2RlSWRPcHBvc2l0ZTtcXG4gICAgICAgXFx0XFx0dmFyeWluZyBmbG9hdCB2RGlzdDtcXG4gICAgICAgXFx0XFx0dmFyeWluZyBmbG9hdCB2SXNTZWxlY3RlZDtcXG4gICAgICAgICAgICB2YXJ5aW5nIGZsb2F0IHZJc0hvdmVyO1xcbiAgICAgICBcXHRcXHR2YXJ5aW5nIGZsb2F0IHZVc2VDcm9zc2hhaXI7XFxuICAgICAgIFxcdFxcdHZhcnlpbmcgZmxvYXQgdklzdGFyZ2V0O1wiLFxuXG4gICAgICAgICAgICAvL+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZcg4paI4paI4paI4pWXICAg4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4paI4paI4paI4paI4paI4paI4pWXICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZdcbiAgICAgICAgICAgIC8v4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWdIOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilojilojilZcgIOKWiOKWiOKVkeKVmuKVkOKVkOKWiOKWiOKVlOKVkOKVkOKVnSAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilZDilZDilZ1cbiAgICAgICAgICAgIC8v4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilojilZHilojilojilZEgIOKWiOKWiOKWiOKVl+KWiOKWiOKVlOKWiOKWiOKWiOKWiOKVlOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWU4paI4paI4pWXIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgICAgICDilojilojilojilojilojilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZEgICDilojilojilZHilojilojilojilojilojilojilZTilZ3ilojilojilZEgICAgIOKWiOKWiOKWiOKWiOKWiOKVl1xuICAgICAgICAgICAgLy/ilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkeKVmuKWiOKWiOKVlOKVneKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWR4pWa4paI4paI4pWX4paI4paI4pWRICAg4paI4paI4pWRICAgICAgIOKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSAgICAg4paI4paI4pWU4pWQ4pWQ4pWdXG4gICAgICAgICAgICAvL+KWiOKWiOKVkSAgICAg4paI4paI4pWRICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSDilZrilZDilZ0g4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWRIOKVmuKWiOKWiOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgICAgICDilojilojilojilojilojilojilojilZHilZrilojilojilojilojilojilojilZTilZ3ilZrilojilojilojilojilojilojilZTilZ3ilojilojilZEgIOKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl1xuICAgICAgICAgICAgLy/ilZrilZDilZ0gICAgIOKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAgICAg4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ0gICDilZrilZDilZ0gICAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVnVxuICAgICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2VmVydGV4Q29sb3I7XFxuJyArICd2ZWM0IGNvbG9yQiA9IHZWZXJ0ZXhDb2xvck5ldEVycm9yO1xcbicgKyAndmVjNCBjb2xvck9yYW5nZSA9IHZlYzQoMjU1LjAvMjU1LjAsIDEzMS4wLzI1NS4wLCAwLjAvMjU1LjAsIDEuMCk7JyArICd2ZWM0IGNvbG9yT3JhbmdlRGFyayA9IHZlYzQoMjU1LjAvMjU1LjAsIDgwLjAvMjU1LjAsIDAuMC8yNTUuMCwgMS4wKTsnICsgJ3ZlYzQgY29sb3JQdXJwbGUgPSB2ZWM0KDEzMi4wLzI1NS4wLCAwLjAvMjU1LjAsIDI1NS4wLzI1NS4wLCAxLjApOycgKyAndmVjNCBmY29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7JyArICdpZihpc05vZGUgPT0gMS4wKSB7JyArICdpZih2VXNlVGV4ID09IDEuMCkgeycgKyAndmVjNCB0ZXg7JyArICdpZih2VXNlQ3Jvc3NoYWlyID09IDEuMCkgeycgKyAndGV4ID0gbm9kZXNJbWdDcm9zc2hhaXJbdlZlcnRleFVWLnh5XTsnICsgJ30gZWxzZSBpZih2SXNTZWxlY3RlZCA9PSAxLjApIHsnICsgJ2NvbG9yID0gY29sb3JPcmFuZ2VEYXJrOycgKyAndGV4ID0gbm9kZXNJbWdDcm9zc2hhaXJbdlZlcnRleFVWLnh5XTsnICsgJ30gZWxzZSBpZih2SXNIb3ZlciA9PSAxLjApIHsnICsgJ2NvbG9yID0gY29sb3JQdXJwbGU7JyArICd0ZXggPSBub2Rlc0ltZ1t2VmVydGV4VVYueHldOycgKyAnfSBlbHNlIHsnICsgJ3RleCA9IG5vZGVzSW1nW3ZWZXJ0ZXhVVi54eV07JyArICd9JyArICdjb2xvciA9ICcgKyBWRlBfTk9ERS5ub2Rlc0RyYXdNb2RlKGdlb21ldHJ5TGVuZ3RoKSArICc7XFxuJyArICd9JyArICdpZihjb2xvci5hIDwgMC4xKSBkaXNjYXJkOycgKyAnZmNvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICAgICAvLyBoYWxmIHVwOiBvdXB1dDsgaGFsZiBkb3duOiBlcnJvclxuICAgICAgICAgICAgJ2lmKHZVVi55ID4gKDAuNykpICcgKyAnZmNvbG9yID0gY29sb3JCO1xcbicgKyAvLyAwLjc1LShjb2xvckIudyoxLjApICAgJ2Zjb2xvciA9ICh2VVYueSA8ICgwLjUpKSA/IGNvbG9yIDogKChjb2xvckIudyA9PSAwLjApP2NvbG9yOmNvbG9yQik7XFxuJytcbiAgICAgICAgICAgICd9IGVsc2UgaWYoaXNMaW5rID09IDEuMCkgeycgKyAnaWYodklzU2VsZWN0ZWQgPT0gMS4wKSAnICsgJ2NvbG9yID0gY29sb3JPcmFuZ2U7JyArICdlbHNlIGlmKHZJc0hvdmVyID09IDEuMCkgJyArICdjb2xvciA9IGNvbG9yUHVycGxlOycgK1xuXG4gICAgICAgICAgICAvLyB3ZWlnaHQgY29sb3JcbiAgICAgICAgICAgICd2ZWMyIHhBZGpNYXRDdXJyZW50ID0gZ2V0X2dsb2JhbF9pZCh2ZWMyKHZOb2RlSWRPcHBvc2l0ZSwgdk5vZGVJZCksIHdpZHRoQWRqTWF0cml4KTsnICsgJ3ZlYzQgcGl4QWRqTWF0QUN1cnJlbnQgPSBhZGphY2VuY3lNYXRyaXhbeEFkak1hdEN1cnJlbnRdO1xcbicgK1xuXG4gICAgICAgICAgICAvLyB4IHdlaWdodFxuICAgICAgICAgICAgJ2lmKHBpeEFkak1hdEFDdXJyZW50LnogPiAwLjApICcgKyAnZmNvbG9yID0gdmVjNCgwLjAsIHBpeEFkak1hdEFDdXJyZW50LnosIDAuMCwgYWJzKHBpeEFkak1hdEFDdXJyZW50LnopKTtcXG4nICsgJ2Vsc2UgJyArICdmY29sb3IgPSB2ZWM0KGFicyhwaXhBZGpNYXRBQ3VycmVudC56KSwgMC4wLCAwLjAsIGFicyhwaXhBZGpNYXRBQ3VycmVudC56KSk7XFxuJyArXG5cbiAgICAgICAgICAgIC8vIHggb3V0cHV0XG4gICAgICAgICAgICAnaWYobXVsdGlwbHlPdXRwdXQgPT0gMS4wKSAnICsgJ2Zjb2xvciAqPSB2ZWM0KGNvbG9yLnh5eiwgMS4wKTtcXG4nICsgJ30gZWxzZSBpZihpc0Fycm93ID09IDEuMCkgeycgKyAnaWYodklzdGFyZ2V0ID09IDEuMCkgeycgKyAnaWYodklzU2VsZWN0ZWQgPT0gMS4wKSB7JyArICdjb2xvciA9IHZlYzQoY29sb3JPcmFuZ2UucmdiKnZEaXN0LCAxLjApO1xcbicgKyAnfSBlbHNlIGlmKHZJc0hvdmVyID09IDEuMCkgeycgKyAnY29sb3IgPSB2ZWM0KGNvbG9yUHVycGxlLnJnYip2RGlzdCwgMS4wKTtcXG4nICsgJ30nICsgJ30gZWxzZSB7JyArICdjb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMC4wKTsnICsgJ30nICsgJ2Zjb2xvciA9IGNvbG9yO1xcbicgKyAnfSBlbHNlIGlmKGlzTm9kZVRleHQgPT0gMS4wKSB7JyArICdmY29sb3IgPSBmb250c0ltZ1t2VmVydGV4VVYueHldO1xcbicgKyAnfScgKyAncmV0dXJuIFtmY29sb3JdOyddO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibGlua1N0clwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGlua1N0cigpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcblxcdCAgICB2ZWMzIGRpciA9IG9wcG9zaXRlUG9zaXRpb24tdmVjMyhjdXJyZW50UG9zaXRpb24ueCwgY3VycmVudFBvc2l0aW9uLnksIGN1cnJlbnRQb3NpdGlvbi56KTtcXG4gICAgICAgIGZsb2F0IGRpc3QgPSBsZW5ndGgoZGlyKTtcXG4gICAgICAgIGZsb2F0IGxpbmVJbmNyZW1lbnRzID0gZGlzdC92ZXJ0ZXhDb3VudDtcXG4gICAgICAgIHZlYzMgZGlyTiA9IG5vcm1hbGl6ZShkaXIpO1xcblxcbiAgICAgICAgZmxvYXQgcmVwZWF0SWQgPSBkYXRhW10udztcXG4gICAgICAgIHZlYzMgY3IgPSBjcm9zcyhkaXJOLCB2ZWMzKDAuMCwgMS4wLCAwLjApKTtcXG4gICAgICAgIGZsb2F0IGN1cnJlbnRMaW5lVmVydGV4U1FSVCA9IGFicyggY3VycmVudExpbmVWZXJ0ZXgtKHZlcnRleENvdW50LzIuMCkgKS8odmVydGV4Q291bnQvMi4wKTtcXG4gICAgICAgIGN1cnJlbnRMaW5lVmVydGV4U1FSVCA9IHNxcnQoMS4wLWN1cnJlbnRMaW5lVmVydGV4U1FSVCk7XCI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJub2Rlc0RyYXdNb2RlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBub2Rlc0RyYXdNb2RlKGdlb21ldHJ5TGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnlMZW5ndGggPT09IDEpIHJldHVybiBcInZlYzQoY29sb3IucmdiLCAxLjApXCI7ZWxzZSByZXR1cm4gXCJ2ZWM0KHRleC5yZ2IqY29sb3IucmdiLCB0ZXguYSlcIjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBWRlBfTk9ERTtcbn0oKTtcblxuZ2xvYmFsLlZGUF9OT0RFID0gVkZQX05PREU7XG5tb2R1bGUuZXhwb3J0cy5WRlBfTk9ERSA9IFZGUF9OT0RFOyJdfQ==
