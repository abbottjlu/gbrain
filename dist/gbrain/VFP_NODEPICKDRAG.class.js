(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
(function (global){
!function(){function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(e,t){return i(n,e,t)}):"object"==typeof t&&t.exports?t.exports=i(n,e("get-size"),e("unidragger")):n.Draggabilly=i(n,n.getSize,n.Unidragger)}(window,function(e,t,n){"use strict";function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){this.element="string"==typeof e?document.querySelector(e):e,s&&(this.$element=s(this.element)),this.options=i({},this.constructor.defaults),this.option(t),this._create()}function r(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}var s=e.jQuery,a=o.prototype=Object.create(n.prototype);o.defaults={},a.option=function(e){i(this.options,e)};var l={relative:!0,absolute:!0,fixed:!0};return a._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=i({},this.position);var e=getComputedStyle(this.element);l[e.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},a.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},a.dispatchEvent=function(e,t,n){var i=[t].concat(n);this.emitEvent(e,i),this.dispatchJQueryEvent(e,t,n)},a.dispatchJQueryEvent=function(t,n,i){var o=e.jQuery;if(o&&this.$element){var r=o.Event(n);r.type=t,this.$element.trigger(r,i)}},a._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},a._getPositionCoord=function(e,n){if(-1!=e.indexOf("%")){var i=t(this.element.parentNode);return i?parseFloat(e)/100*i[n]:0}return parseInt(e,10)},a._addTransformPosition=function(e){var t=e.transform;if(0===t.indexOf("matrix")){var n=t.split(","),i=0===t.indexOf("matrix3d")?12:4,o=parseInt(n[i],10),r=parseInt(n[i+1],10);this.position.x+=o,this.position.y+=r}},a.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",e,[t])},a.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},a.measureContainment=function(){var e=this.getContainer();if(e){var n=t(this.element),i=t(e),o=this.element.getBoundingClientRect(),r=e.getBoundingClientRect(),s=i.borderLeftWidth+i.borderRightWidth,a=i.borderTopWidth+i.borderBottomWidth,l=this.relativeStartPosition={x:o.left-(r.left+i.borderLeftWidth),y:o.top-(r.top+i.borderTopWidth)};this.containSize={width:i.width-s-l.x-n.width,height:i.height-a-l.y-n.height}}},a.getContainer=function(){var e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},a.onPointerMove=function(e,t,n){this.dispatchJQueryEvent("pointerMove",e,[t,n])},a.dragMove=function(e,t,n){if(this.isEnabled){var i=n.x,o=n.y,s=this.options.grid,a=s&&s[0],l=s&&s[1];i=r(i,a),o=r(o,l),i=this.containDrag("x",i,a),o=this.containDrag("y",o,l),i="y"==this.options.axis?0:i,o="x"==this.options.axis?0:o,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+o,this.dragPoint.x=i,this.dragPoint.y=o,this.dispatchEvent("dragMove",e,[t,n])}},a.containDrag=function(e,t,n){if(!this.options.containment)return t;var i="x"==e?"width":"height",o=r(-this.relativeStartPosition[e],n,"ceil"),s=this.containSize[i];return s=r(s,n,"floor"),Math.max(o,Math.min(s,t))},a.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",e,[t])},a.dragEnd=function(e,t){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},a.animate=function(){if(this.isDragging){this.positionDrag();var e=this;requestAnimationFrame(function(){e.animate()})}},a.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},a.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},a.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},a.enable=function(){this.isEnabled=!0},a.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},a._init=function(){},s&&s.bridget&&s.bridget("draggabilly",o),o})},{"get-size":3,unidragger:4}],2:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports=n():e.EvEmitter=n()}("undefined"!=typeof window?window:this,function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})},{}],3:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof t&&t.exports?t.exports=n():e.getSize=n()}(window,function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}function t(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<l;t++)e[a[t]]=0;return e}function n(e){var t=getComputedStyle(e);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function i(){if(!u){u=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var s=n(t);r=200==Math.round(e(s.width)),o.isBoxSizeOuter=r,i.removeChild(t)}}function o(o){if(i(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var s=n(o);if("none"==s.display)return t();var u={};u.width=o.offsetWidth,u.height=o.offsetHeight;for(var c=u.isBorderBox="border-box"==s.boxSizing,d=0;d<l;d++){var h=a[d],f=s[h],p=parseFloat(f);u[h]=isNaN(p)?0:p}var g=u.paddingLeft+u.paddingRight,v=u.paddingTop+u.paddingBottom,_=u.marginLeft+u.marginRight,m=u.marginTop+u.marginBottom,y=u.borderLeftWidth+u.borderRightWidth,b=u.borderTopWidth+u.borderBottomWidth,E=c&&r,C=e(s.width);!1!==C&&(u.width=C+(E?0:g+y));var T=e(s.height);return!1!==T&&(u.height=T+(E?0:v+b)),u.innerWidth=u.width-(g+y),u.innerHeight=u.height-(v+b),u.outerWidth=u.width+_,u.outerHeight=u.height+m,u}}var r,s="undefined"==typeof console?function(){}:function(e){console.error(e)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=a.length,u=!1;return o})},{}],4:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(e){return i(n,e)}):"object"==typeof t&&t.exports?t.exports=i(n,e("unipointer")):n.Unidragger=i(n,n.Unipointer)}(window,function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",o=0;o<this.handles.length;o++){var r=this.handles[o];this._bindStartEvent(r,t),r[n]("click",this),e.PointerEvent&&(r.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},r={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(e){var t=o[e.target.nodeName],n=r[e.target.type],i=!t||n;return i||this._pointerReset(),i},i.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},i.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},i._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},i.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},i._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},i.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},i._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},i.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},i._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},i.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},i.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},i._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n})},{unipointer:5}],5:[function(e,t,n){!function(n,i){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return i(n,e)}):"object"==typeof t&&t.exports?t.exports=i(n,e("ev-emitter")):n.Unipointer=i(n,n.EvEmitter)}(window,function(e,t){"use strict";function n(){}var i=n.prototype=Object.create(t.prototype);i.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i._bindStartEvent=function(t,n){var i=(n=void 0===n||n)?"addEventListener":"removeEventListener",o="mousedown";e.PointerEvent?o="pointerdown":"ontouchstart"in e&&(o="touchstart"),t[i](o,this)},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.onpointerdown=function(e){this._pointerDown(e,e)},i._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var n=o[t.type];n.forEach(function(t){e.addEventListener(t,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){e.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(e){this._pointerMove(e,e)},i.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i._pointerMove=function(e,t){this.pointerMove(e,t)},i.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.onmouseup=function(e){this._pointerUp(e,e)},i.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n})},{"ev-emitter":2}],6:[function(e,t,n){(function(t){!function(){function t(n,i,o){function r(a,l){if(!i[a]){if(!n[a]){var u="function"==typeof e&&e;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};n[a][0].call(d.exports,function(e){return r(n[a][1][e]||e)},d,d.exports,t,n,i,o)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}return t}()({1:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLBuffer.class"),a=e("./WebCLGLKernel.class"),l=e("./WebCLGLVertexFragmentProgram.class"),u=e("./WebCLGLUtils.class"),c=i.WebCLGL=function(){function e(t){o(this,e),this.utils=new u.WebCLGLUtils,this._gl=null,this.e=null,void 0===t||null===t?(this.e=document.createElement("canvas"),this.e.width=32,this.e.height=32,this._gl=u.WebCLGLUtils.getWebGLContextFromCanvas(this.e,{antialias:!1})):this._gl=t,this._arrExt={OES_texture_float:null,OES_texture_float_linear:null,OES_element_index_uint:null,WEBGL_draw_buffers:null};for(var n in this._arrExt)this._arrExt[n]=this._gl.getExtension(n),null==this._arrExt[n]&&console.error("extension "+n+" not available");this._maxDrawBuffers=null,this._arrExt.hasOwnProperty("WEBGL_draw_buffers")&&null!=this._arrExt.WEBGL_draw_buffers?(this._maxDrawBuffers=this._gl.getParameter(this._arrExt.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL),console.log("Max draw buffers: "+this._maxDrawBuffers)):console.log("Max draw buffers: 1");var i=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this.precision=0!==i.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n",this._currentTextureUnit=0,this._bufferWidth=0;var r=this.utils.loadQuad(void 0,1,1);this.vertexBuffer_QUAD=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(r.vertexArray),this._gl.STATIC_DRAW),this.indexBuffer_QUAD=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(r.indexArray),this._gl.STATIC_DRAW),this.arrayCopyTex=[];var s=this.precision+"attribute vec3 aVertexPosition;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nvCoord = aVertexPosition.xy*0.5+0.5;\n}\n",a=this.precision+"uniform sampler2D sampler_buffer;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_FragColor = texture2D(sampler_buffer, vCoord);}\n";this.shader_readpixels=this._gl.createProgram(),this.utils.createShader(this._gl,"CLGLREADPIXELS",s,a,this.shader_readpixels),this.attr_VertexPos=this._gl.getAttribLocation(this.shader_readpixels,"aVertexPosition"),this.sampler_buffer=this._gl.getUniformLocation(this.shader_readpixels,"sampler_buffer");var l=function(){return void 0!==this._maxDrawBuffers&&null!==this._maxDrawBuffers?"#extension GL_EXT_draw_buffers : require\n":""}.bind(this),c=(function(){for(var e="",t=0,n=this._maxDrawBuffers;t<n;t++)e+="layout(location = "+t+") out vec4 outCol"+t+";\n";return e}.bind(this),function(){for(var e="",t=0,n=this._maxDrawBuffers;t<n;t++)e+="gl_FragData["+t+"] = texture2D(uArrayCT["+t+"], vCoord);\n";return e}.bind(this));s=this.precision+"attribute vec3 aVertexPosition;\nvarying vec2 vCoord;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nvCoord = aVertexPosition.xy*0.5+0.5;\n}",a=l()+this.precision+"uniform sampler2D uArrayCT["+this._maxDrawBuffers+"];\nvarying vec2 vCoord;\nvoid main(void) {\n"+c()+"}",this.shader_copyTexture=this._gl.createProgram(),this.utils.createShader(this._gl,"CLGLCOPYTEXTURE",s,a,this.shader_copyTexture),this.attr_copyTexture_pos=this._gl.getAttribLocation(this.shader_copyTexture,"aVertexPosition");for(var d=0,h=this._maxDrawBuffers;d<h;d++)this.arrayCopyTex[d]=this._gl.getUniformLocation(this.shader_copyTexture,"uArrayCT["+d+"]");this.textureDataAux=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,2,2,0,this._gl.RGBA,this._gl.FLOAT,new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,1,1])),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,null)}return r(e,[{key:"getContext",value:function(){return this._gl}},{key:"getMaxDrawBuffers",value:function(){return this._maxDrawBuffers}},{key:"checkFramebufferStatus",value:function(){var e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER),t={};return t[this._gl.FRAMEBUFFER_COMPLETE]=!0,t[this._gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT: The attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete",t[this._gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT: There is no attachment",t[this._gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS: Height and width of the attachment are not the same",t[this._gl.FRAMEBUFFER_UNSUPPORTED]="FRAMEBUFFER_UNSUPPORTED: The format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer",!0===t[e]&&null!==t[e]||(console.log(t[e]),!1)}},{key:"copy",value:function(e,t){if(void 0!==t&&null!==t)if(void 0!==t[0]&&null!==t[0]){this._gl.viewport(0,0,t[0].W,t[0].H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,t[0].fBuffer);for(var n=[],i=0,o=t.length;i<o;i++)void 0!==t[i]&&null!==t[i]?(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"],this._gl.TEXTURE_2D,t[i].textureData,0),n[i]=this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"]):n[i]=this._gl.NONE;if(this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(n),!0===this.checkFramebufferStatus()){this._gl.useProgram(this.shader_copyTexture);for(var r=0,s=t.length;r<s;r++)this._gl.activeTexture(this._gl["TEXTURE"+r]),void 0!==t[r]&&null!==t[r]?this._gl.bindTexture(this._gl.TEXTURE_2D,t[r].textureDataTemp):this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.uniform1i(this.arrayCopyTex[r],r);this.copyNow(t)}}else this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null);else this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null)}},{key:"copyNow",value:function(e){this._gl.enableVertexAttribArray(this.attr_copyTexture_pos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(this.attr_copyTexture_pos,3,this._gl.FLOAT,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0)}},{key:"createBuffer",value:function(e,t,n){return new s.WebCLGLBuffer(this._gl,e,t,n)}},{key:"createKernel",value:function(e,t){return new a.WebCLGLKernel(this._gl,e,t)}},{key:"createVertexFragmentProgram",value:function(e,t,n,i){return new l.WebCLGLVertexFragmentProgram(this._gl,e,t,n,i)}},{key:"fillBuffer",value:function(e,t,n){this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,n),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL,this._gl.TEXTURE_2D,e,0);var i=[this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL];this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(i),void 0!==t&&null!==t&&this._gl.clearColor(t[0],t[1],t[2],t[3]),this._gl.clear(this._gl.COLOR_BUFFER_BIT)}},{key:"bindAttributeValue",value:function(e,t){void 0!==t&&null!==t?"float4_fromAttr"===e.type?(this._gl.enableVertexAttribArray(e.location[0]),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.vertexData0),this._gl.vertexAttribPointer(e.location[0],4,this._gl.FLOAT,!1,0,0)):"float_fromAttr"===e.type&&(this._gl.enableVertexAttribArray(e.location[0]),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.vertexData0),this._gl.vertexAttribPointer(e.location[0],1,this._gl.FLOAT,!1,0,0)):this._gl.disableVertexAttribArray(e.location[0])}},{key:"bindSamplerValue",value:function(e,t,n){this._currentTextureUnit<16?this._gl.activeTexture(this._gl["TEXTURE"+this._currentTextureUnit]):this._gl.activeTexture(this._gl.TEXTURE16),void 0!==n&&null!==n?(this._gl.bindTexture(this._gl.TEXTURE_2D,n.textureData),0===this._bufferWidth&&(this._bufferWidth=n.W,this._gl.uniform1f(e,this._bufferWidth))):this._gl.bindTexture(this._gl.TEXTURE_2D,this.textureDataAux),this._gl.uniform1i(t.location[0],this._currentTextureUnit),this._currentTextureUnit++}},{key:"bindUniformValue",value:function(e,t){void 0!==t&&null!==t&&("float"===e.type?t.constructor===Array?this._gl.uniform1fv(e.location[0],t):this._gl.uniform1f(e.location[0],t):"float4"===e.type?this._gl.uniform4f(e.location[0],t[0],t[1],t[2],t[3]):"mat4"===e.type&&this._gl.uniformMatrix4fv(e.location[0],!1,t))}},{key:"bindValue",value:function(e,t,n){switch(t.expectedMode){case"ATTRIBUTE":this.bindAttributeValue(t,n);break;case"SAMPLER":this.bindSamplerValue(e.uBufferWidth,t,n);break;case"UNIFORM":this.bindUniformValue(t,n)}}},{key:"bindFB",value:function(e,t){if(void 0!==e&&null!==e){if(void 0!==e[0]&&null!==e[0]){this._gl.viewport(0,0,e[0].W,e[0].H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,!0===t?e[0].fBufferTemp:e[0].fBuffer);for(var n=[],i=0,o=e.length;i<o;i++)if(void 0!==e[i]&&null!==e[i]){var r=!0===t?e[i].textureDataTemp:e[i].textureData;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"],this._gl.TEXTURE_2D,r,0),n[i]=this._arrExt.WEBGL_draw_buffers["COLOR_ATTACHMENT"+i+"_WEBGL"]}else n[i]=this._gl.NONE;return this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(n),this.checkFramebufferStatus()}return this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),!0}return this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),!0}},{key:"enqueueNDRangeKernel",value:function(e,t,n,i){if(this._bufferWidth=0,this._gl.useProgram(e.kernel),!0===this.bindFB(t,n)){this._currentTextureUnit=0;for(var o in e.in_values)this.bindValue(e,e.in_values[o],i[o]);this._gl.enableVertexAttribArray(e.attr_VertexPos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(e.attr_VertexPos,3,this._gl.FLOAT,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0)}}},{key:"enqueueVertexFragmentProgram",value:function(e,t,n,i,o,r){this._bufferWidth=0,this._gl.useProgram(e.vertexFragmentProgram);var s=void 0!==n&&null!==n?n:4;if(!0===this.bindFB(i,o)&&void 0!==t&&null!==t){this._currentTextureUnit=0;for(var a in e.in_vertex_values)this.bindValue(e,e.in_vertex_values[a],r[a]);for(var l in e.in_fragment_values)this.bindValue(e,e.in_fragment_values[l],r[l]);"VERTEX_INDEX"===t.mode?(this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,t.vertexData0),this._gl.drawElements(s,t.length,this._gl.UNSIGNED_SHORT,0)):this._gl.drawArrays(s,0,t.length)}}},{key:"readBuffer",value:function(e){void 0!==this.e&&null!==this.e&&(this.e.width=e.W,this.e.height=e.H),this._gl.useProgram(this.shader_readpixels),this._gl.viewport(0,0,e.W,e.H),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,e.fBufferTemp),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL,this._gl.TEXTURE_2D,e.textureDataTemp,0);var t=[this._arrExt.WEBGL_draw_buffers.COLOR_ATTACHMENT0_WEBGL];if(this._arrExt.WEBGL_draw_buffers.drawBuffersWEBGL(t),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,e.textureData),this._gl.uniform1i(this.sampler_buffer,0),this._gl.enableVertexAttribArray(this.attr_VertexPos),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexBuffer_QUAD),this._gl.vertexAttribPointer(this.attr_VertexPos,3,e._supportFormat,!1,0,0),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer_QUAD),this._gl.drawElements(this._gl.TRIANGLES,6,this._gl.UNSIGNED_SHORT,0),void 0!==e.outArrayFloat&&null!==e.outArrayFloat||(e.outArrayFloat=new Float32Array(e.W*e.H*4)),this._gl.readPixels(0,0,e.W,e.H,this._gl.RGBA,this._gl.FLOAT,e.outArrayFloat),"FLOAT"===e.type){for(var n=new Float32Array(e.outArrayFloat.length/4),i=0,o=e.outArrayFloat.length/4;i<o;i++)n[i]=e.outArrayFloat[4*i];e.outArrayFloat=n}return e.outArrayFloat}}],[{key:"enqueueReadBuffer_WebGLTexture",value:function(e){return e.textureData}}]),e}();t.WebCLGL=c,n.exports.WebCLGL=c}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLBuffer.class":2,"./WebCLGLKernel.class":4,"./WebCLGLUtils.class":5,"./WebCLGLVertexFragmentProgram.class":6}],2:[function(e,n,i){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i.WebCLGLBuffer=function(){function e(n,i,o,r){t(this,e),this._gl=n,this.type=void 0!==i||null!==i?i:"FLOAT",this._supportFormat=this._gl.FLOAT,this.linear=void 0===o&&null===o||o,this.mode=void 0!==r||null!==r?r:"SAMPLER",this.W=null,this.H=null,this.textureData=null,this.textureDataTemp=null,this.vertexData0=null,this.fBuffer=null,this.renderBuffer=null,this.fBufferTemp=null,this.renderBufferTemp=null,"SAMPLER"===this.mode&&(this.textureData=this._gl.createTexture(),this.textureDataTemp=this._gl.createTexture()),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode&&"VERTEX_INDEX"!==this.mode||(this.vertexData0=this._gl.createBuffer())}return o(e,[{key:"createFramebufferAndRenderbuffer",value:function(){var e=function(){var e=this._gl.createRenderbuffer();return this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,e),this._gl.renderbufferStorage(this._gl.RENDERBUFFER,this._gl.DEPTH_COMPONENT16,this.W,this.H),this._gl.bindRenderbuffer(this._gl.RENDERBUFFER,null),e}.bind(this);null!=this.fBuffer&&(this._gl.deleteFramebuffer(this.fBuffer),this._gl.deleteFramebuffer(this.fBufferTemp),this._gl.deleteRenderbuffer(this.renderBuffer),this._gl.deleteRenderbuffer(this.renderBufferTemp)),this.fBuffer=this._gl.createFramebuffer(),this.renderBuffer=e(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this.fBuffer),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,this.renderBuffer),this.fBufferTemp=this._gl.createFramebuffer(),this.renderBufferTemp=e(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this.fBufferTemp),this._gl.framebufferRenderbuffer(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.RENDERBUFFER,this.renderBufferTemp)}},{key:"writeWebGLTextureBuffer",value:function(e,t){var n=function(e,t){!1===t||void 0===t||null===t?this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,!1):this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,!0),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this._gl.bindTexture(this._gl.TEXTURE_2D,e)}.bind(this),i=function(e){e instanceof HTMLImageElement?"FLOAT4"===this.type&&this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._supportFormat,e):this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this.W,this.H,0,this._gl.RGBA,this._supportFormat,e)}.bind(this),o=function(){this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)}.bind(this);e instanceof WebGLTexture?(this.textureData=e,this.textureDataTemp=e):(n(this.textureData,t),i(e),o(),n(this.textureDataTemp,t),i(e),o()),this._gl.bindTexture(this._gl.TEXTURE_2D,null)}},{key:"writeBuffer",value:function(e,t,n){var i=function(e){if(!(e instanceof HTMLImageElement))if(this.length.constructor===Array?(this.length=this.length[0]*this.length[1],this.W=this.length[0],this.H=this.length[1]):(this.W=Math.ceil(Math.sqrt(this.length)),this.H=this.W),"FLOAT4"===this.type){e=e instanceof Float32Array?e:new Float32Array(e);var t=this.W*this.H*4;if(e.length!==t){for(var n=new Float32Array(t),i=0;i<t;i++)n[i]=null!=e[i]?e[i]:0;e=n}}else if("FLOAT"===this.type){for(var o=this.W*this.H*4,r=new Float32Array(o),s=0,a=this.W*this.H;s<a;s++){var l=4*s;r[l]=null!=e[s]?e[s]:0,r[l+1]=0,r[l+2]=0,r[l+3]=0}e=r}return e}.bind(this);void 0===n||null===n?e instanceof HTMLImageElement?this.length=e.width*e.height:this.length="FLOAT4"===this.type?e.length/4:e.length:this.length=[n[0],n[1]],"SAMPLER"===this.mode&&this.writeWebGLTextureBuffer(i(e),t),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode||(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this.vertexData0),this._gl.bufferData(this._gl.ARRAY_BUFFER,e instanceof Float32Array?e:new Float32Array(e),this._gl.STATIC_DRAW)),"VERTEX_INDEX"===this.mode&&(this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,this.vertexData0),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),this._gl.STATIC_DRAW)),this.createFramebufferAndRenderbuffer()}},{key:"remove",value:function(){"SAMPLER"===this.mode&&(this._gl.deleteTexture(this.textureData),this._gl.deleteTexture(this.textureDataTemp)),"SAMPLER"!==this.mode&&"ATTRIBUTE"!==this.mode&&"VERTEX_INDEX"!==this.mode||this._gl.deleteBuffer(this.vertexData0),this._gl.deleteFramebuffer(this.fBuffer),this._gl.deleteFramebuffer(this.fBufferTemp),this._gl.deleteRenderbuffer(this.renderBuffer),this._gl.deleteRenderbuffer(this.renderBufferTemp)}}]),e}();e.WebCLGLBuffer=r,n.exports.WebCLGLBuffer=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=new u,t=null;return arguments[0]instanceof WebGLRenderingContext?(t=arguments[0],e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.iniG(arguments),e):arguments[0]instanceof HTMLCanvasElement?(t=l.WebCLGLUtils.getWebGLContextFromCanvas(arguments[0]),e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.iniG(arguments),e):(t=l.WebCLGLUtils.getWebGLContextFromCanvas(document.createElement("canvas"),{antialias:!1}),e.setCtx(t),e._webCLGL=new a.WebCLGL(t),e.ini(arguments))}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLFor=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();i.gpufor=r;var a=e("./WebCLGL.class"),l=e("./WebCLGLUtils.class"),u=i.WebCLGLFor=function(){function e(t){o(this,e),this.kernels={},this.vertexFragmentPrograms={},this._args={},this._argsValues={},this.calledArgs={},this._webCLGL=null,this._gl=null}return s(e,[{key:"defineOutputTempModes",value:function(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=null!=e[i]&&function(e,t){var n=!1;for(var i in t)if("indices"!==i){var o=i.split(" ");if(o.length>0&&o[1]===e){n=!0;break}}return n}(e[i],t);return n}},{key:"prepareReturnCode",value:function(e,t){var n=[],i=e.match(new RegExp(/return.*$/gm)),o=(i=i[0].replace("return ","")).match(new RegExp(/\[/gm));if(null!=o&&o.length>=1){i=i.split("[")[1].split("]")[0];for(var r="",s=0,a=0;a<i.length;a++)","===i[a]&&0===s?(n.push(r),r=""):r+=i[a],"("===i[a]&&s++,")"===i[a]&&s--;n.push(r)}else n.push(i.replace(/;$/gm,""));for(var l="",u=0;u<t.length;u++){var c=!1;for(var d in this._args)if("indices"!==d){var h=d.split(" ");if(h[1]===t[u]){var f=h[0].match(new RegExp("float4","gm"));l+=null!=f&&f.length>0?"out"+u+"_float4 = "+n[u]+";\n":"out"+u+"_float = "+n[u]+";\n",c=!0;break}}!1===c&&(l+="out"+u+"_float4 = "+n[u]+";\n")}return l}},{key:"addKernel",value:function(e){var t=e.config,n=t[0],i=t[1]instanceof Array?t[1]:[t[1]],o=t[2],r=t[3],s=this._webCLGL.createKernel(),a=[];for(var l in this._args){var u=l.split(" ")[1];if(void 0!==u&&null!==u){var c=(o+r).match(new RegExp(u.replace(/\[\d.*/,""),"gm"));"indices"!==l&&null!=c&&c.length>0&&(s.in_values[u]={},a.push(l.replace("*attr ","* ").replace(/\[\d.*/,"")))}}r="void main("+a.toString()+") {vec2 "+n+" = get_global_id();"+r.replace(/return.*$/gm,this.prepareReturnCode(r,i))+"}",s.name=e.name,s.viewSource=null!=e.viewSource&&e.viewSource,s.setKernelSource(r,o),s.output=i,s.outputTempModes=this.defineOutputTempModes(i,this._args),s.enabled=!0,s.drawMode=null!=e.drawMode?e.drawMode:4,s.depthTest=null==e.depthTest||e.depthTest,s.blend=null!=e.blend&&e.blend,s.blendEquation=null!=e.blendEquation?e.blendEquation:"FUNC_ADD",s.blendSrcMode=null!=e.blendSrcMode?e.blendSrcMode:"SRC_ALPHA",s.blendDstMode=null!=e.blendDstMode?e.blendDstMode:"ONE_MINUS_SRC_ALPHA",this.kernels[Object.keys(this.kernels).length.toString()]=s}},{key:"addGraphic",value:function(e){var t=e.config,n=[null],i=void 0,o=void 0,r=void 0,s=void 0;5===t.length?(n=t[0]instanceof Array?t[0]:[t[0]],i=t[1],o=t[2],r=t[3],s=t[4]):(i=t[0],o=t[1],r=t[2],s=t[3]);var a=this._webCLGL.createVertexFragmentProgram(),l=[],u=[];for(var c in this._args){var d=c.split(" ")[1];if(void 0!==d&&null!==d){var h=(i+o).match(new RegExp(d.replace(/\[\d.*/,""),"gm"));"indices"!==c&&null!=h&&h.length>0&&(a.in_vertex_values[d]={},l.push(c.replace(/\[\d.*/,"")))}}for(var f in this._args){var p=f.split(" ")[1];if(void 0!==p&&null!==p){var g=(r+s).match(new RegExp(p.replace(/\[\d.*/,""),"gm"));"indices"!==f&&null!=g&&g.length>0&&(a.in_fragment_values[p]={},u.push(f.replace(/\[\d.*/,"")))}}o="void main("+l.toString()+") {"+o+"}",s="void main("+u.toString()+") {"+s.replace(/return.*$/gm,this.prepareReturnCode(s,n))+"}",a.name=e.name,a.viewSource=null!=e.viewSource&&e.viewSource,a.setVertexSource(o,i),a.setFragmentSource(s,r),a.output=n,a.outputTempModes=this.defineOutputTempModes(n,this._args),a.enabled=!0,a.drawMode=null!=e.drawMode?e.drawMode:4,a.depthTest=null==e.depthTest||e.depthTest,a.blend=null==e.blend||e.blend,a.blendEquation=null!=e.blendEquation?e.blendEquation:"FUNC_ADD",a.blendSrcMode=null!=e.blendSrcMode?e.blendSrcMode:"SRC_ALPHA",a.blendDstMode=null!=e.blendDstMode?e.blendDstMode:"ONE_MINUS_SRC_ALPHA",this.vertexFragmentPrograms[Object.keys(this.vertexFragmentPrograms).length.toString()]=a}},{key:"checkArg",value:function(e,t,n){var i=[],o=!1,r=!1;for(var s in t)for(var a in t[s].in_values)if(t[s].in_values[a],a===e){i.push(t[s]);break}for(var l in n){for(var u in n[l].in_vertex_values)if(n[l].in_vertex_values[u],u===e){o=!0;break}for(var c in n[l].in_fragment_values)if(n[l].in_fragment_values[c],c===e){r=!0;break}}return{usedInVertex:o,usedInFragment:r,kernelPr:i}}},{key:"fillArg",value:function(e,t){this._webCLGL.fillBuffer(this._argsValues[e].textureData,t,this._argsValues[e].fBuffer),this._webCLGL.fillBuffer(this._argsValues[e].textureDataTemp,t,this._argsValues[e].fBufferTemp)}},{key:"getAllArgs",value:function(){return this._argsValues}},{key:"addArg",value:function(e){this._args[e]=null}},{key:"getGPUForArg",value:function(e,t){!1===this.calledArgs.hasOwnProperty(e)&&(this.calledArgs[e]=[]),-1===this.calledArgs[e].indexOf(t)&&this.calledArgs[e].push(t),!1===t.calledArgs.hasOwnProperty(e)&&(t.calledArgs[e]=[]),-1===t.calledArgs[e].indexOf(this)&&t.calledArgs[e].push(this);for(var n in t._args){var i=n.split(" ")[1];if(i===e){this._args[n]=t._args[n],this._argsValues[i]=t._argsValues[i];break}}}},{key:"setArg",value:function(e,t,n,i){if("indices"===e)this.setIndices(t);else for(var o in this._args){var r=o.split(" ")[1];if(void 0!==r&&r.replace(/\[\d.*/,"")===e){r!==e&&(e=r);var s=!1;if(null!=o.match(/\*/gm)){var a=this.checkArg(e,this.kernels,this.vertexFragmentPrograms),l="SAMPLER";!0===a.usedInVertex&&0===a.kernelPr.length&&!1===a.usedInFragment&&(l="ATTRIBUTE");var u=o.split("*")[0].toUpperCase();void 0!==i&&null!==i&&(u=i),void 0!==t&&null!==t?((!1===this._argsValues.hasOwnProperty(e)||!0===this._argsValues.hasOwnProperty(e)&&null==this._argsValues[e])&&(this._argsValues[e]=this._webCLGL.createBuffer(u,!1,l),this._argsValues[e].argument=e,s=!0),this._argsValues[e].writeBuffer(t,!1,n)):this._argsValues[e]=null}else void 0!==t&&null!==t&&(this._argsValues[e]=t),s=!0;if(!0===s&&!0===this.calledArgs.hasOwnProperty(e))for(var c=0;c<this.calledArgs[e].length;c++)this.calledArgs[e][c]._argsValues[e]=this._argsValues[e];break}}return t}},{key:"readArg",value:function(e){return this._webCLGL.readBuffer(this._argsValues[e])}},{key:"setIndices",value:function(e){this.CLGL_bufferIndices=this._webCLGL.createBuffer("FLOAT",!1,"VERTEX_INDEX"),this.CLGL_bufferIndices.writeBuffer(e)}},{key:"getCtx",value:function(){return this._webCLGL.getContext()}},{key:"setCtx",value:function(e){this._gl=e}},{key:"getWebCLGL",value:function(){return this._webCLGL}},{key:"onPreProcessKernel",value:function(e,t){this.kernels[e].onpre=t}},{key:"onPostProcessKernel",value:function(e,t){this.kernels[e].onpost=t}},{key:"enableKernel",value:function(e){this.kernels["0"|e.toString()].enabled=!0}},{key:"disableKernel",value:function(e){this.kernels["0"|e.toString()].enabled=!1}},{key:"getKernel",value:function(e){for(var t in this.kernels)if(t===e)return this.kernels[t];return null}},{key:"getAllKernels",value:function(){return this.kernels}},{key:"onPreProcessGraphic",value:function(e,t){this.vertexFragmentPrograms[e].onpre=t}},{key:"onPostProcessGraphic",value:function(e,t){this.vertexFragmentPrograms[e].onpost=t}},{key:"enableGraphic",value:function(e){this.vertexFragmentPrograms["0"|e.toString()].enabled=!0}},{key:"disableGraphic",value:function(e){this.vertexFragmentPrograms["0"|e.toString()].enabled=!1}},{key:"getVertexFragmentProgram",value:function(e){for(var t in this.vertexFragmentPrograms)if(t===e)return this.vertexFragmentPrograms[t];return null}},{key:"getAllVertexFragmentProgram",value:function(){return this.vertexFragmentPrograms}},{key:"processKernel",value:function(e,t,n){if(!0===e.enabled){if(void 0!==n&&null!==n&&!0===n&&(this.arrMakeCopy=[]),!0===e.depthTest?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),!0===e.blend?this._gl.enable(this._gl.BLEND):this._gl.disable(this._gl.BLEND),this._gl.blendFunc(this._gl[e.blendSrcMode],this._gl[e.blendDstMode]),this._gl.blendEquation(this._gl[e.blendEquation]),void 0!==e.onpre&&null!==e.onpre&&e.onpre(),void 0===t||null===t||!0===t){for(var i=!1,o=0;o<e.output.length;o++)if(null!=e.output[o]&&!0===e.outputTempModes[o]){i=!0;break}!0===i?(this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!0,this._argsValues),this.arrMakeCopy.push(e)):this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!1,this._argsValues)}else this._webCLGL.enqueueNDRangeKernel(e,l.WebCLGLUtils.getOutputBuffers(e,this._argsValues),!1,this._argsValues);void 0!==e.onpost&&null!==e.onpost&&e.onpost(),void 0!==n&&null!==n&&!0===n&&this.processCopies()}}},{key:"processCopies",value:function(e){for(var t=0;t<this.arrMakeCopy.length;t++)this._webCLGL.copy(this.arrMakeCopy[t],l.WebCLGLUtils.getOutputBuffers(this.arrMakeCopy[t],this._argsValues))}},{key:"processKernels",value:function(e){this.arrMakeCopy=[];for(var t in this.kernels)this.processKernel(this.kernels[t],e);this.processCopies()}},{key:"processGraphic",value:function(e){var t=[];for(var n in this.vertexFragmentPrograms){var i=this.vertexFragmentPrograms[n];if(!0===i.enabled){var o=void 0!==e&&null!==e||void 0===this.CLGL_bufferIndices||null===this.CLGL_bufferIndices?this._argsValues[e]:this.CLGL_bufferIndices;if(void 0!==o&&null!==o&&o.length>0){!0===i.depthTest?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),!0===i.blend?this._gl.enable(this._gl.BLEND):this._gl.disable(this._gl.BLEND),this._gl.blendFunc(this._gl[i.blendSrcMode],this._gl[i.blendDstMode]),this._gl.blendEquation(this._gl[i.blendEquation]),void 0!==i.onpre&&null!==i.onpre&&i.onpre();for(var r=!1,s=0;s<i.output.length;s++)if(null!=i.output[s]&&!0===i.outputTempModes[s]){r=!0;break}!0===r?(this._webCLGL.enqueueVertexFragmentProgram(i,o,i.drawMode,l.WebCLGLUtils.getOutputBuffers(i,this._argsValues),!0,this._argsValues),t.push(i)):this._webCLGL.enqueueVertexFragmentProgram(i,o,i.drawMode,l.WebCLGLUtils.getOutputBuffers(i,this._argsValues),!1,this._argsValues),void 0!==i.onpost&&null!==i.onpost&&i.onpost()}}}for(var a=0;a<t.length;a++)this._webCLGL.copy(t[a],l.WebCLGLUtils.getOutputBuffers(t[a],this._argsValues))}},{key:"ini",value:function(){var e=arguments[0],t=void 0,n=void 0,i=void 0;e.length>3?(this._args=e[0],t=e[1],n=e[2],i=e[3]):(this._args=e[0],t=e[1],n="FLOAT",i=e[2]);var o=0;for(var r in this._args){var s=this._args[r];this.setArg(r.split(" ")[1],s),0===o&&(s instanceof Array||s instanceof Float32Array||s instanceof Uint8Array||s instanceof HTMLImageElement)&&(o=s.length)}return"FLOAT"===n?this.addArg("float* result"):this.addArg("float4* result"),this.setArg("result",new Float32Array(o),null,n),this.addKernel({type:"KERNEL",name:"SIMPLE_KERNEL",viewSource:!1,config:[t,["result"],"",i]}),this.processKernels(),this._webCLGL.readBuffer(this._argsValues.result)}},{key:"iniG",value:function(){this._webCLGL.getContext().depthFunc(this._webCLGL.getContext().LEQUAL),this._webCLGL.getContext().clearDepth(1);var e=arguments[0];this._args=e[1];for(var t=2;t<e.length;t++)"KERNEL"===e[t].type?this.addKernel(e[t]):"GRAPHIC"===e[t].type&&this.addGraphic(e[t]);for(var n in this._args){var i=this._args[n];"indices"===n?null!==i&&this.setIndices(i):this.setArg(n.split(" ")[1],i)}}}]),e}();t.WebCLGLFor=u,n.exports.WebCLGLFor=u,t.gpufor=r,n.exports.gpufor=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGL.class":1,"./WebCLGLUtils.class":5}],4:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLKernel=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLUtils.class"),a=i.WebCLGLKernel=function(){function e(t,n,i){o(this,e),this._gl=t;var r=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this._precision=0!==r.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n";var s=this._gl.getExtension("WEBGL_draw_buffers");this._maxDrawBuffers=null,null!=s&&(this._maxDrawBuffers=this._gl.getParameter(s.MAX_DRAW_BUFFERS_WEBGL)),this.name="",this.enabled=!0,this.depthTest=null,this.blend=null,this.blendSrcMode=null,this.blendDstMode=null,this.blendEquation=null,this.onpre=null,this.onpost=null,this.viewSource=!1,this.in_values={},this.output=null,this.outputTempModes=null,this.fBuffer=null,this.fBufferTemp=null,this.fBufferLength=0,this.fBufferCount=0,void 0!==n&&null!==n&&this.setKernelSource(n,i)}return r(e,[{key:"setKernelSource",value:function(e,t){for(var n=function(){var e=this._precision+"attribute vec3 aVertexPosition;\nvarying vec2 global_id;\nvoid main(void) {\ngl_Position = vec4(aVertexPosition, 1.0);\nglobal_id = aVertexPosition.xy*0.5+0.5;\n}\n",t="#extension GL_EXT_draw_buffers : require\n"+this._precision+s.WebCLGLUtils.lines_fragment_attrs(this.in_values)+"varying vec2 global_id;\nuniform float uBufferWidth;vec2 get_global_id() {\nreturn global_id;\n}\n"+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._head+"void main(void) {\n"+s.WebCLGLUtils.lines_drawBuffersInit(8)+this._source+s.WebCLGLUtils.lines_drawBuffersWrite(8)+"}\n";this.kernel=this._gl.createProgram(),(new s.WebCLGLUtils).createShader(this._gl,"WEBCLGL",e,t,this.kernel),this.attr_VertexPos=this._gl.getAttribLocation(this.kernel,"aVertexPosition"),this.uBufferWidth=this._gl.getUniformLocation(this.kernel,"uBufferWidth");for(var n in this.in_values){var i={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_values[n].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_values,n),this.in_values[n].location=[this._gl.getUniformLocation(this.kernel,n.replace(/\[\d.*/,""))],this.in_values[n].expectedMode=i}return"VERTEX PROGRAM\n"+e+"\n FRAGMENT PROGRAM\n"+t}.bind(this),i=e.split(")")[0].split("(")[1].split(","),o=0,r=i.length;o<r;o++)if(null!==i[o].match(/\*/gm)){var a=i[o].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_values,a),null!=i[o].match(/float4/gm)?this.in_values[a].type="float4_fromSampler":null!=i[o].match(/float/gm)&&(this.in_values[a].type="float_fromSampler")}else if(""!==i[o]){var l=i[o].split(" ")[1].trim();for(var u in this.in_values)if(u.replace(/\[\d.*/,"")===l){l=u;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_values,l),null!=i[o].match(/float4/gm)?this.in_values[l].type="float4":null!=i[o].match(/float/gm)?this.in_values[l].type="float":null!=i[o].match(/mat4/gm)&&(this.in_values[l].type="mat4")}this._head=void 0!==t&&null!==t?t:"",this._head=this._head.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._head=s.WebCLGLUtils.parseSource(this._head,this.in_values),this._source=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._source=this._source.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._source=s.WebCLGLUtils.parseSource(this._source,this.in_values);var c=n();!0===this.viewSource&&(console.log("%c KERNEL: "+this.name,"font-size: 20px; color: blue"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+c,"color: darkgray"))}}]),e}();t.WebCLGLKernel=a,n.exports.WebCLGLKernel=a}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLUtils.class":5}],5:[function(e,n,i){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i.WebCLGLUtils=function(){function e(){t(this,e)}return o(e,[{key:"loadQuad",value:function(e,t,n){var i=void 0===t||null===t?.5:t,o=void 0===n||null===n?.5:n;this.vertexArray=[-i,-o,0,i,-o,0,i,o,0,-i,o,0],this.textureArray=[0,0,0,1,0,0,1,1,0,0,1,0],this.indexArray=[0,1,2,0,2,3];var r={};return r.vertexArray=this.vertexArray,r.textureArray=this.textureArray,r.indexArray=this.indexArray,r}},{key:"createShader",value:function(e,t,n,i,o){var r=!1,s=!1,a=function(t,n){console.log(t);for(var i=[],o=t.split("\n"),r=0,s=o.length;r<s;r++)if(null!=o[r].match(/^ERROR/gim)){var a=o[r].split(":"),l=parseInt(a[2]);i.push([l,o[r]])}var u=e.getShaderSource(n).split("\n");u.unshift("");for(var c=0,d=u.length;c<d;c++){for(var h=!1,f="",p=0,g=i.length;p<g;p++)if(c===i[p][0]){h=!0,f=i[p][1];break}!1===h?console.log("%c"+c+" %c"+u[c],"color:black","color:blue"):console.log("%c►►%c"+c+" %c"+u[c]+"\n%c"+f,"color:red","color:black","color:blue","color:red")}}.bind(this),l=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(l,n),e.compileShader(l),e.getShaderParameter(l,e.COMPILE_STATUS))e.attachShader(o,l),r=!0;else{var u=e.getShaderInfoLog(l);console.log("%c"+t+" ERROR (vertex program)","color:red"),void 0!==u&&null!==u&&a(u,l)}var c=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(c,i),e.compileShader(c),e.getShaderParameter(c,e.COMPILE_STATUS))e.attachShader(o,c),s=!0;else{var d=e.getShaderInfoLog(c);console.log("%c"+t+" ERROR (fragment program)","color:red"),void 0!==d&&null!==d&&a(d,c)}if(!0===r&&!0===s){if(e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS))return!0;console.log("Error shader program "+t+":\n ");var h=e.getProgramInfoLog(o);return void 0!==h&&null!==h&&console.log(h),!1}return!1}},{key:"pack",value:function(e){var t=[1/255,1/255,1/255,0],n=e,i=this.fract(255*n),o=this.fract(255*i),r=[n,i,o,this.fract(255*o)],s=[r[1]*t[0],r[2]*t[1],r[3]*t[2],r[3]*t[3]];return[r[0]-s[0],r[1]-s[1],r[2]-s[2],r[3]-s[3]]}},{key:"unpack",value:function(e){var t=[1,1/255,1/65025,1/16581375];return this.dot4(e,t)}}],[{key:"getWebGLContextFromCanvas",value:function(e,t){var n=null;if(null==n)try{n=void 0===t||null===t?e.getContext("webgl"):e.getContext("webgl",t),console.log(null==n?"no webgl":"using webgl")}catch(e){n=null}if(null==n)try{n=void 0===t||null===t?e.getContext("experimental-webgl"):e.getContext("experimental-webgl",t),console.log(null==n?"no experimental-webgl":"using experimental-webgl")}catch(e){n=null}return null==n&&(n=!1),n}},{key:"getUint8ArrayFromHTMLImageElement",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}},{key:"dot4",value:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},{key:"fract",value:function(e){return e>0?e-Math.floor(e):e-Math.ceil(e)}},{key:"packGLSLFunctionString",value:function(){return"vec4 pack (float depth) {\nconst vec4 bias = vec4(1.0 / 255.0,\n1.0 / 255.0,\n1.0 / 255.0,\n0.0);\nfloat r = depth;\nfloat g = fract(r * 255.0);\nfloat b = fract(g * 255.0);\nfloat a = fract(b * 255.0);\nvec4 colour = vec4(r, g, b, a);\nreturn colour - (colour.yzww * bias);\n}\n"}},{key:"unpackGLSLFunctionString",value:function(){return"float unpack (vec4 colour) {\nconst vec4 bitShifts = vec4(1.0,\n1.0 / 255.0,\n1.0 / (255.0 * 255.0),\n1.0 / (255.0 * 255.0 * 255.0));\nreturn dot(colour, bitShifts);\n}\n"}},{key:"getOutputBuffers",value:function(e,t){var n=null;if(void 0!==e.output&&null!==e.output)if(n=[],null!=e.output[0])for(var i=0;i<e.output.length;i++)n[i]=t[e.output[i]];else n=null;return n}},{key:"parseSource",value:function(e,t){for(var n in t){var i=new RegExp(n+"\\[(?!\\d).*?\\]","gm"),o=e.match(i);if(null!=o)for(var r=0,s=o.length;r<s;r++){var a=new RegExp("```(s|\t)*gl.*"+o[r]+".*```[^```(s|\t)*gl]","gm");if(null==e.match(a)){var l=o[r].split("[")[0],u=o[r].split("[")[1].split("]")[0];e={float4_fromSampler:e.replace(l+"["+u+"]","texture2D("+l+","+u+")"),float_fromSampler:e.replace(l+"["+u+"]","texture2D("+l+","+u+").x"),float4_fromAttr:e.replace(l+"["+u+"]",l),float_fromAttr:e.replace(l+"["+u+"]",l)}[t[n].type]}}}return e=e.replace(/```(\s|\t)*gl/gi,"").replace(/```/gi,"").replace(/;/gi,";\n").replace(/}/gi,"}\n").replace(/{/gi,"{\n")}},{key:"lines_vertex_attrs",value:function(e){var t="";for(var n in e)t+={float4_fromSampler:"uniform sampler2D "+n+";",float_fromSampler:"uniform sampler2D "+n+";",float4_fromAttr:"attribute vec4 "+n+";",float_fromAttr:"attribute float "+n+";",float:"uniform float "+n+";",float4:"uniform vec4 "+n+";",mat4:"uniform mat4 "+n+";"}[e[n].type]+"\n";return t}},{key:"lines_fragment_attrs",value:function(e){var t="";for(var n in e)t+={float4_fromSampler:"uniform sampler2D "+n+";",float_fromSampler:"uniform sampler2D "+n+";",float:"uniform float "+n+";",float4:"uniform vec4 "+n+";",mat4:"uniform mat4 "+n+";"}[e[n].type]+"\n";return t}},{key:"lines_drawBuffersInit",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="float out"+n+"_float = -999.99989;\nvec4 out"+n+"_float4;\n";return t}},{key:"lines_drawBuffersWriteInit",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="layout(location = "+n+") out vec4 outCol"+n+";\n";return t}},{key:"lines_drawBuffersWrite",value:function(e){for(var t="",n=0,i=e;n<i;n++)t+="if(out"+n+"_float != -999.99989) gl_FragData["+n+"] = vec4(out"+n+"_float,0.0,0.0,1.0);\n else gl_FragData["+n+"] = out"+n+"_float4;\n";return t}},{key:"checkArgNameInitialization",value:function(e,t){!1===e.hasOwnProperty(t)&&(e[t]={type:null,expectedMode:null,location:null})}},{key:"get_global_id3_GLSLFunctionString",value:function(){return"vec2 get_global_id(float id, float bufferWidth, float geometryLength) {\nfloat texelSize = 1.0/bufferWidth;float num = (id*geometryLength)/bufferWidth;float column = fract(num)+(texelSize/2.0);float row = (floor(num)/bufferWidth)+(texelSize/2.0);return vec2(column, row);}\n"}},{key:"get_global_id2_GLSLFunctionString",value:function(){return"vec2 get_global_id(vec2 id, float bufferWidth) {\nfloat texelSize = 1.0/bufferWidth;float column = (id.x/bufferWidth)+(texelSize/2.0);float row = (id.y/bufferWidth)+(texelSize/2.0);return vec2(column, row);}\n"}}]),e}();e.WebCLGLUtils=r,n.exports.WebCLGLUtils=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,n,i){(function(t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.WebCLGLVertexFragmentProgram=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./WebCLGLUtils.class"),a=i.WebCLGLVertexFragmentProgram=function(){function e(t,n,i,r,s){o(this,e),this._gl=t;var a=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);this._precision=0!==a.precision?"precision highp float;\n\nprecision highp int;\n\n":"precision lowp float;\n\nprecision lowp int;\n\n";var l=this._gl.getExtension("WEBGL_draw_buffers");this._maxDrawBuffers=null,null!=l&&(this._maxDrawBuffers=this._gl.getParameter(l.MAX_DRAW_BUFFERS_WEBGL)),this.name="",this.viewSource=!1,this.in_vertex_values={},this.in_fragment_values={},this._vertexP_ready=!1,this._fragmentP_ready=!1,this._vertexHead=null,this._vertexSource=null,this._fragmentHead=null,this._fragmentSource=null,this.output=null,this.outputTempModes=null,this.fBuffer=null,this.fBufferTemp=null,this.drawMode=4,void 0!==n&&null!==n&&this.setVertexSource(n,i),void 0!==r&&null!==r&&this.setFragmentSource(r,s)}return r(e,[{key:"compileVertexFragmentSource",value:function(){var e=this._precision+"uniform float uOffset;\nuniform float uBufferWidth;"+s.WebCLGLUtils.lines_vertex_attrs(this.in_vertex_values)+s.WebCLGLUtils.unpackGLSLFunctionString()+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._vertexHead+"void main(void) {\n"+this._vertexSource+"}\n",t="#extension GL_EXT_draw_buffers : require\n"+this._precision+s.WebCLGLUtils.lines_fragment_attrs(this.in_fragment_values)+s.WebCLGLUtils.get_global_id3_GLSLFunctionString()+s.WebCLGLUtils.get_global_id2_GLSLFunctionString()+this._fragmentHead+"void main(void) {\n"+s.WebCLGLUtils.lines_drawBuffersInit(8)+this._fragmentSource+s.WebCLGLUtils.lines_drawBuffersWrite(8)+"}\n";this.vertexFragmentProgram=this._gl.createProgram(),(new s.WebCLGLUtils).createShader(this._gl,"WEBCLGL VERTEX FRAGMENT PROGRAM",e,t,this.vertexFragmentProgram),this.uOffset=this._gl.getUniformLocation(this.vertexFragmentProgram,"uOffset"),this.uBufferWidth=this._gl.getUniformLocation(this.vertexFragmentProgram,"uBufferWidth");for(var n in this.in_vertex_values){var i={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float4_fromAttr:"ATTRIBUTE",float_fromAttr:"ATTRIBUTE",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_vertex_values[n].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,n);var o="ATTRIBUTE"===i?this._gl.getAttribLocation(this.vertexFragmentProgram,n):this._gl.getUniformLocation(this.vertexFragmentProgram,n.replace(/\[\d.*/,""));this.in_vertex_values[n].location=[o],this.in_vertex_values[n].expectedMode=i}for(var r in this.in_fragment_values){var a={float4_fromSampler:"SAMPLER",float_fromSampler:"SAMPLER",float:"UNIFORM",float4:"UNIFORM",mat4:"UNIFORM"}[this.in_fragment_values[r].type];s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,r),this.in_fragment_values[r].location=[this._gl.getUniformLocation(this.vertexFragmentProgram,r.replace(/\[\d.*/,""))],this.in_fragment_values[r].expectedMode=a}return"VERTEX PROGRAM\n"+e+"\n FRAGMENT PROGRAM\n"+t}},{key:"setVertexSource",value:function(e,t){for(var n=e.split(")")[0].split("(")[1].split(","),i=0,o=n.length;i<o;i++)if(null!==n[i].match(/\*attr/gm)){var r=n[i].split("*attr")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,r),null!=n[i].match(/float4/gm)?this.in_vertex_values[r].type="float4_fromAttr":null!=n[i].match(/float/gm)&&(this.in_vertex_values[r].type="float_fromAttr")}else if(null!==n[i].match(/\*/gm)){var a=n[i].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,a),null!=n[i].match(/float4/gm)?this.in_vertex_values[a].type="float4_fromSampler":null!=n[i].match(/float/gm)&&(this.in_vertex_values[a].type="float_fromSampler")}else if(""!==n[i]){var l=n[i].split(" ")[1].trim();for(var u in this.in_vertex_values)if(u.replace(/\[\d.*/,"")===l){l=u;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_vertex_values,l),null!=n[i].match(/float4/gm)?this.in_vertex_values[l].type="float4":null!=n[i].match(/float/gm)?this.in_vertex_values[l].type="float":null!=n[i].match(/mat4/gm)&&(this.in_vertex_values[l].type="mat4")}if(this._vertexHead=void 0!==t&&null!==t?t:"",this._vertexHead=this._vertexHead.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._vertexHead=s.WebCLGLUtils.parseSource(this._vertexHead,this.in_vertex_values),this._vertexSource=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._vertexSource=this._vertexSource.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._vertexSource=s.WebCLGLUtils.parseSource(this._vertexSource,this.in_vertex_values),this._vertexP_ready=!0,!0===this._fragmentP_ready){var c=this.compileVertexFragmentSource();!0===this.viewSource&&(console.log("%c VFP: "+this.name,"font-size: 20px; color: green"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+c,"color: darkgray"))}}},{key:"setFragmentSource",value:function(e,t){for(var n=e.split(")")[0].split("(")[1].split(","),i=0,o=n.length;i<o;i++)if(null!==n[i].match(/\*/gm)){var r=n[i].split("*")[1].trim();s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,r),null!=n[i].match(/float4/gm)?this.in_fragment_values[r].type="float4_fromSampler":null!=n[i].match(/float/gm)&&(this.in_fragment_values[r].type="float_fromSampler")}else if(""!==n[i]){var a=n[i].split(" ")[1].trim();for(var l in this.in_fragment_values)if(l.replace(/\[\d.*/,"")===a){a=l;break}s.WebCLGLUtils.checkArgNameInitialization(this.in_fragment_values,a),null!=n[i].match(/float4/gm)?this.in_fragment_values[a].type="float4":null!=n[i].match(/float/gm)?this.in_fragment_values[a].type="float":null!=n[i].match(/mat4/gm)&&(this.in_fragment_values[a].type="mat4")}if(this._fragmentHead=void 0!==t&&null!==t?t:"",this._fragmentHead=this._fragmentHead.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._fragmentHead=s.WebCLGLUtils.parseSource(this._fragmentHead,this.in_fragment_values),this._fragmentSource=e.replace(/\r\n/gi,"").replace(/\r/gi,"").replace(/\n/gi,""),this._fragmentSource=this._fragmentSource.replace(/^\w* \w*\([\w\s\*,]*\) {/gi,"").replace(/}(\s|\t)*$/gi,""),this._fragmentSource=s.WebCLGLUtils.parseSource(this._fragmentSource,this.in_fragment_values),this._fragmentP_ready=!0,!0===this._vertexP_ready){var u=this.compileVertexFragmentSource();!0===this.viewSource&&(console.log("%c VFP: ","font-size: 20px; color: green"),console.log("%c WEBCLGL --------------------------------","color: gray"),console.log("%c "+t+e,"color: gray"),console.log("%c TRANSLATED WEBGL ------------------------------","color: darkgray"),console.log("%c "+u,"color: darkgray"))}}}]),e}();t.WebCLGLVertexFragmentProgram=a,n.exports.WebCLGLVertexFragmentProgram=a}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGLUtils.class":5}],7:[function(e,n,i){(function(t){"use strict";e("./WebCLGL.class"),e("./WebCLGLBuffer.class"),e("./WebCLGLFor.class"),e("./WebCLGLKernel.class"),e("./WebCLGLUtils.class"),e("./WebCLGLVertexFragmentProgram.class"),n.exports.WebCLGL=t.WebCLGL=WebCLGL,n.exports.WebCLGLBuffer=t.WebCLGLBuffer=WebCLGLBuffer,n.exports.WebCLGLFor=t.WebCLGLFor=WebCLGLFor,n.exports.WebCLGLKernel=t.WebCLGLKernel=WebCLGLKernel,n.exports.WebCLGLUtils=t.WebCLGLUtils=WebCLGLUtils,n.exports.WebCLGLVertexFragmentProgram=t.WebCLGLVertexFragmentProgram=WebCLGLVertexFragmentProgram}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./WebCLGL.class":1,"./WebCLGLBuffer.class":2,"./WebCLGLFor.class":3,"./WebCLGLKernel.class":4,"./WebCLGLUtils.class":5,"./WebCLGLVertexFragmentProgram.class":6}]},{},[7])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayGenerator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=n.ArrayGenerator=function(){function e(){o(this,e)}return r(e,[{key:"volumeArray",value:function(e){if(this.arrayNodeDestination=[],this.arrayNodeVertexColor=[],this.vo=e,this.vo instanceof StormVoxelizator==!1)return alert("You must select a voxelizator object with albedo fillmode enabled."),!1;if(void 0===this.vo.image3D_VoxelsColor||null===this.vo.image3D_VoxelsColor)return alert("You must select a voxelizator object with albedo fillmode enabled."),!1;this.data=this.vo.clglBuff_VoxelsColor.items[0].inData;for(var t=0,n=0,i=this.data.length/4;n<i;n++){var o=4*n;this.data[o+3]>0&&t++}var r=(this.currentNodeId-1)/t;this.incremNodesCell=0;var s=-1;this.currentVoxelCell=null,this.CCX=0,this.CCY=0,this.CCZ=0,this.CCXMAX=this.vo.resolution-1,this.CCYMAX=this.vo.resolution-1,this.CCZMAX=this.vo.resolution-1;for(var a=void 0,l=void 0,u=function(){for(;;){if(this.CCX===this.CCXMAX&&this.CCZ===this.CCZMAX&&this.CCY===this.CCYMAX)break;if(this.CCX===this.CCXMAX&&this.CCZ===this.CCZMAX?(this.CCX=0,this.CCZ=0,this.CCY++):this.CCX===this.CCXMAX?(this.CCX=0,this.CCZ++):this.CCX++,this.currentVoxelCell=this.CCY*(this.vo.resolution*this.vo.resolution)+this.CCZ*this.vo.resolution+this.CCX,this.data[4*this.currentVoxelCell+3]>0&&(this.incremNodesCell+=r,this.incremNodesCell>=1)){this.incremNodesCell-=1;break}}}.bind(this),c=0;c<this.arrayNodeId.length;c++)s!==this.arrayNodeId[c]?(s=this.arrayNodeId[c],this.incremNodesCell>=1?this.incremNodesCell-=1:u(),a=(a=(a=$V3([0,0,0]).add($V3([-this.vo.size/2,-this.vo.size/2,-this.vo.size/2]))).add($V3([this.vo.cs*this.CCX*1,this.vo.cs*this.CCY*1,this.vo.cs*(this.CCZMAX-this.CCZ)*1]))).add($V3([this.vo.cs*Math.random(),this.vo.cs*Math.random(),this.vo.cs*Math.random()])),l=$V3([this.data[4*this.currentVoxelCell]/255,this.data[4*this.currentVoxelCell+1]/255,this.data[4*this.currentVoxelCell+2]/255]),this.arrayNodeDestination.push(a.e[0],a.e[1],a.e[2],1),this.arrayNodeVertexColor.push(l.e[0],l.e[1],l.e[2],1)):(this.arrayNodeDestination.push(a.e[0],a.e[1],a.e[2],1),this.arrayNodeVertexColor.push(l.e[0],l.e[1],l.e[2],1));comp_renderer_nodes.setArg("dest",function(){return this.arrayNodeDestination}.bind(this),this.splitNodes),comp_renderer_nodes.setArg("nodeVertexCol",function(){return this.arrayNodeVertexColor}.bind(this),this.splitNodes)}}],[{key:"randomArray",value:function(e){for(var t=[],n=0;n<e.count;n++)"float"===e.type?t.push(-e.offset/2+Math.random()*e.offset):t.push(-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset,-e.offset/2+Math.random()*e.offset);return t}},{key:"widthHeightArray",value:function(e){for(var t=[],n=e.width*e.height,i=e.count/n,o=0,r=0,s=0,a=void 0!==e.spacing&&null!==e.spacing?e.spacing:.01,l=0;l<e.count;l++)o>=i&&(++r>e.width-1&&(r=0,s++),o-=i),o+=1,t.push(r*a,0,s*a,1);return t}},{key:"float4Array",value:function(e){for(var t=[],n=0;n<e.count;n++)t.push(e.float4[0],e.float4[1],e.float4[2],e.float4[3]);return t}},{key:"sphericalArray",value:function(e){for(var t=[],n=void 0===e?1:e.radius,i=0;i<e.count;i++){var o=360*Math.random(),r=180*Math.random();t.push(Math.cos(o)*Math.abs(Math.sin(r))*n,Math.cos(r)*n*Math.random(),Math.sin(o)*Math.abs(Math.sin(r))*n,1)}return t}},{key:"hemArray",value:function(e){for(var t=[],n=void 0===e?1:e.radius,i=0;i<e.count;i++){var o=(new s.Utils).getVector(e.normalVector,e.degrees);t.push(o.e[0]*n,o.e[1]*n,o.e[2]*n,1)}return t}},{key:"imageArray",value:function(e){for(var t=s.Utils.getUint8ArrayFromHTMLImageElement(e.image),n=[],i=0;i<e.count;i++){var o=4*i;n.push(parseFloat(t[o]/255),parseFloat(t[o+1]/255),parseFloat(t[o+2]/255),parseFloat(t[o+3]/255))}return n}}]),e}();i.ArrayGenerator=a,t.exports.ArrayGenerator=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utils.class":38}],8:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Component=function(){function e(){i(this,e),this.type=null,this.node=null}return o(e,[{key:"initialize",value:function(e,t){}},{key:"tick",value:function(e){}}]),e}();e.Component=r,t.exports.Component=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentControllerTransformTarget=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentControllerTransformTarget=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.CONTROLLER_TRANSFORM_TARGET,e.node=null,e.gl=null,e.comp_transformTarget=null,e.comp_projection=null,e._vel=.1,e.forwardE=0,e.backwardE=0,e.leftE=0,e.rightE=0,e.frontE=0,e.backE=0,e.leftButton=0,e.middleButton=0,e.rightButton=0,e.leftButtonAction="ORBIT",e.middleButtonAction="PAN",e.rightButtonAction="ZOOM",e.lastX=0,e.lastY=0,e.lockRotX=!1,e.lockRotY=!1,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.comp_transformTarget=this.node.getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM_TARGET),this.comp_projection=this.node.getComponent(u.Constants.COMPONENT_TYPES.PROJECTION)}},{key:"setVelocity",value:function(e){this._vel=e}},{key:"lockRotX",value:function(){this.lockRotX=!0}},{key:"unlockRotX",value:function(){this.lockRotX=!1}},{key:"isLockRotX",value:function(){return this.lockRotX}},{key:"lockRotY",value:function(){this.lockRotY=!0}},{key:"unlockRotY",value:function(){this.lockRotY=!1}},{key:"isLockRotY",value:function(){return this.lockRotY}},{key:"forward",value:function(){this.forwardE=1}},{key:"backward",value:function(){this.backwardE=1}},{key:"strafeLeft",value:function(){this.leftE=1}},{key:"strafeRight",value:function(){this.rightE=1}},{key:"strafeFront",value:function(){this.frontE=1}},{key:"strafeBack",value:function(){this.backE=1}},{key:"stopForward",value:function(){this.forwardE=0}},{key:"stopBackward",value:function(){this.backwardE=0}},{key:"stopStrafeLeft",value:function(){this.leftE=0}},{key:"stopStrafeRight",value:function(){this.rightE=0}},{key:"stopStrafeFront",value:function(){this.frontE=0}},{key:"stopStrafeBack",value:function(){this.backE=0}},{key:"mouseDown",value:function(e){this.lastX=e.screenX,this.lastY=e.screenY,0===e.button&&(this.leftButton=1),1===e.button&&(this.middleButton=1),2===e.button&&(this.rightButton=1),this.updateGoal(e)}},{key:"mouseUp",value:function(e){0===e.button&&(this.leftButton=0),1===e.button&&(this.middleButton=0),2===e.button&&(this.rightButton=0)}},{key:"mouseMove",value:function(e){1!==this.leftButton&&1!==this.middleButton||this.updateGoal(e)}},{key:"isLeftBtnActive",value:function(){return 1===this.leftButton}},{key:"isMiddleBtnActive",value:function(){return 1===this.middleButton}},{key:"isRightBtnActive",value:function(){return 1===this.rightButton}},{key:"setLeftButtonAction",value:function(e){this.leftButtonAction=e}},{key:"setMiddleButtonAction",value:function(e){this.middleButtonAction=e}},{key:"setRightButtonAction",value:function(e){this.rightButtonAction=e}},{key:"tick",value:function(e){var t=$V3([0,0,0]);1===this.forwardE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getForward().x(-this._vel))),1===this.backwardE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getForward().x(this._vel))),1===this.leftE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getLeft().x(-this._vel))),1===this.rightE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getLeft().x(this._vel))),1===this.backE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getUp().x(-this._vel))),1===this.frontE&&(t=t.add(this.comp_transformTarget.getMatrix().inverse().getUp().x(this._vel))),this.comp_transformTarget.setPositionTarget(this.comp_transformTarget.getPositionTarget().add(t)),this.comp_transformTarget.setPositionGoal(this.comp_transformTarget.getPositionGoal().add(t))}},{key:"updateGoal",value:function(e){1===this.middleButton?"PAN"===this.middleButtonAction?this.makePan(e):"ORBIT"===this.middleButtonAction&&this.makeOrbit(e):"PAN"===this.leftButtonAction?this.comp_projection.getProjection()===u.Constants.PROJECTION_TYPES.PERSPECTIVE?this.makeOrbit(e):this.makePan(e):"ORBIT"===this.leftButtonAction&&this.makeOrbit(e),this.lastX=e.screenX,this.lastY=e.screenY}},{key:"makePan",value:function(e){e.preventDefault();var t=this.comp_transformTarget.getMatrix().getLeft().x((this.lastX-e.screenX)*(.005*this.comp_projection.getFov())),n=this.comp_transformTarget.getMatrix().getUp().x((this.lastY-e.screenY)*(-.005*this.comp_projection.getFov())),i=t.add(n.x(-1));this.comp_transformTarget.setPositionGoal(this.comp_transformTarget.getPositionGoal().add(i)),this.comp_transformTarget.setPositionTarget(this.comp_transformTarget.getPositionTarget().add(i))}},{key:"makeOrbit",value:function(e){!1===this.lockRotY&&(this.lastX>e.screenX?this.comp_transformTarget.yaw(.5*-(this.lastX-e.screenX)):this.comp_transformTarget.yaw(.5*(e.screenX-this.lastX))),!1===this.lockRotX&&(this.lastY>e.screenY?this.comp_transformTarget.pitch(.5*(this.lastY-e.screenY)):this.comp_transformTarget.pitch(.5*-(e.screenY-this.lastY)))}}]),t}();i.ComponentControllerTransformTarget=c,t.exports.ComponentControllerTransformTarget=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],10:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentKeyboardEvents=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentKeyboardEvents=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,e.node=null,e.gl=null,e._onkeydown=null,e._onkeyup=null,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"onkeydown",value:function(e){this._onkeydown=e}},{key:"onkeyup",value:function(e){this._onkeyup=e}}]),t}();i.ComponentKeyboardEvents=c,t.exports.ComponentKeyboardEvents=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],11:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentMouseEvents=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentMouseEvents=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.MOUSE_EVENTS,e.node=null,e.gl=null,e._onmousedown=null,e._onmouseup=null,e._onmousemove=null,e._onmousewheel=null,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"onmousedown",value:function(e){this._onmousedown=e}},{key:"onmouseup",value:function(e){this._onmouseup=e}},{key:"onmousemove",value:function(e){this._onmousemove=e}},{key:"onmousewheel",value:function(e){this._onmousewheel=e}}]),t}();i.ComponentMouseEvents=c,t.exports.ComponentMouseEvents=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],12:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentProjection=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./StormMath.class"),c=e("./Constants"),d=n.ComponentProjection=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=c.Constants.COMPONENT_TYPES.PROJECTION,e.node=null,e.gl=null,e.mProjectionMatrix=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.proy=c.Constants.PROJECTION_TYPES.PERSPECTIVE,e._width=512,e._height=512,e._fov=45,e._fovOrtho=20,e._near=.1,e._far=1e4,e._nearOrtho=-1e5,e._farOrtho=1e5,e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.updateProjectionMatrix()}},{key:"getMatrix",value:function(){return this.mProjectionMatrix}},{key:"getProjection",value:function(){return this.proy}},{key:"setProjection",value:function(e){this.proy=e,this.updateProjectionMatrix()}},{key:"setResolution",value:function(e,t){this._width=e,this._height=t,this.updateProjectionMatrix()}},{key:"getResolution",value:function(){return{width:this._width,height:this._height}}},{key:"setFov",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov=e:this._fovOrtho=e,this.updateProjectionMatrix()}},{key:"getFov",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov:this._fovOrtho}},{key:"setNear",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._near=e:this._nearOrtho=e,this.updateProjectionMatrix()}},{key:"getNear",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._near:this._nearOrtho}},{key:"setFar",value:function(e){this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._far=e:this._farOrtho=e,this.updateProjectionMatrix()}},{key:"getFar",value:function(){return this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._far:this._farOrtho}},{key:"updateProjectionMatrix",value:function(){var e=this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this._fov:this._fovOrtho,t=this._width/this._height;this.proy===c.Constants.PROJECTION_TYPES.PERSPECTIVE?this.mProjectionMatrix=u.StormM16.setPerspectiveProjection(e,t,this._near,this._far):this.mProjectionMatrix=u.StormM16.setOrthographicProjection(-t*e,t*e,-t*e,t*e,this._nearOrtho,this._farOrtho)}}]),t}();i.ComponentProjection=d,t.exports.ComponentProjection=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,"./StormMath.class":25}],13:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentTransform=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Constants"),c=n.ComponentTransform=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.TRANSFORM,e.node=null,e.gl=null,e.mModelMatrix_Position=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.mModelMatrix_Rotation=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"getMatrixPosition",value:function(){return this.mModelMatrix_Position}},{key:"getPosition",value:function(){return $V3([this.mModelMatrix_Position.e[3],this.mModelMatrix_Position.e[7],this.mModelMatrix_Position.e[11]])}},{key:"getPosX",value:function(){return this.mModelMatrix_Position.e[3]}},{key:"getPosY",value:function(){return this.mModelMatrix_Position.e[7]}},{key:"getPosZ",value:function(){return this.mModelMatrix_Position.e[11]}},{key:"setPosition",value:function(e){this.mModelMatrix_Position.e[3]=e.e[0],this.mModelMatrix_Position.e[7]=e.e[1],this.mModelMatrix_Position.e[11]=e.e[2]}},{key:"setPosX",value:function(e){this.mModelMatrix_Position.e[3]=e}},{key:"setPosY",value:function(e){this.mModelMatrix_Position.e[7]=e}},{key:"setPosZ",value:function(e){this.mModelMatrix_Position.e[11]=e}},{key:"getMatrixRotation",value:function(){return this.mModelMatrix_Rotation}}]),t}();i.ComponentTransform=c,t.exports.ComponentTransform=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16}],14:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentTransformTarget=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Component.class"),u=e("./Utils.class"),c=e("./StormMath.class"),d=e("./Constants"),h=n.ComponentTransformTarget=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=d.Constants.COMPONENT_TYPES.TRANSFORM_TARGET,e.node=null,e.gl=null,e.mModelMatrix=$M16([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e.targetDistance=5,e.positionGoal=$V3([0,0,e.targetDistance]),e.positionTarget=$V3([0,0,0]),e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t,this.performMatrix()}},{key:"getMatrix",value:function(){return this.mModelMatrix}},{key:"setTargetDistance",value:function(e){this.targetDistance=e}},{key:"getTargetDistance",value:function(){return this.targetDistance}},{key:"setPositionGoal",value:function(e){this.positionGoal=e,this.performMatrix()}},{key:"getPositionGoal",value:function(){return this.positionGoal}},{key:"setPositionTarget",value:function(e){this.positionTarget=e,this.performMatrix()}},{key:"getPositionTarget",value:function(){return this.positionTarget}},{key:"reset",value:function(){this.positionGoal=$V3([0,0,this.targetDistance]),this.positionTarget=$V3([0,0,0]),this.performMatrix()}},{key:"yaw",value:function(e){var t=this.getPositionGoal().subtract(this.getPositionTarget()),n=u.Utils.cartesianToSpherical(t.normalize()),i=u.Utils.sphericalToCartesian(n.radius,n.lat,n.lng+e);this.setPositionGoal(this.getPositionTarget().add(i.x(this.getTargetDistance())))}},{key:"pitch",value:function(e){var t=this.getPositionGoal().subtract(this.getPositionTarget()),n=u.Utils.cartesianToSpherical(t.normalize()),i=u.Utils.sphericalToCartesian(n.radius,n.lat+e,n.lng);this.setPositionGoal(this.getPositionTarget().add(i.x(this.getTargetDistance())))}},{key:"performMatrix",value:function(){this.mModelMatrix=c.StormM16.makeLookAt(this.getPositionGoal().e[0],this.getPositionGoal().e[1],this.getPositionGoal().e[2],this.getPositionTarget().e[0],this.getPositionTarget().e[1],this.getPositionTarget().e[2],0,1,0)}}]),t}();i.ComponentTransformTarget=h,t.exports.ComponentTransformTarget=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,"./StormMath.class":25,"./Utils.class":38}],15:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Component_GPU=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e("webclgl");var l=e("./Component.class"),u=e("./Constants"),c=n.Component_GPU=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.type=u.Constants.COMPONENT_TYPES.GPU,e.node=null,e.gl=null,e.gpufG=null,e.args={},e}return s(t,l.Component),a(t,[{key:"initialize",value:function(e,t){this.node=e,this.gl=t}},{key:"tick",value:function(e){this.tickArguments(),null!=this.gpufG&&this.gpufG.processKernels(),null!=this.gpufG&&this.gpufG.processGraphic(void 0)}},{key:"setGPUFor",value:function(){var e=this,t=arguments;for(var n in arguments[1]){var i=n.split(" ");if(null!=i&&i.length>1){var o=i[1];this.args[o]={fnvalue:arguments[1][n],updatable:null,splits:null,overrideDimensions:null}}arguments[1][n]=arguments[1][n]()}this.gpufG=new function(){return gpufor.apply(e,t)}}},{key:"getWebCLGL",value:function(){return this.gpufG.getWebCLGL()}},{key:"addArgument",value:function(e,t){this.args[e.split(" ")[1]]={fnvalue:t,updatable:null,splits:null,overrideDimensions:null},this.gpufG.addArg(e)}},{key:"setArg",value:function(e,t,n,i){var o=this.gpufG.setArg(e,t(),n,i);return this.args[e]={fnvalue:t,updatable:null,splits:n,overrideDimensions:i},o}},{key:"getComponentBufferArg",value:function(e,t){this.gpufG.getGPUForArg(e,t.gpufG),this.args[e]={fnvalue:null,updatable:null,splits:null,overrideDimensions:null}}},{key:"getArgs",value:function(){return this.args}},{key:"getAllArgs",value:function(){return this.gpufG.getAllArgs()}},{key:"getBuffers",value:function(){return this.gpufG._argsValues}},{key:"setArgUpdatable",value:function(e,t){this.args[e].updatable=t}},{key:"tickArguments",value:function(){for(var e in this.args)if(!0===this.args[e].updatable){var t=this.args[e];this.gpufG.setArg(e,t.fnvalue(),t.splits,t.overrideDimensions)}}}]),t}();i.Component_GPU=c,t.exports.Component_GPU=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Component.class":8,"./Constants":16,webclgl:6}],16:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=n.Constants={EVENT_TYPES:{KEY_DOWN:0,KEY_UP:1,MOUSE_DOWN:2,MOUSE_UP:3,MOUSE_MOVE:4,MOUSE_WHEEL:5},COMPONENT_TYPES:{KEYBOARD_EVENTS:0,MOUSE_EVENTS:1,TRANSFORM:2,TRANSFORM_TARGET:3,CONTROLLER_TRANSFORM_TARGET:4,PROJECTION:5,GPU:6},PROJECTION_TYPES:{PERSPECTIVE:0,ORTHO:1},VIEW_TYPES:{LEFT:0,RIGHT:1,FRONT:2,BACK:3,TOP:4,BOTTOM:5},BLENDING_MODES:{ZERO:"ZERO",ONE:"ONE",SRC_COLOR:"SRC_COLOR",ONE_MINUS_SRC_COLOR:"ONE_MINUS_SRC_COLOR",DST_COLOR:"DST_COLOR",ONE_MINUS_DST_COLOR:"ONE_MINUS_DST_COLOR",SRC_ALPHA:"SRC_ALPHA",ONE_MINUS_SRC_ALPHA:"ONE_MINUS_SRC_ALPHA",DST_ALPHA:"DST_ALPHA",ONE_MINUS_DST_ALPHA:"ONE_MINUS_DST_ALPHA",SRC_ALPHA_SATURATE:"SRC_ALPHA_SATURATE",CONSTANT_COLOR:"CONSTANT_COLOR",ONE_MINUS_CONSTANT_COLOR:"ONE_MINUS_CONSTANT_COLOR",CONSTANT_ALPHA:"CONSTANT_ALPHA",ONE_MINUS_CONSTANT_ALPHA:"ONE_MINUS_CONSTANT_ALPHA"},BLENDING_EQUATION_TYPES:{FUNC_ADD:"FUNC_ADD",FUNC_SUBTRACT:"FUNC_SUBTRACT",FUNC_REVERSE_SUBTRACT:"FUNC_REVERSE_SUBTRACT"},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6}};e.Constants=i,t.exports.Constants=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Mesh=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=n.Mesh=function(){function e(){o(this,e),this._obj={},this._textures={},this.objIndex=null,this.indexMax=0}return r(e,[{key:"loadPoint",value:function(){return this._obj.vertexArray=[0,0,0,0],this._obj.normalArray=[0,1,0,0],this._obj.textureArray=[0,0,0,0],this._obj.textureUnitArray=[0],this._obj.indexArray=[0],this._obj}},{key:"loadTriangle",value:function(e){var t=void 0!==e&&void 0!==e.scale?e.scale:1,n=void 0!==e&&void 0!==e.side?e.side:1;return this._obj.vertexArray=[0,0,0,1,n/2*t,0,-1*t,1,-n/2*t,0,-1*t,1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1],this._obj.textureUnitArray=[0,0,0],this._obj.indexArray=[0,1,2],this._obj}},{key:"loadQuad",value:function(e,t){var n=void 0===e?.5:e,i=void 0===t?.5:t;return this._obj={},this._obj.vertexArray=[-n,-i,0,1,n,-i,0,1,n,i,0,1,-n,i,0,1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1],this._obj.textureUnitArray=[0,0,0,0],this._obj.indexArray=[0,1,2,0,2,3],this._obj}},{key:"loadCircle",value:function(e){this._obj={vertexArray:[],normalArray:[],textureArray:[],textureUnitArray:[],indexArray:[]},this.objIndex=[],this.indexMax=0;for(var t=void 0!==e&&void 0!==e.segments?e.segments:6,n=void 0!==e&&void 0!==e.radius?e.radius:.5,i=360/t,o=360/i,r=function(e){return Math.cos((new s.Utils).degToRad(e))}.bind(this),a=function(e){return Math.sin((new s.Utils).degToRad(e))}.bind(this),l=1,u=o;l<=u;l++){var c=i*l,d=$V3([r(c)*n,0,a(c)*n]),h=$V3([r(c-i)*n,0,a(c-i)*n]),f=$V3([0,0,0]),p=h.subtract(d).cross(f.subtract(d)).normalize(),g=$V3([c/360,0,0]),v=$V3([(c-i)/360,0,0]),_=$V3([0,0,0]),m=this.testIfInIndices(this._obj,d,p,g),y=this.testIfInIndices(this._obj,h,p,v),b=this.testIfInIndices(this._obj,f,p,_);this._obj.indexArray.push(m,y,b)}return this._obj}},{key:"testIfInIndices",value:function(e,t,n,i){for(var o=void 0,r=0,s=this.objIndex.length;r<s;r++)this.objIndex[r].v.e[0]===t.e[0]&&this.objIndex[r].v.e[1]===t.e[1]&&this.objIndex[r].v.e[2]===t.e[2]&&(o=this.objIndex[r].i);return void 0===o&&(o=this.indexMax,this.objIndex.push({i:o,v:$V3([t.e[0],t.e[1],t.e[2]])}),this.indexMax++,e.vertexArray.push(t.e[0],t.e[1],t.e[2],1),e.normalArray.push(n.e[0],n.e[1],n.e[2],1),e.textureArray.push(t.e[0]+.5,t.e[2]+.5,t.e[2]+.5,1),e.textureUnitArray.push(0)),o}},{key:"loadBox",value:function(){this._obj={};var e=new Float32Array([.5,.5,.5]);return this._obj.vertexArray=[-1*e[0],-1*e[1],1*e[2],1,1*e[0],-1*e[1],1*e[2],1,1*e[0],1*e[1],1*e[2],1,-1*e[0],1*e[1],1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,-1*e[0],1*e[1],-1*e[2],1,1*e[0],1*e[1],-1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,-1*e[0],1*e[1],-1*e[2],1,-1*e[0],1*e[1],1*e[2],1,1*e[0],1*e[1],1*e[2],1,1*e[0],1*e[1],-1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,1*e[0],-1*e[1],1*e[2],1,-1*e[0],-1*e[1],1*e[2],1,1*e[0],-1*e[1],-1*e[2],1,1*e[0],1*e[1],-1*e[2],1,1*e[0],1*e[1],1*e[2],1,1*e[0],-1*e[1],1*e[2],1,-1*e[0],-1*e[1],-1*e[2],1,-1*e[0],-1*e[1],1*e[2],1,-1*e[0],1*e[1],1*e[2],1,-1*e[0],1*e[1],-1*e[2],1],this._obj.normalArray=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1],this._obj.textureArray=[0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1,1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,1,0,1,1,1,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1,0,0,0,1,0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,1],this._obj.textureUnitArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._obj.indexArray=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],this._obj}},{key:"loadObj",value:function(e,t){for(var n="",i=e.split("/"),o=0,r=i.length-1;o<r;o++)n=n+i[o]+"/";var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(e){var t=new FileReader;t.onload=function(e,t){var i=t.target.result;this.loadObjFromSourceText({sourceText:i,objDirectory:n}),void 0!==e&&"function"==typeof e&&e(this._obj,this._textures)}.bind(this,e),t.readAsText(s.response)}.bind(this,t),s.send(null)}},{key:"loadObjFromSourceText",value:function(e){this._obj={},this._textures={};var t=void 0,n=void 0;t=void 0!==e.sourceText?e.sourceText:void 0,n=void 0!==e.objDirectory?e.objDirectory:void 0;var i=t.split("\r\n");if(1===i.length&&(i=t.split("\n")),null!=i[0].match(/OBJ/gim)){var o=[],r=[],s=[],a=[],l=[],u=[],c=[],d=[],h=[],f=[],p=0,g=[],v=0,_=0,m=!1,y=[],b=[],E=[],C=[],T=[],x=[],P=[],w=[],L=[],S=0,A=0,k=0,M=[],R=0,N={},U=[-1,0];N._unnamed=U;for(var O="",I="",D=0,G=i.length;D<G;D++){var F=i[D].replace(/\t+/gi," ").replace(/\s+$/gi,"").replace(/\s+/gi," ");if("#"!==F[0]){var B=F.split(" ");if("mtllib"===B[0]&&(O=B[1]),"g"===B[0]&&(U=[g.length,0],N[B[1]]=U),"v"===B[0]&&(y[S]=parseFloat(B[1]),b[S]=parseFloat(B[2]),E[S]=parseFloat(B[3]),S++),"vn"===B[0]&&(C[A]=parseFloat(B[1]),T[A]=parseFloat(B[2]),x[A]=parseFloat(B[3]),A++),"vt"===B[0]&&(P[k]=parseFloat(B[1]),w[k]=parseFloat(B[2]),L[k]=parseFloat(B[3]),k++),"usemtl"===B[0]&&(I=B[1],this._textures[p]={fileUrl:n+O,materialName:I},p++),"f"===B[0]){4!==B.length&&console.log("*** Error: face '"+F+"' not handled");for(var W=1;W<4;++W){m=!0;var V=B[W].split("/");if(void 0===M[B[W]]){var j=void 0,Y=void 0,H=void 0;if(1===V.length)Y=j=parseInt(V[0])-1,H=j;else{if(3!==V.length)return null;j=parseInt(V[0])-1,H=parseInt(V[1])-1,Y=parseInt(V[2])-1}f[v]=p-1,o[v]=0,r[v]=0,s[v]=0,j<E.length&&(o[v]=y[j],r[v]=b[j],s[v]=E[j]),c[v]=0,d[v]=0,h[v]=0,H<L.length&&(c[v]=P[H],d[v]=w[H],h[v]=L[H]),a[v]=0,l[v]=0,u[v]=1,Y<x.length&&(a[v]=C[Y],l[v]=T[Y],u[v]=x[Y]),v++,M[B[W]]=R,R++}g[_]=M[B[W]],_++,U[1]++}}}}if(!0===m){this._obj.vertexArray=new Float32Array(4*o.length);for(var X=0,z=o.length;X<z;X++){var K=4*X;this._obj.vertexArray[K]=o[X],this._obj.vertexArray[K+1]=r[X],this._obj.vertexArray[K+2]=s[X],this._obj.vertexArray[K+3]=1}this._obj.normalArray=new Float32Array(4*a.length);for(var q=0,$=a.length;q<$;q++){var Z=4*q;this._obj.normalArray[Z]=a[q],this._obj.normalArray[Z+1]=l[q],this._obj.normalArray[Z+2]=u[q],this._obj.normalArray[Z+3]=1}this._obj.textureArray=new Float32Array(4*c.length);for(var Q=0,J=c.length;Q<J;Q++){var ee=4*Q;this._obj.textureArray[ee]=c[Q],this._obj.textureArray[ee+1]=d[Q],this._obj.textureArray[ee+2]=h[Q],this._obj.textureArray[ee+3]=1}this._obj.textureUnitArray=f,this._obj.indexArray=g}}else alert("Not OBJ file")}}]),e}();i.Mesh=a,t.exports.Mesh=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utils.class":38}],18:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Node=function(){function e(){i(this,e),this._components={},this._name=null,this._gl=null,this._enabled=!0,this.onTick=null}return o(e,[{key:"initialize",value:function(e,t){this._name=e,this._gl=t}},{key:"addComponent",value:function(e){this._components[e.type]=e,this._components[e.type].initialize(this,this._gl)}},{key:"getComponent",value:function(e){return this._components[e]}},{key:"getComponents",value:function(){return this._components}},{key:"setEnabled",value:function(e){this._enabled=e}},{key:"isEnabled",value:function(){return this._enabled}},{key:"setName",value:function(e){this._name=e}},{key:"getName",value:function(){return this._name}}]),e}();e.Node=r,t.exports.Node=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Grid=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../Utils.class"),a=e("../../ComponentTransform.class"),l=e("../../Component_GPU.class"),u=e("../../Mesh.class"),c=e("../../Constants"),d=n.Grid=function(){function e(t){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this._gl=this._project.getActiveStage().getWebGLContext(),this._utils=new s.Utils,this.node=new Node,this.node.setName("grid"),this._project.getActiveStage().addNode(this.node),this.mesh=(new u.Mesh).loadBox(),this.comp_transform=new a.ComponentTransform,this.node.addComponent(this.comp_transform),this.comp_renderer=new l.Component_GPU,this.node.addComponent(this.comp_renderer),this.gridColor=$V3([.3,.3,.3])}return r(e,[{key:"generate",value:function(e,t){this.gridEnabled=!0,this.size=void 0!==e&&null!==e?e:this.size,this.separation=void 0!==t&&null!==t?t:this.separation,this.countLines=this.size/this.separation+1,this.countLines*=2;var n=-this.size/2,i=this.size/2,o=-this.size/2,r=this.size/2,s=n,a=o,l=[],u=[],d=[];this.id=0;for(var h=0,f=this.countLines;h<f;h++)a<=r?(l.push(n,0,a,1,i,0,a,1),a+=this.separation):(l.push(s,0,o,1,s,0,r,1),s+=this.separation),u.push(this.gridColor.e[0],this.gridColor.e[1],this.gridColor.e[2],1,this.gridColor.e[0],this.gridColor.e[1],this.gridColor.e[2],1),d.push(this.id,this.id+1),this.id+=2;l.push(0,0,0,1,10,0,0,1),u.push(1,0,0,1,1,0,0,1),d.push(this.id,this.id+1),this.id+=2,l.push(0,0,0,1,0,10,0,1),u.push(0,1,0,1,0,1,0,1),d.push(this.id,this.id+1),this.id+=2,l.push(0,0,0,1,0,0,10,1),u.push(0,0,1,1,0,0,1,1),d.push(this.id,this.id+1),this.comp_renderer.setGPUFor(this.comp_renderer.gl,{"float4*attr vertexPos":function(){return l}.bind(this),"float4*attr vertexColor":function(){return u}.bind(this),indices:function(){return d}.bind(this),"mat4 PMatrix":function(){return this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.PROJECTION).getMatrix().transpose().e}.bind(this),"mat4 cameraWMatrix":function(){return this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix().transpose().e}.bind(this),"mat4 nodeWMatrix":function(){return this.node.getComponent(c.Constants.COMPONENT_TYPES.TRANSFORM).getMatrixPosition().transpose().e}.bind(this)},{type:"GRAPHIC",config:[["RGB"],"varying vec4 vVC;\n","vec4 vp = vertexPos[];\nvec4 vc = vertexColor[];\nvVC = vc;gl_Position = PMatrix * cameraWMatrix * nodeWMatrix * vp;\n","varying vec4 vVC;\n","return [vVC];\n"],drawMode:1,depthTest:!0,blend:!0,blendEquation:c.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:c.Constants.BLENDING_MODES.SRC_ALPHA,blendDstMode:c.Constants.BLENDING_MODES.ONE_MINUS_SRC_ALPHA}),this.comp_renderer.setArgUpdatable("PMatrix",!0),this.comp_renderer.setArgUpdatable("cameraWMatrix",!0),this.comp_renderer.setArgUpdatable("nodeWMatrix",!0),this.comp_renderer.getComponentBufferArg("RGB",this._project.getActiveStage().getActiveCamera().getComponent(c.Constants.COMPONENT_TYPES.GPU))}}]),e}();i.Grid=d,t.exports.Grid=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentTransform.class":13,"../../Component_GPU.class":15,"../../Constants":16,"../../Mesh.class":17,"../../Utils.class":38}],20:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleCamera=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../ComponentTransformTarget.class"),a=e("../../ComponentProjection.class"),l=e("../../ComponentControllerTransformTarget.class"),u=e("../../Component_GPU.class"),c=e("../../ComponentKeyboardEvents.class"),d=e("../../ComponentMouseEvents.class"),h=e("../../Node.class"),f=e("../../Constants"),p=function(){function e(t,n){var i=this;o(this,e);var r=t,p=r.getLoadedProject();this._onkeydown=void 0!==n&&void 0!==n.onkeydown&&null!==n.onkeydown?n.onkeydown:null,this._onkeyup=void 0!==n&&void 0!==n.onkeyup&&null!==n.onkeyup?n.onkeyup:null,this._onmousedown=void 0!==n&&void 0!==n.onmousedown&&null!==n.onmousedown?n.onmousedown:null,this._onmouseup=void 0!==n&&void 0!==n.onmouseup&&null!==n.onmouseup?n.onmouseup:null,this._onmousemove=void 0!==n&&void 0!==n.onmousemove&&null!==n.onmousemove?n.onmousemove:null,this._onmousewheel=void 0!==n&&void 0!==n.onmousewheel&&null!==n.onmousewheel?n.onmousewheel:null,this._useAltKey=!0,this.altKeyPressed=!1,this._preventMove=!1,this.camera=new h.Node,this.camera.setName("simple camera"),p.getActiveStage().addNode(this.camera),p.getActiveStage().setActiveCamera(this.camera),this.comp_transformTarget=new s.ComponentTransformTarget,this.camera.addComponent(this.comp_transformTarget),this.comp_transformTarget.setTargetDistance(.5),this.comp_projection=new a.ComponentProjection,this.camera.addComponent(this.comp_projection),this.comp_controllerTransformTarget=new l.ComponentControllerTransformTarget,this.camera.addComponent(this.comp_controllerTransformTarget),this.comp_screenEffects=new u.Component_GPU,this.camera.addComponent(this.comp_screenEffects),this.comp_screenEffects.setGPUFor(this.comp_screenEffects.gl,{"float4* RGB":function(){return new Float32Array(r.getCanvas().width*r.getCanvas().width*4)}},{type:"KERNEL",name:"CAMERA_RGB_KERNEL",viewSource:!1,config:["n",void 0,"","vec4 color = RGB[n];\nreturn color;\n"],drawMode:4,depthTest:!1,blend:!1,blendEquation:f.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:f.Constants.BLENDING_MODES.ONE,blendDstMode:f.Constants.BLENDING_MODES.ZERO}),this.comp_screenEffects.gpufG.onPostProcessKernel(0,function(){}),this.comp_keyboardEvents=new c.ComponentKeyboardEvents,this.camera.addComponent(this.comp_keyboardEvents),this.comp_keyboardEvents.onkeydown(function(e){var t=String.fromCharCode(e.keyCode);"W"===t&&i.comp_controllerTransformTarget.forward(),"S"===t&&i.comp_controllerTransformTarget.backward(),"A"!==t&&"%"!==t||i.comp_controllerTransformTarget.strafeLeft(),"D"!==t&&"'"!==t||i.comp_controllerTransformTarget.strafeRight(),"E"!==t&&"&"!==t||i.comp_controllerTransformTarget.strafeFront(),"C"!==t&&"("!==t||i.comp_controllerTransformTarget.strafeBack(),"L"===t&&i.setView(f.Constants.VIEW_TYPES.LEFT),"R"===t&&i.setView(f.Constants.VIEW_TYPES.RIGHT),"F"===t&&i.setView(f.Constants.VIEW_TYPES.FRONT),"B"===t&&i.setView(f.Constants.VIEW_TYPES.BACK),"T"===t&&i.setView(f.Constants.VIEW_TYPES.TOP),"P"===t&&i.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.PERSPECTIVE),"O"===t&&i.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.ORTHO),!0===e.altKey&&(i.altKeyPressed=!0),null!=i._onkeydown&&i._onkeydown()}),this.comp_keyboardEvents.onkeyup(function(e){var t=String.fromCharCode(e.keyCode);"W"===t&&i.comp_controllerTransformTarget.stopForward(),"S"===t&&i.comp_controllerTransformTarget.stopBackward(),"A"!==t&&"%"!==t||i.comp_controllerTransformTarget.stopStrafeLeft(),"D"!==t&&"'"!==t||i.comp_controllerTransformTarget.stopStrafeRight(),"E"!==t&&"&"!==t||i.comp_controllerTransformTarget.stopStrafeFront(),"C"!==t&&"("!==t||i.comp_controllerTransformTarget.stopStrafeBack(),!1===e.altKey&&(i.altKeyPressed=!1),null!=i._onkeyup&&i._onkeyup()});var g=new d.ComponentMouseEvents;this.camera.addComponent(g),g.onmousedown(function(e){i.comp_controllerTransformTarget.mouseDown(e),!0===e.altKey&&(i.altKeyPressed=!0),null!=i._onmousedown&&i._onmousedown()}),g.onmouseup(function(e){i.comp_controllerTransformTarget.mouseUp(e),!1===e.altKey&&(i.altKeyPressed=!1),null!=i._onmouseup&&i._onmouseup()}),g.onmousemove(function(e,t){null!=i._onmousemove&&i._onmousemove(),!1===i._preventMove&&((i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.PERSPECTIVE||!0===i._useAltKey&&!0===i.altKeyPressed||!1===i._useAltKey)&&i.comp_controllerTransformTarget.mouseMove(e),!0===i.comp_controllerTransformTarget.isRightBtnActive()&&i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.ORTHO&&!0===i.altKeyPressed&&(t.e[2]>0?i.comp_projection.setFov(i.comp_projection.getFov()*(1+Math.abs(.005*t.e[2]))):i.comp_projection.setFov(i.comp_projection.getFov()/(1+Math.abs(.005*t.e[2])))))}),g.onmousewheel(function(e,t){void 0!==e.wheelDeltaY&&e.wheelDeltaY>=0||void 0!==e.deltaY&&e.deltaY<=0?i.comp_projection.setFov(i.comp_projection.getFov()/1.1):i.comp_projection.setFov(1.1*i.comp_projection.getFov()),i.comp_projection.getProjection()===f.Constants.PROJECTION_TYPES.ORTHO&&(i.comp_transformTarget.setPositionTarget(i.comp_transformTarget.getPositionTarget().add(t)),i.comp_transformTarget.setPositionGoal(i.comp_transformTarget.getPositionGoal().add(t))),null!=i._onmousewheel&&i._onmousewheel()})}return r(e,[{key:"setView",value:function(e){switch(this.comp_projection.setProjection(f.Constants.PROJECTION_TYPES.ORTHO),this.comp_transformTarget.reset(),e){case f.Constants.VIEW_TYPES.LEFT:this.comp_transformTarget.yaw(90);break;case f.Constants.VIEW_TYPES.RIGHT:this.comp_transformTarget.yaw(-90);break;case f.Constants.VIEW_TYPES.FRONT:case f.Constants.VIEW_TYPES.BACK:break;case f.Constants.VIEW_TYPES.TOP:this.comp_transformTarget.pitch(-89.9);break;case f.Constants.VIEW_TYPES.BOTTOM:this.comp_transformTarget.pitch(90)}}},{key:"setLeftButtonAction",value:function(e){this.comp_controllerTransformTarget.setLeftButtonAction(e)}},{key:"setMiddleButtonAction",value:function(e){this.comp_controllerTransformTarget.setMiddleButtonAction(e)}},{key:"setRightButtonAction",value:function(e){this.comp_controllerTransformTarget.setRightButtonAction(e)}},{key:"isAltKeyEnabled",value:function(){return this._useAltKey}},{key:"isAltKeyPressed",value:function(){return this.altKeyPressed}},{key:"setVelocity",value:function(e){this.comp_controllerTransformTarget.setVelocity(e)}},{key:"setFov",value:function(e){this.comp_projection.setFov(e)}},{key:"getFov",value:function(){return this.comp_projection.getFov()}}],[{key:"preventMove",value:function(e){this._preventMove=e}},{key:"useAltKey",value:function(e){this._useAltKey=e}}]),e}();n.SimpleCamera=p,i.SimpleCamera=p,t.exports.SimpleCamera=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentControllerTransformTarget.class":9,"../../ComponentKeyboardEvents.class":10,"../../ComponentMouseEvents.class":11,"../../ComponentProjection.class":12,"../../ComponentTransformTarget.class":14,"../../Component_GPU.class":15,"../../Constants":16,"../../Node.class":18}],21:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleNode=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../../ComponentTransform.class"),a=e("../../Component_GPU.class"),l=e("../../VFP_RGB.class"),u=e("../../Constants"),c=n.SimpleNode=function(){function e(t){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this.node=new Node,this._project.getActiveStage().addNode(this.node),this._mesh=null;var n=new s.ComponentTransform;this.node.addComponent(n),this.comp_renderer=new a.Component_GPU,this.node.addComponent(this.comp_renderer)}return r(e,[{key:"setMesh",value:function(e){var t=this;this._mesh=e,this.comp_renderer.setGPUFor(this.comp_renderer.gl,{"float4*attr vertexPos":function(){return t._mesh.vertexArray},"float4*attr vertexNormal":function(){return t._mesh.normalArray},"float4*attr vertexTexture":function(){return t._mesh.textureArray},"float*attr vertexTextureUnit":function(){return t._mesh.textureUnitArray},indices:function(){return t._mesh.indexArray},"mat4 PMatrix":function(){return t._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.PROJECTION).getMatrix().transpose().e},"mat4 cameraWMatrix":function(){return t._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix().transpose().e},"mat4 nodeWMatrix":function(){return t.node.getComponent(u.Constants.COMPONENT_TYPES.TRANSFORM).getMatrixPosition().transpose().e},"float nodesSize":function(){return 30},"float4* texAlbedo":function(){return t._mesh.vertexArray}},{type:"GRAPHIC",config:new l.VFP_RGB(1).getSrc(),drawMode:4,depthTest:!0,blend:!0,blendEquation:u.Constants.BLENDING_EQUATION_TYPES.FUNC_ADD,blendSrcMode:u.Constants.BLENDING_MODES.SRC_ALPHA,blendDstMode:u.Constants.BLENDING_MODES.ONE_MINUS_SRC_ALPHA}),this.comp_renderer.setArgUpdatable("PMatrix",!0),this.comp_renderer.setArgUpdatable("cameraWMatrix",!0),this.comp_renderer.setArgUpdatable("nodeWMatrix",!0),this.comp_renderer.getComponentBufferArg("RGB",this._project.getActiveStage().getActiveCamera().getComponent(u.Constants.COMPONENT_TYPES.GPU)),this.comp_renderer.gpufG.onPreProcessGraphic(0,function(){})}},{key:"setImage",value:function(e){var t=this,n=new Image;n.onload=function(){t.comp_renderer.setArg("texAlbedo",function(){return n})},n.src=e}}]),e}();i.SimpleNode=c,t.exports.SimpleNode=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../ComponentTransform.class":13,"../../Component_GPU.class":15,"../../Constants":16,"../../VFP_RGB.class":39}],22:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.Project=function(){function e(){i(this,e),this.stages=[],this.activeStage=null,this.gl=null}return o(e,[{key:"setActiveStage",value:function(e){this.activeStage=e,this.activeStage.setWebGLContext(this.gl)}},{key:"getActiveStage",value:function(){return this.activeStage}},{key:"addStage",value:function(e){this.stages.push(e)}},{key:"setWebGLContext",value:function(e){this.gl=e}}]),e}();e.Project=r,t.exports.Project=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SCE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./SystemEvents.class"),a=e("./Utils.class"),l=e("./UI/UI.class"),u=e("./Constants"),c=n.SCE=function(){function e(){o(this,e),this.target=null,this.project=null,this.dimensions=null,this.canvas=null,this.gl=null,this._UI=null,this._enableUI=null,this._events=null}return r(e,[{key:"initialize",value:function(e){if(this.target=void 0!==e.target?e.target:void 0,this.dimensions=void 0!==e.dimensions?e.dimensions:{width:512,height:512},this._enableUI=void 0!==e.enableUI&&e.enableUI,null!=this.target){if(this.canvas=document.createElement("canvas"),this.target.appendChild(this.canvas),this.setDimensions(this.dimensions.width,this.dimensions.height),void 0!==e.gl&&null!==e.gl)this.gl=e.gl;else if(!(this.gl=a.Utils.getWebGLContextFromCanvas(this.canvas)))return alert("No WebGLRenderingContext"),!1}else alert("Target DIV required")}},{key:"loadProject",value:function(e){this.project=e,this.project.setWebGLContext(this.gl),!0===this._enableUI&&(this._UI=new l.UI(this.project).render(this.target,this.canvas)),this._events=new s.SystemEvents(this,this.canvas),this._events.initialize()}},{key:"getLoadedProject",value:function(){return this.project}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getEvents",value:function(){return this._events}},{key:"setDimensions",value:function(e,t){if(this.dimensions={width:e,height:t},this.canvas.setAttribute("width",this.dimensions.width),this.canvas.setAttribute("height",this.dimensions.height),null!=this.project&&null!=this.project.getActiveStage()){var n=this.project.getActiveStage().getActiveCamera();if(null!=n){var i=n.getComponent(u.Constants.COMPONENT_TYPES.PROJECTION),o=n.getComponent(u.Constants.COMPONENT_TYPES.GPU);i.setResolution(this.dimensions.width,this.dimensions.width),o.setArg("RGB",function(){return new Float32Array(this.dimensions.width*this.dimensions.width*4)}.bind(this))}}}},{key:"getDimensions",value:function(){return this.dimensions}}]),e}();i.SCE=c,t.exports.SCE=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16,"./SystemEvents.class":26,"./UI/UI.class":32,"./Utils.class":38}],24:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Constants"),a=n.Stage=function(){function e(){o(this,e),this.nodes=[],this.activeCamera=null,this.selectedNode=null,this.paused=!1,this.backgroundColor=[0,0,0,1],this.gl=null,this._ontick=null}return r(e,[{key:"setActiveCamera",value:function(e){this.activeCamera=e}},{key:"getActiveCamera",value:function(){return this.activeCamera}},{key:"setSelectedNode",value:function(e){this.selectedNode=e}},{key:"getSelectedNode",value:function(){return this.selectedNode}},{key:"addNode",value:function(e){this.nodes.push(e),e.initialize(null!=e.getName()?e.getName():"node "+(this.nodes.length-1),this.gl)}},{key:"removeNode",value:function(e){for(var t=0;t<this.nodes.length;t++)if(this.nodes[t]===e){this.nodes.splice(t,1);break}}},{key:"getNodes",value:function(){return this.nodes}},{key:"render",value:function(e){this._ontick=e,this.paused=!1,this.setBackgroundColor(this.backgroundColor),this.tick()}},{key:"pause",value:function(){this.paused=!0}},{key:"setWebGLContext",value:function(e){this.gl=e}},{key:"setBackgroundColor",value:function(e){this.backgroundColor=e}},{key:"getBackgroundColor",value:function(){return this.backgroundColor}},{key:"getWebGLContext",value:function(){return this.gl}},{key:"tick",value:function(){if(null!=this.activeCamera){void 0!==this._ontick&&null!==this._ontick&&this._ontick();var e=this.activeCamera.getComponent(s.Constants.COMPONENT_TYPES.PROJECTION).getResolution();this.gl.viewport(0,0,e.width,e.height),this.gl.clearColor(this.backgroundColor[0],this.backgroundColor[1],this.backgroundColor[2],this.backgroundColor[3]),this.gl.clearDepth(1),this.gl.depthFunc(this.gl.LEQUAL);var t=this.activeCamera.getComponent(s.Constants.COMPONENT_TYPES.GPU);void 0!==t&&null!==t&&t.gpufG.fillArg("RGB",[this.backgroundColor[0],this.backgroundColor[1],this.backgroundColor[2],this.backgroundColor[3]]);for(var n=0,i=this.nodes.length;n<i;n++)if(this.nodes[n]!==this.activeCamera){for(var o in this.nodes[n].getComponents()){var r=this.nodes[n].getComponent(o);null!=r.tick&&r.tick()}null!=this.nodes[n].onTick&&this.nodes[n].onTick()}for(var a=0,l=this.nodes.length;a<l;a++)if(this.nodes[a]!==this.activeCamera)for(var u in this.nodes[a].getComponents()){var c=this.nodes[a].getComponent(u);if(null!=c.gpufG)for(var d in c.gpufG.vertexFragmentPrograms){var h=c.gpufG.vertexFragmentPrograms[d],f=WebCLGLUtils.getOutputBuffers(h,c.gpufG._argsValues);!0===h.enabled&&null!=f&&(c.gpufG._gl.bindFramebuffer(c.gpufG._gl.FRAMEBUFFER,f[0].fBuffer),c.gpufG._gl.clear(c.gpufG._gl.DEPTH_BUFFER_BIT),c.gpufG._gl.bindFramebuffer(c.gpufG._gl.FRAMEBUFFER,f[0].fBufferTemp),c.gpufG._gl.clear(c.gpufG._gl.DEPTH_BUFFER_BIT))}}for(var p in this.activeCamera.getComponents()){var g=this.activeCamera.getComponent(p);null!=g.tick&&g.tick()}}}}]),e}();i.Stage=a,t.exports.Stage=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16}],25:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return new a(e)}function r(e){return new l(e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n.$M16=o,n.$V3=r;var a=n.StormM16=function(){function e(t){i(this,e),this.e=null,this.e=void 0!==t&&null!==t?new Float32Array(t):new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return s(e,[{key:"x",value:function(t){return o(t instanceof e?[this.e[0]*t.e[0]+this.e[1]*t.e[4]+this.e[2]*t.e[8]+this.e[3]*t.e[12],this.e[0]*t.e[1]+this.e[1]*t.e[5]+this.e[2]*t.e[9]+this.e[3]*t.e[13],this.e[0]*t.e[2]+this.e[1]*t.e[6]+this.e[2]*t.e[10]+this.e[3]*t.e[14],this.e[0]*t.e[3]+this.e[1]*t.e[7]+this.e[2]*t.e[11]+this.e[3]*t.e[15],this.e[4]*t.e[0]+this.e[5]*t.e[4]+this.e[6]*t.e[8]+this.e[7]*t.e[12],this.e[4]*t.e[1]+this.e[5]*t.e[5]+this.e[6]*t.e[9]+this.e[7]*t.e[13],this.e[4]*t.e[2]+this.e[5]*t.e[6]+this.e[6]*t.e[10]+this.e[7]*t.e[14],this.e[4]*t.e[3]+this.e[5]*t.e[7]+this.e[6]*t.e[11]+this.e[7]*t.e[15],this.e[8]*t.e[0]+this.e[9]*t.e[4]+this.e[10]*t.e[8]+this.e[11]*t.e[12],this.e[8]*t.e[1]+this.e[9]*t.e[5]+this.e[10]*t.e[9]+this.e[11]*t.e[13],this.e[8]*t.e[2]+this.e[9]*t.e[6]+this.e[10]*t.e[10]+this.e[11]*t.e[14],this.e[8]*t.e[3]+this.e[9]*t.e[7]+this.e[10]*t.e[11]+this.e[11]*t.e[15],this.e[12]*t.e[0]+this.e[13]*t.e[4]+this.e[14]*t.e[8]+this.e[15]*t.e[12],this.e[12]*t.e[1]+this.e[13]*t.e[5]+this.e[14]*t.e[9]+this.e[15]*t.e[13],this.e[12]*t.e[2]+this.e[13]*t.e[6]+this.e[14]*t.e[10]+this.e[15]*t.e[14],this.e[12]*t.e[3]+this.e[13]*t.e[7]+this.e[14]*t.e[11]+this.e[15]*t.e[15]]:[0,0,0,this.e[0]*t.e[0]+this.e[1]*t.e[1]+this.e[2]*t.e[2],0,0,0,this.e[4]*t.e[0]+this.e[5]*t.e[1]+this.e[6]*t.e[2],0,0,0,this.e[8]*t.e[0]+this.e[9]*t.e[1]+this.e[10]*t.e[2],0,0,0,this.e[12]*t.e[0]+this.e[13]*t.e[1]+this.e[14]*t.e[2]])}},{key:"transpose",value:function(){return o([this.e[0],this.e[4],this.e[8],this.e[12],this.e[1],this.e[5],this.e[9],this.e[13],this.e[2],this.e[6],this.e[10],this.e[14],this.e[3],this.e[7],this.e[11],this.e[15]])}},{key:"inverse",value:function(){var e=o(this.e).transpose().e,t=new Float32Array(12),n=new Float32Array(16);t[0]=e[10]*e[15],t[1]=e[11]*e[14],t[2]=e[9]*e[15],t[3]=e[11]*e[13],t[4]=e[9]*e[14],t[5]=e[10]*e[13],t[6]=e[8]*e[15],t[7]=e[11]*e[12],t[8]=e[8]*e[14],t[9]=e[10]*e[12],t[10]=e[8]*e[13],t[11]=e[9]*e[12],n[0]=t[0]*e[5]+t[3]*e[6]+t[4]*e[7],n[0]-=t[1]*e[5]+t[2]*e[6]+t[5]*e[7],n[1]=t[1]*e[4]+t[6]*e[6]+t[9]*e[7],n[1]-=t[0]*e[4]+t[7]*e[6]+t[8]*e[7],n[2]=t[2]*e[4]+t[7]*e[5]+t[10]*e[7],n[2]-=t[3]*e[4]+t[6]*e[5]+t[11]*e[7],n[3]=t[5]*e[4]+t[8]*e[5]+t[11]*e[6],n[3]-=t[4]*e[4]+t[9]*e[5]+t[10]*e[6],n[4]=t[1]*e[1]+t[2]*e[2]+t[5]*e[3],n[4]-=t[0]*e[1]+t[3]*e[2]+t[4]*e[3],n[5]=t[0]*e[0]+t[7]*e[2]+t[8]*e[3],n[5]-=t[1]*e[0]+t[6]*e[2]+t[9]*e[3],n[6]=t[3]*e[0]+t[6]*e[1]+t[11]*e[3],n[6]-=t[2]*e[0]+t[7]*e[1]+t[10]*e[3],n[7]=t[4]*e[0]+t[9]*e[1]+t[10]*e[2],n[7]-=t[5]*e[0]+t[8]*e[1]+t[11]*e[2],t[0]=e[2]*e[7],t[1]=e[3]*e[6],t[2]=e[1]*e[7],t[3]=e[3]*e[5],t[4]=e[1]*e[6],t[5]=e[2]*e[5],t[6]=e[0]*e[7],t[7]=e[3]*e[4],t[8]=e[0]*e[6],t[9]=e[2]*e[4],t[10]=e[0]*e[5],t[11]=e[1]*e[4],n[8]=t[0]*e[13]+t[3]*e[14]+t[4]*e[15],n[8]-=t[1]*e[13]+t[2]*e[14]+t[5]*e[15],n[9]=t[1]*e[12]+t[6]*e[14]+t[9]*e[15],n[9]-=t[0]*e[12]+t[7]*e[14]+t[8]*e[15],n[10]=t[2]*e[12]+t[7]*e[13]+t[10]*e[15],n[10]-=t[3]*e[12]+t[6]*e[13]+t[11]*e[15],n[11]=t[5]*e[12]+t[8]*e[13]+t[11]*e[14],n[11]-=t[4]*e[12]+t[9]*e[13]+t[10]*e[14],n[12]=t[2]*e[10]+t[5]*e[11]+t[1]*e[9],n[12]-=t[4]*e[11]+t[0]*e[9]+t[3]*e[10],n[13]=t[8]*e[11]+t[0]*e[8]+t[7]*e[10],n[13]-=t[6]*e[10]+t[9]*e[11]+t[1]*e[8],n[14]=t[6]*e[9]+t[11]*e[11]+t[3]*e[8],n[14]-=t[10]*e[11]+t[2]*e[8]+t[7]*e[9],n[15]=t[10]*e[10]+t[4]*e[8]+t[9]*e[9],n[15]-=t[8]*e[9]+t[11]*e[10]+t[5]*e[8];var i=e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3];return o([n[0]*i,n[1]*i,n[2]*i,n[3]*i,n[4]*i,n[5]*i,n[6]*i,n[7]*i,n[8]*i,n[9]*i,n[10]*i,n[11]*i,n[12]*i,n[13]*i,n[14]*i,n[15]*i])}},{key:"getLeft",value:function(){return r([this.e[0],this.e[4],this.e[8]]).normalize()}},{key:"getUp",value:function(){return r([this.e[1],this.e[5],this.e[9]]).normalize()}},{key:"getForward",value:function(){return r([this.e[2],this.e[6],this.e[10]]).normalize()}},{key:"setRotation",value:function(e,t,n){return void 0!==n&&null!==n&&null!==n.e[0]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1])):o([1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[1]?void 0===t||null===t||!0===t?this.x(o([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1])):o([Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[2]?void 0===t||null===t||!0===t?this.x(o([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1])):o([Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1,0,0,0,0,1]):void 0}},{key:"setRotationX",value:function(e,t){return this.setRotation(e,t,r([1,0,0]))}},{key:"setRotationY",value:function(e,t){return this.setRotation(e,t,r([0,1,0]))}},{key:"setRotationZ",value:function(e,t){return this.setRotation(e,t,r([0,0,1]))}},{key:"setScale",value:function(e,t,n){return void 0!==n&&null!==n&&null!==n.e[0]?void 0===t||null===t||!0===t?this.x(o([e,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])):o([e,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[1]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1])):o([1,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]):void 0!==n&&null!==n&&null!==n.e[2]?void 0===t||null===t||!0===t?this.x(o([1,0,0,0,0,1,0,0,0,0,e,0,0,0,0,1])):o([1,0,0,0,0,1,0,0,0,0,e,0,0,0,0,1]):void 0}},{key:"setScaleX",value:function(e,t){return this.setScale(e,t,r([1,0,0]))}},{key:"setScaleY",value:function(e,t){return this.setScale(e,t,r([0,1,0]))}},{key:"setScaleZ",value:function(e,t){return this.setScale(e,t,r([0,0,1]))}},{key:"getPosition",value:function(){return r([this.e[3],this.e[7],this.e[11]])}},{key:"setPosition",value:function(e){return this.e[3]=e.e[0],this.e[7]=e.e[1],this.e[11]=e.e[2],this}}],[{key:"makeLookAt",value:function(e,t,n,i,s,a,l,u,c){var d=r([e,t,n]),h=r([i,s,a]),f=r([l,u,c]),p=d.subtract(h).normalize(),g=f.cross(p).normalize(),v=p.cross(g).normalize(),_=o([g.e[0],g.e[1],g.e[2],0,v.e[0],v.e[1],v.e[2],0,p.e[0],p.e[1],p.e[2],0,0,0,0,1]),m=o([1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1]);return _.x(m)}},{key:"setPerspectiveProjection",value:function(e,t,n,i){var r=Math.tan(e*Math.PI/360)*n,s=-r,a=t*s,l=t*r;return o([2*n/(l-a),0,(l+a)/(l-a),0,0,2*n/(r-s),(r+s)/(r-s),0,0,0,-(i+n)/(i-n),-2*i*n/(i-n),0,0,-1,0])}},{key:"setOrthographicProjection",value:function(e,t,n,i,r,s){return o([2/(t-e),0,0,-(t+e)/(t-e),0,2/(i-n),0,-(i+n)/(i-n),0,0,-2/(s-r),-(s+r)/(s-r),0,0,0,1])}}]),e}();e.StormM16=a,t.exports.StormM16=a,e.$M16=o,t.exports.$M16=o;var l=n.StormV3=function(){function e(t){i(this,e),this.e=new Float32Array(t)}return s(e,[{key:"add",value:function(e){return r([this.e[0]+e.e[0],this.e[1]+e.e[1],this.e[2]+e.e[2]])}},{key:"cross",value:function(e){return r([this.e[1]*e.e[2]-this.e[2]*e.e[1],this.e[2]*e.e[0]-this.e[0]*e.e[2],this.e[0]*e.e[1]-this.e[1]*e.e[0]])}},{key:"distance",value:function(e){return Math.sqrt((this.e[0]-e.e[0])*(this.e[0]-e.e[0])+(this.e[1]-e.e[1])*(this.e[1]-e.e[1])+(this.e[2]-e.e[2])*(this.e[2]-e.e[2]))}},{key:"dot",value:function(e){return this.e[0]*e.e[0]+this.e[1]*e.e[1]+this.e[2]*e.e[2]}},{key:"equal",value:function(e){return this.e[0]===e.e[0]&&this.e[1]===e.e[1]&&this.e[2]===e.e[2]}},{key:"modulus",value:function(){return Math.sqrt(this.sumComponentSqrs())}},{key:"sumComponentSqrs",value:function(){var e=this.sqrComponents();return e[0]+e[1]+e[2]}},{key:"sqrComponents",value:function(){var e=new Float32Array(3);return e.set([this.e[0]*this.e[0],this.e[1]*this.e[1],this.e[2]*this.e[2]]),e}},{key:"x",value:function(t){var n=t instanceof a;if(t instanceof e)return r([this.e[0]*t.e[0],this.e[1]*t.e[1],this.e[2]*t.e[2]]);if(n){var i=o([1,0,0,this.e[0],0,1,0,this.e[1],0,0,1,this.e[2],0,0,0,1]);return o([i.e[0]+0+0+0,0+i.e[1]+0+0,0+i.e[2]+0,i.e[0]*t.e[0]+i.e[1]*t.e[1]+i.e[2]*t.e[2]+i.e[3],i.e[4]+0+0+0,0+i.e[5]+0+0,0+i.e[6]+0,i.e[4]*t.e[0]+i.e[5]*t.e[1]+i.e[6]*t.e[2]+i.e[7],i.e[8]+0+0+0,0+i.e[9]+0+0,0+i.e[10]+0,i.e[8]*t.e[0]+i.e[9]*t.e[1]+i.e[10]*t.e[2]+i.e[11],i.e[12]+0+0+0,0+i.e[13]+0+0,0+i.e[14]+0,i.e[12]*t.e[0]+i.e[13]*t.e[1]+i.e[14]*t.e[2]+i.e[15]*t.e[15]])}return r([this.e[0]*t,this.e[1]*t,this.e[2]*t])}},{key:"reflect",value:function(e){var t=r([this.e[0],this.e[1],this.e[2]]),n=r([e.e[0],e.e[1],e.e[2]]),i=n.x(t.dot(n));return i=i.x(2),i=t.subtract(i)}},{key:"subtract",value:function(e){return r([this.e[0]-e.e[0],this.e[1]-e.e[1],this.e[2]-e.e[2]])}},{key:"normalize",value:function(){var e=1/this.modulus();return r([this.e[0]*e,this.e[1]*e,this.e[2]*e])}}]),e}();e.StormV3=l,t.exports.StormV3=l,e.$V3=r,t.exports.$V3=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SystemEvents=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Utils.class"),a=e("./Constants"),l=n.SystemEvents=function(){function e(t,n){o(this,e),this._sce=t,this._project=this._sce.getLoadedProject(),this._target=n,this._utils=new s.Utils,this.mousePosX_orig=0,this.mousePosY_orig=0,this.mousePosX=0,this.mousePosY=0,this.mouseOldPosX=0,this.mouseOldPosY=0,this.divPositionX=0,this.divPositionY=0,this.focused=!1}return r(e,[{key:"initialize",value:function(){document.body.addEventListener("keydown",this.keydownListener.bind(this)),document.body.addEventListener("keyup",this.keyupListener.bind(this)),this._target.addEventListener("mousewheel",this.mousewheelListener.bind(this)),this._target.addEventListener("wheel",this.mousewheelListener.bind(this)),document.body.addEventListener("mouseup",this.mouseupListener.bind(this),!1),document.body.addEventListener("touchend",this.mouseupListener.bind(this),!1),this._target.addEventListener("mousedown",this.mousedownListener.bind(this),!1),this._target.addEventListener("touchstart",this.mousedownListener.bind(this).bind(this),!1),document.body.addEventListener("mousemove",this.mousemoveListener.bind(this),!1),document.body.addEventListener("touchmove",this.mousemoveListener.bind(this),!1),this._target.addEventListener("mouseover",function(){this.focused=!0}.bind(this),!1),this._target.addEventListener("mouseleave",function(){this.focused=!1}.bind(this),!1)}},{key:"getMousePosition",value:function(){return{x:this.mousePosX,y:this.mousePosY}}},{key:"updateDivPosition",value:function(e){this.divPositionX=s.Utils.getElementPosition(this._sce.getCanvas()).x,this.divPositionY=s.Utils.getElementPosition(this._sce.getCanvas()).y,this.mousePosX=e.clientX-this.divPositionX,this.mousePosY=e.clientY-this.divPositionY,this.mousePosX_orig=this.mousePosX,this.mousePosY_orig=this.mousePosY,this.mouseOldPosX=this.mousePosX,this.mouseOldPosY=this.mousePosY}},{key:"callComponentEvent",value:function(e,t,n){if(void 0!==this._project&&null!==this._project){var i=this._project.getActiveStage(),o=i.getActiveCamera().getComponent(a.Constants.COMPONENT_TYPES.PROJECTION),r=null;if(t===a.Constants.EVENT_TYPES.MOUSE_DOWN&&this.updateDivPosition(n),t===a.Constants.EVENT_TYPES.MOUSE_MOVE&&(this.mouseOldPosX=this.mousePosX,this.mouseOldPosY=this.mousePosY,this.mousePosX=n.clientX-this.divPositionX,this.mousePosY=n.clientY-this.divPositionY,r=$V3([this.mousePosX-this.mousePosX_orig,0,this.mousePosY-this.mousePosY_orig])),t===a.Constants.EVENT_TYPES.MOUSE_WHEEL){this.updateDivPosition(n);var s=o.getFov(),l=(this.mousePosX-this._sce.getCanvas().width/2)/this._sce.getCanvas().width*s*.2,u=(this.mousePosY-this._sce.getCanvas().height/2)/this._sce.getCanvas().height*s*.2;(void 0!==n.wheelDeltaY&&n.wheelDeltaY>=0||void 0!==n.deltaY&&n.deltaY>=0)&&(l*=-1,u*=-1);var c=i.getActiveCamera().getComponent(a.Constants.COMPONENT_TYPES.TRANSFORM_TARGET).getMatrix(),d=c.getLeft().x(l),h=c.getUp().x(u);r=d.add(h)}for(var f=0,p=i.getNodes().length;f<p;f++)for(var g in i.getNodes()[f].getComponents()){var v=i.getNodes()[f].getComponent(g);v.type===e&&(t===a.Constants.EVENT_TYPES.KEY_DOWN&&null!=v._onkeydown&&!0===this.focused&&v._onkeydown(n),t===a.Constants.EVENT_TYPES.KEY_UP&&null!=v._onkeyup&&v._onkeyup(n),t===a.Constants.EVENT_TYPES.MOUSE_DOWN&&null!=v._onmousedown&&v._onmousedown(n),t===a.Constants.EVENT_TYPES.MOUSE_UP&&null!=v._onmouseup&&v._onmouseup(n),t===a.Constants.EVENT_TYPES.MOUSE_MOVE&&null!=v._onmousemove&&v._onmousemove(n,r),t===a.Constants.EVENT_TYPES.MOUSE_WHEEL&&null!=v._onmousewheel&&v._onmousewheel(n,r))}}}},{key:"keydownListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,a.Constants.EVENT_TYPES.KEY_DOWN,e)}},{key:"keyupListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.KEYBOARD_EVENTS,a.Constants.EVENT_TYPES.KEY_UP,e)}},{key:"mousedownListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_DOWN,e)}},{key:"mouseupListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_UP,e)}},{key:"mousemoveListener",value:function(e){this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_MOVE,e)}},{key:"mousewheelListener",value:function(e){e.preventDefault(),this.callComponentEvent(a.Constants.COMPONENT_TYPES.MOUSE_EVENTS,a.Constants.EVENT_TYPES.MOUSE_WHEEL,e)}}]),e}();i.SystemEvents=l,t.exports.SystemEvents=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Constants":16,"./Utils.class":38}],27:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n.ActionHelpers=function(){function e(){i(this,e),this.firstColumWidth="40%",this.secondColumWidth="60%"}return o(e,[{key:"add_btn",value:function(e,t,n){var i="<div><button id='BUTTONID_"+t+"' style='width:100%'>"+t+"</button></div>";this.constructor.appendStringChild(i,e);var o=document.getElementById("BUTTONID_"+t);o.addEventListener("click",function(e,t){e(t)}.bind(this,n,o))}},{key:"add_valuesAndBtn",value:function(e,t,n,i,o,r){for(var s='<div><div style="display:inline-block;width:'+this.firstColumWidth+";vertical-align:top;overflow:hidden;\"><button id='BUTTONID_"+t+"' style='width:100%'>"+t+'</button></div><div style="display:inline-block;width:'+this.secondColumWidth+';">',a=0;a<i.length;a++)s+='<input type="'+n+'" id="INPUTID_'+t+"_"+i[a]+'" step="'+o[a]/20+'" value="'+o[a]+'" title="'+i[a]+'" style="width:'+(100/i.length-1)+'%"/>';s+="</div></div>",this.constructor.appendStringChild(s,e),document.getElementById("BUTTONID_"+t).addEventListener("click",function(e){for(var n=[],o=0;o<i.length;o++)n.push(document.querySelector("#INPUTID_"+t+"_"+i[o]).innerHTML);e(n)}.bind(this,r))}},{key:"add_checkbox",value:function(e,t,n,i,o){var r='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input type="checkbox" id="INPUTID_'+t+'" /></div></div>';this.constructor.appendStringChild(r,e);var s=document.getElementById("INPUTID_"+t);s.checked=!0===n||1===n,s.addEventListener("click",function(e,t,n){!1===n.checked?t():e()}.bind(this,i,o,s))}},{key:"add_select",value:function(e,t,n,i,o){for(var r='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><select id="SELECTID_'+t+'" style="width:100%">',s=0;s<n.length;s++){var a="";i===n[s]&&(a="selected='selected'"),r+="<option value='"+n[s]+"' "+a+">"+n[s]+"</option>"}r+="</select></div></div>",this.constructor.appendStringChild(r,e);var l=document.getElementById("SELECTID_"+t);l.addEventListener("change",function(e,t){e(t.options[t.selectedIndex].value)}.bind(this,o,l))}},{key:"add_slider",value:function(e,t,n,i,o,r,s){var a='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input id="INPUTID_'+t+'X" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n+'" style="vertical-align:middle;width:20%"><input id="INPUTID_'+t+'X_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n+'" style="vertical-align:middle;width:78%"></div></div>';this.constructor.appendStringChild(a,e);var l=function(e,n){var i=document.getElementById("INPUTID_"+t+"X").value;e(parseFloat(i))},u=function(e,t){t.nextSibling.value=parseFloat(t.value).toFixed(3),l(e)},c=document.getElementById("INPUTID_"+t+"X");c.addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),c.addEventListener("click",u.bind(this,s,c));(c=document.getElementById("INPUTID_"+t+"X_slider")).addEventListener("input",function(e,t){t.previousSibling.value=parseFloat(t.value).toFixed(3),l(e)}.bind(this,s,c))}},{key:"add_3dslider",value:function(e,t,n,i,o,r,s){var a='<div><div style="display:inline-block;width:'+this.firstColumWidth+';vertical-align:top;overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input id="INPUTID_'+t+'X" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[0]+'" style="background:red;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'X_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[0]+'" style="background:red;color:#FFF;vertical-align:middle;width:78%"><input id="INPUTID_'+t+'Y" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[1]+'" style="background:green;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'Y_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[1]+'" style="background:green;color:#FFF;vertical-align:middle;width:78%"><input id="INPUTID_'+t+'Z" type="number" \t\tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[2]+'" style="background:blue;color:#FFF;vertical-align:middle;width:20%"><input id="INPUTID_'+t+'Z_slider" type="range" \tmin="'+i+'" max="'+o+'" step="'+r+'" value="'+n[2]+'" style="background:blue;color:#FFF;vertical-align:middle;width:78%"></div></div>';this.constructor.appendStringChild(a,e);var l=function(e,n){e([parseFloat(document.getElementById("INPUTID_"+t+"X").value),parseFloat(document.getElementById("INPUTID_"+t+"Y").value),parseFloat(document.getElementById("INPUTID_"+t+"Z").value)])},u=function(e,t){t.nextSibling.value=parseFloat(t.value).toFixed(3),l(e)},c=document.getElementById("INPUTID_"+t+"X");c.addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),c.addEventListener("click",u.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Y")).addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Z")).addEventListener("mousewheel",u.bind(this,s,c)),c.addEventListener("keydown",u.bind(this,s,c)),c.addEventListener("keyup",u.bind(this,s,c));var d=function(e,t){t.previousSibling.value=parseFloat(t.value).toFixed(3),l(e)};(c=document.getElementById("INPUTID_"+t+"X_slider")).addEventListener("change",d.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Y_slider")).addEventListener("change",d.bind(this,s,c)),(c=document.getElementById("INPUTID_"+t+"Z_slider")).addEventListener("change",d.bind(this,s,c))}},{key:"add_colorpicker",value:function(e,t,n,i){var o='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+';"><input type="color" id="INPUTID_'+t+'" value="'+n+'" style="width:100%"></div></div>';this.constructor.appendStringChild(o,e);var r=document.getElementById("INPUTID_"+t);r.addEventListener("change",function(e,t){e(t.value)}.bind(this,i,r))}},{key:"add_imageSelection",value:function(e,t,n){var i='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+";\"><input id='INPUTID_"+t+"' type='file' style='display:none'/><div id='DIVID_"+t+"' onclick='$(this).prev().click();' style='cursor:pointer;width:16px;height:16px;border:1px solid #FFF'></div></div></div>";this.constructor.appendStringChild(i,e),document.getElementById("INPUTID_"+t).onchange=function(){var e=new FileReader;e.onload=function(e){var i=new Image;i.onload=function(){var e=document.querySelector("#INPUTID_"+t).val().split("/");e=e[e.length-1],document.querySelector("#DIVID_"+t).appendChild(i),document.querySelector("#DIVID_"+t).setAttribute("title",e),n(i)},i.src=e.target.result},e.readAsDataURL(this.files[0])}}},{key:"add_fileSelection",value:function(e,t,n){var i='<div><div style="display:inline-block;width:'+this.firstColumWidth+';overflow:hidden;">'+t+'</div><div style="display:inline-block;width:'+this.secondColumWidth+";\"><input id='INPUTID_"+t+"' type='file' style='display:none'/><div id='DIVID_"+t+"' onclick='$(this).prev().click();' style='cursor:pointer;width:16px;height:16px;border:1px solid #FFF'></div></div></div>";this.constructor.appendStringChild(i,e),document.getElementById("INPUTID_"+t).onchange=function(){n(this.files[0])}}}],[{key:"appendStringChild",value:function(e,t,n){var i=void 0!==n&&null!==n?n:"end",o=(new DOMParser).parseFromString(e,"text/html");"end"===i?t.appendChild(o.body.firstChild):t.insertBefore(o.body.firstChild,t.firstChild)}}]),e}();e.ActionHelpers=r,t.exports.ActionHelpers=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DraggabillyS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("draggabilly")),a=n.DraggabillyS=function(){function e(t){var n=this;o(this,e),this.strAttrID=t.id,this.onShow=void 0!==t.onShow&&null!==t.onShow?t.onShow:null;var i=void 0!==t.html&&null!==t.html?t.html:"";this.windowEnabled=!0,this.target=document.createElement("div"),document.getElementsByTagName("body")[0].appendChild(this.target),this.target.classList.add("SECmenu"),this.target.innerHTML='\n        <div style="font-size:12px; box-shadow:rgba(0, 0, 0, 0.683594) 3px 3px 8px 1px,rgb(255, 255, 255) 0 0 5px 0 inset; border-radius:5px;resize:both;overflow:auto;background:rgba(50,50,50,0.95);">\n            <div id="elDS_Panel" style="border-top-left-radius:5px; border-top-right-radius:5px; width:100%; background:rgba(200,200,200,0.7); cursor:move;\tdisplay:table;">\n                <div style="padding-left:5px;color:#000;font-weight:bold;display:table-cell;vertical-align:middle;">'+t.paneltitle+'</div>\n                <div style="width:30px;\tpadding:2px; display:table-cell; vertical-align:middle;">\n                    <div id="elDS_TitleMin" style="cursor:pointer;display:inline-block">&#8863;</div>\n                    <div id="elDS_TitleClose" style="cursor:pointer;display:inline-block">&#8864;</div>\n                </div>\n            </div>\n            <div id="'+this.strAttrID+'_content" style="border-bottom-left-radius:5px; border-bottom-right-radius:5px; min-width:220px;\tcursor:default;\tpadding:5px; color:#FFF;  overflow-y:auto;">\n                \n            </div>\n        </div>\n        ';var r=new s.default(this.target,{handle:"#elDS_Panel"});if(this.target.style.left=100-this.target.getBoundingClientRect().left+"px",this.target.style.top=100-this.target.getBoundingClientRect().top+"px",null===i){var a=this.target;a.parentNode.removeChild(a),document.getElementById(this.strAttrID+"_content").appendChild(a)}else document.getElementById(this.strAttrID+"_content").innerHTML=i;this.target.querySelector("#elDS_TitleClose").addEventListener("click",function(e){n.hide()}),this.target.querySelector("#elDS_TitleMin").addEventListener("click",function(){!0===n.windowEnabled?(n.windowSavedPosLeft=n.target.style.left,n.windowSavedPosTop=n.target.style.top,n.target.style.position="absolute",n.target.style.left="50",n.target.style.top="0",n.target.style.width="150px",n.target.querySelector("#"+n.strAttrID+"_content").style.display="none",n.target.querySelector("#elDS_TitleMin").innerHTML="&#8862;",n.windowEnabled=!1):(n.target.style.position="relative",n.target.style.left=n.windowSavedPosLeft,n.target.style.top=n.windowSavedPosTop,n.target.style.width="950px",n.target.querySelector("#"+n.strAttrID+"_content").style.display="block",n.target.querySelector("#elDS_TitleMin").innerHTML="&#8863;",n.windowEnabled=!0)}),r.on("pointerUp",function(e,t){n.target.click(),n.upZindex(),e.stopPropagation(),e.preventDefault()}),this.hide()}return r(e,[{key:"appendStringChild",value:function(e,t,n){var i=void 0!==n?n:"end",o=(new DOMParser).parseFromString(e,"text/html");"end"===i?this.target.appendChild(o.body.firstChild):this.target.insertBefore(o.body.firstChild,this.target.firstChild)}},{key:"show",value:function(){this.target.style.display="block",this.upZindex()}},{key:"hide",value:function(){this.target.style.display="none"}},{key:"upZindex",value:function(){var e=document.querySelectorAll(".SECmenu"),t=!0,n=!1,i=void 0;try{for(var o,r=e.values()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)o.value.style.zIndex="0"}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}this.target.style.zIndex="99"}}]),e}();i.DraggabillyS=a,t.exports.DraggabillyS=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{draggabilly:1}],29:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelNode=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../Constants"),a=e("./UIComponentGPU.class"),l=e("./DraggabillyS.class"),u=n.PanelNode=function(){function e(){o(this,e),this.panel=new l.DraggabillyS({id:"PanelEditNode",paneltitle:"NODE",html:'<span style="font-weight:bold" id="DIVID_StormEditNode_name"></span>\n                                                <div id="DIVID_StormEditNode_edits"></div>'}),this.panel.target.style.width="800px",this.elContentName=this.panel.target.querySelector("#DIVID_StormEditNode_name"),this.elContent=this.panel.target.querySelector("#DIVID_StormEditNode_edits")}return r(e,[{key:"show",value:function(e){this.panel.show(),this.updateNearNode(e)}},{key:"updateNearNode",value:function(e){if(void 0===e||null===e)this.elContentName.innerHTML="",this.elContent.innerHTML="";else{""!==e.getName()&&(this.elContentName.innerHTML=e.getName()),this.elContent.innerHTML="";for(var t in s.Constants.COMPONENT_TYPES)for(var n in e.getComponents())if(n===s.Constants.COMPONENT_TYPES[t].toString()){var i="<div id='DIVID_component_"+t+"' class='component StormShadow02 StormRound'>"+t+"</div>";this.elContent.innerHTML+=i,n===s.Constants.COMPONENT_TYPES.GPU.toString()?new a.UIComponentGPU(t,e):s.Constants.COMPONENT_TYPES.PROJECTION.toString()}}}}]),e}();i.PanelNode=u,t.exports.PanelNode=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16,"./DraggabillyS.class":28,"./UIComponentGPU.class":33}],30:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelNumberGenerator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./ActionHelpers.class"),a=(function(e){e&&e.__esModule}(e("draggabilly")),e("./DraggabillyS.class")),l=n.PanelNumberGenerator=function(){function e(){o(this,e),this.ah=new s.ActionHelpers,this.panel=new a.DraggabillyS({id:"DIVID_PanelNumberGenerator",paneltitle:"NUMBER GENERATOR"}),this.panel.target.style.width="500px"}return r(e,[{key:"show",value:function(){this.panel.show(),this.showListObjects()}},{key:"showListObjects",value:function(){var e=document.getElementById("DIVID_PanelNumberGenerator_content");e.innerHTML="",this.ah.add_imageSelection(e,"LOAD_IMG",function(t){e.appendChild(t),e.innerHTML+=t.width+"x"+t.height+"="+t.width*t.height,t.setAttribute("draggable",!0),t.addEventListener("dragstart",function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.src)},!1)});var t=function(t,n){for(var i=[],o=[],r=t[0],s=1;s<t[1];s++)r*=t[0];for(var a=t[2],l=0;l<r*t[2];l++){if(a===t[2]){a=0,o=[];for(var u=0;u<n;u++)o.push(1-2*Math.random())}for(var c=0;c<n;c++)i.push(o[c]);a++}var d=document.createElement("button");d.innerHTML="arr",d.setAttribute("draggable",!0),e.appendChild(d),d.addEventListener("dragstart",function(e,t){console.log(e),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",e)}.bind(this,i),!1)}.bind(this);this.ah.add_valuesAndBtn(e,"CREATE_RANDOM_FLOAT","number",["length","dimensions","repeat_FLOAT"],[128,2,14],function(e){t(e,1)}.bind(this)),this.ah.add_valuesAndBtn(e,"CREATE_RANDOM_FLOAT4","number",["length","dimensions","repeat_FLOAT4"],[128,2,14],function(e){t(e,4)}.bind(this))}}]),e}();i.PanelNumberGenerator=l,t.exports.PanelNumberGenerator=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ActionHelpers.class":27,"./DraggabillyS.class":28,draggabilly:1}],31:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PanelStage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./DraggabillyS.class"),a=n.PanelStage=function(){function e(){o(this,e),this.panel=new s.DraggabillyS({id:"DIVID_PanelStage",paneltitle:"STAGE"}),this.panel.target.style.width="250px",this.elContent=this.panel.target.querySelector("#DIVID_PanelStage_content")}return r(e,[{key:"show",value:function(e,t,n){this.panel.show(),this.showListObjects(e,t,n)}},{key:"showListObjects",value:function(e,t,n){var i=this;!function e(t,n,o){i.elContent.innerHTML="";for(var r="",s=0,a=t.length;s<a;s++)r="<div id='TDID_StormObjectNum_nodes"+s+"' style='background-color:"+(void 0!==n&&n===t[s]?"#444":"#000")+";color:"+(!0===t[s].isEnabled()?"#FFF":"#999")+";'>"+t[s].getName()+"</div>",i.elContent.innerHTML+=r;for(var l=0,u=t.length;l<u;l++)!function(n,i){var r=document.getElementById("TDID_StormObjectNum_nodes"+n);r.addEventListener("click",function(i){r.style.backgroundColor="#444",o(t[n]),e(t,t[n],o)})}(l)}(e,t,n),this.elContentDiv=this.panel.target.querySelector("#DIVID_PanelStage_content div"),this.elContentDiv.style.cursor="pointer",this.elContentDiv.style.border="1px solid #444",this.elContentDiv.addEventListener("mouseover",function(){i.elContentDiv.style.border="1px solid #CCC"}),this.elContentDiv.addEventListener("mouseout",function(){i.elContentDiv.style.border="1px solid #444"})}}]),e}();i.PanelStage=a,t.exports.PanelStage=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DraggabillyS.class":28}],32:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UI=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./PanelStage.class"),a=e("./PanelNode.class"),l=e("./PanelNumberGenerator.class"),u=e("./ActionHelpers.class"),c=n.UI=function(){function e(t){o(this,e),this._project=t,this.panel_Stage=null,this.panel_Node=null,this.panel_NumberGenerator=null}return r(e,[{key:"render",value:function(e,t){var n=this,i='<div style="font-size:10px;">\n            <div id="TOPMENU_'+e.id+'_view_PanelStage" style="display:inline-block;cursor:pointer;">Stage - </div>\n            <div id="TOPMENU_'+e.id+'_view_PanelNode" style="display:inline-block;cursor:pointer;">Node - </div>\n            <div id="TOPMENU_'+e.id+'_view_PanelNumberGenerator" style="display:inline-block;cursor:pointer;">Number Generator</div>\n\t\t</div>';u.ActionHelpers.appendStringChild(i,e,"init"),this.panel_Stage=new s.PanelStage,this.panel_Node=new a.PanelNode,this.panel_NumberGenerator=new l.PanelNumberGenerator,e.querySelector("#TOPMENU_"+e.id+"_view_PanelStage").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_Stage.show(n._project.getActiveStage().getNodes(),n._project.getActiveStage().getSelectedNode(),function(e){n._project.getActiveStage().setSelectedNode(e),n.panel_Node.show(n._project.getActiveStage().getSelectedNode())})}),e.querySelector("#TOPMENU_"+e.id+"_view_PanelNode").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_Node.show(n._project.getActiveStage().getSelectedNode())}),e.querySelector("#TOPMENU_"+e.id+"_view_PanelNumberGenerator").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.panel_NumberGenerator.show()})}}]),e}();i.UI=c,t.exports.UI=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ActionHelpers.class":27,"./PanelNode.class":29,"./PanelNumberGenerator.class":30,"./PanelStage.class":31}],33:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU=void 0;var r=e("./UIComponentGPU_Indices.class"),s=e("./UIComponentGPU_Argument.class"),a=e("./UIComponentGPU_Kernel.class"),l=e("./UIComponentGPU_Vfp.class"),u=e("../Constants"),c=e("./ActionHelpers.class"),d=n.UIComponentGPU=function e(t,n){o(this,e),this.comp=n.getComponent(u.Constants.COMPONENT_TYPES.GPU);var i=this.comp.getAllArgs(),d="<div id='DIVID_"+t+"' class='component_section'><div id='DIVID_"+t+"_args' style='width:300px;display:inline-block;'></div><div id='DIVID_"+t+"_kernelsvfps' style='display:inline-block;vertical-align:top;'></div></div>";c.ActionHelpers.appendStringChild(d,document.getElementById("DIVID_component_"+t)),new r.UIComponentGPU_Indices(document.getElementById("DIVID_"+t),n,this.comp,i),new s.UIComponentGPU_Argument(document.getElementById("DIVID_"+t+"_args"),n,this.comp,i),new a.UIComponentGPU_Kernel(document.getElementById("DIVID_"+t+"_kernelsvfps"),n,this.comp,i),new l.UIComponentGPU_Vfp(document.getElementById("DIVID_"+t+"_kernelsvfps"),n,this.comp,i)};i.UIComponentGPU=d,t.exports.UIComponentGPU=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16,"./ActionHelpers.class":27,"./UIComponentGPU_Argument.class":34,"./UIComponentGPU_Indices.class":35,"./UIComponentGPU_Kernel.class":36,"./UIComponentGPU_Vfp.class":37}],34:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=n.UIComponentGPU_Argument=function e(t,n,o,r){var s=this;i(this,e);var a="<div id='"+t.id+"_args' style='width:inherit;display:table-cell;vertical-align:top;font-size:9px;'><div style='height:251px;'><div>ARGUMENTS</div></div>",l=!1;for(var u in r){var c=r[u];a+="<div id='DIVID_"+u+"_args' title='"+c+"' style='height:13px;background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>"+u+" <input type='checkbox' id='CHECKBOX_UPDATE_"+u+"' title='update on tick' style='width:8px;height:8px;margin:0;vertical-align:middle' />",void 0!==c&&null!==c&&(c instanceof WebCLGLBuffer?a+=" <span style='color:rgb(150, 255, 150)'> {WebCLGLBuffer "+c.length+"}</span>":c instanceof Float32Array||c instanceof Array?a+=" <span style='color:rgb(150, 255, 150)'> {"+c.constructor.name+" "+c.length+"}</span>":a+=" <span style='color:rgb(150, 255, 150)'> {<span>"+c.constructor.name+" "+c+"}</span>"),a+="</div>",l=!l}a+="</div>",ActionHelpers.appendStringChild(a,t);for(var d in r){r[d];void 0!==o.getArgs()[d]&&null!=o.getArgs()[d].updatable&&function(){var e=document.getElementById("CHECKBOX_UPDATE_"+d);e.checked=!0===o.getArgs()[d].updatable,e.addEventListener("click",function(t,n){!1===e.checked?t.setArgUpdatable(n,!1):t.setArgUpdatable(n,!0)}.bind(s,o,d))}();var h=document.getElementById("DIVID_"+d+"_args");h.addEventListener("dragover",function(e,t){t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",e.style.background="rgba(150, 255, 150, 0.3)"}.bind(this,h),!1),h.addEventListener("dragleave",function(e,t){e.style.background="transparent"}.bind(this,h),!1),h.addEventListener("drop",function(e,t,n,i){i.stopPropagation&&(i.stopPropagation(),i.preventDefault()),e.style.background="transparent";var o=i.dataTransfer.getData("text/plain");if("image"===(o.match(/,/i)?"array":"image")){var r=new Image;r.onload=function(e,t,n){e.setArg(t,function(){return n}.bind(this))}.bind(this,t,n,r),r.src=o}else t.setArg(n,function(){return o.split(",")}.bind(this))}.bind(this,h,o,d),!1)}};e.UIComponentGPU_Argument=o,t.exports.UIComponentGPU_Argument=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=n.UIComponentGPU_Indices=function e(t,n,o,r){i(this,e);var s="<div id='"+t.id+"_indices' style='background:rgba(0,0,0,0.5);padding-left:3px'><div>indices</div>",a=o.getBuffers().indices;void 0!==a&&a instanceof WebCLGLBuffer&&(s+=" <span style='color:grey'> {WebCLGLBuffer "+("<span title='"+a.inData+"'>"+a.length+"</span>")+"}</span>"),s+="</div>",ActionHelpers.appendStringChild(s,t)};e.UIComponentGPU_Indices=o,t.exports.UIComponentGPU_Indices=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU_Kernel=void 0;var r=e("../Constants"),s=n.UIComponentGPU_Kernel=function e(t,n,i,s){o(this,e);for(var a in i.gpufG.getAllKernels()){var l=i.gpufG.getAllKernels()[a],u=l.name,c="<div id='"+t.id+"_"+u+"_kernels' style='display:table-cell;vertical-align:top;min-width:100px;max-width:100px;border:1px solid #333;'><div style='height:250px;overflow-x:hidden;'><div><input type='checkbox' id='ENABLE_"+u+"' style='font-size:10px;'/> "+l.name+"</div><div>["+(null!=l.output[0]?l.output:"SCREEN")+"]</div><div>DEPTH TEST: <input type='checkbox' id='ENABLE_DEPTHTEST_"+u+"' style='font-size:10px;'></div><div>BLEND: <input type='checkbox' id='ENABLE_BLEND_"+u+"' style='font-size:10px;'></div><div>BLENT EQUATION: <select id='BLEND_EQUATION_"+u+"' style='font-size:10px;max-width:70px;'>";for(var d in r.Constants.BLENDING_EQUATION_TYPES)c+="<option value='"+d+"'>"+d+"</option>";c+="</select></div><div>BLEND SRC (Foreground): <select id='BLEND_source_"+u+"' style='font-size:10px;max-width:70px;'>";for(var h in r.Constants.BLENDING_MODES)c+="<option value='"+h+"'>"+h+"</option>";c+="</select></div><div>BLEND DST (Background): <select id='BLEND_destination_"+u+"' style='font-size:10px;max-width:70px;'>";for(var f in r.Constants.BLENDING_MODES)c+="<option value='"+f+"'>"+f+"</option>";c+="</select></div>",c+="</div>";var p=!1;for(var g in s){var v=s[g],_=!1;for(var m in l.in_values)if(g===m){_=!0,c+="<div style='height:13px;background:rgba(150,150,255,"+(!0===p?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==v?"white":"black")+";'>_</span>-";break}!1===_&&(c+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===p?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-");for(var y="",b=0;b<l.output.length;b++)if(g===l.output[b]){y="<div style='display:inline-block;color:black;'>UPDATE</div>";break}c+=y+"</div>",p=!p}c+="</div>",ActionHelpers.appendStringChild(c,t);var E=document.getElementById("ENABLE_"+u);E.checked=!0===l.enabled,E.addEventListener("click",function(e,t){e.enabled=!0===t.checked}.bind(this,l,E)),(E=document.getElementById("ENABLE_DEPTHTEST_"+u)).checked=!0===l.depthTest,E.addEventListener("click",function(e,t){e.depthTest=!0===t.checked}.bind(this,l,E)),(E=document.getElementById("ENABLE_BLEND_"+u)).checked=!0===l.blend,E.addEventListener("click",function(e,t){e.blend=!0===t.checked}.bind(this,l,E)),E=document.getElementById("BLEND_EQUATION_"+u);for(var C=0;C<E.options.length;C++)if(E.options[C].value===l.blendEquation){E.selectedIndex=C;break}E.addEventListener("change",function(e,t){e.blendEquation=t.options[t.selectedIndex].value}.bind(this,l,E)),E=document.getElementById("BLEND_source_"+u);for(var T=0;T<E.options.length;T++)if(E.options[T].value===l.blendSrcMode){E.selectedIndex=T;break}E.addEventListener("change",function(e,t){e.blendSrcMode=t.options[t.selectedIndex].value}.bind(this,l,E)),E=document.getElementById("BLEND_destination_"+u);for(var x=0;x<E.options.length;x++)if(E.options[x].value===l.blendDstMode){E.selectedIndex=x;break}E.addEventListener("change",function(e,t){e.blendDstMode=t.options[t.selectedIndex].value}.bind(this,l,E))}};i.UIComponentGPU_Kernel=s,t.exports.UIComponentGPU_Kernel=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16}],37:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.UIComponentGPU_Vfp=void 0;var r=e("../Constants"),s=n.UIComponentGPU_Vfp=function e(t,n,i,s){var a=this;o(this,e);var l=null;for(var u in i.gpufG.getAllVertexFragmentProgram())!function(e){var n=i.gpufG.getAllVertexFragmentProgram()[e],o=n.name,u="<div id='"+t.id+"_"+o+"_vps' style='display:table-cell;vertical-align:top;min-width:100px;max-width:100px;border:1px solid #333;'><div style='height:250px;overflow-x:hidden;'><div><input type='checkbox' id='ENABLE_"+o+"' style='font-size:10px;'/> "+n.name+"</div><div>["+(null!=n.output[0]?n.output:"SCREEN")+"]</div><div>drawMode: <select id='DRAW_"+o+"' style='font-size:10px;max-width:70px;'>";for(var c in r.Constants.DRAW_MODES)u+="<option value='"+r.Constants.DRAW_MODES[c]+"'>"+c+"</option>";u+="</select></div><div>DEPTH TEST: <input type='checkbox' id='ENABLE_DEPTHTEST_"+o+"' style='font-size:10px;'></div><div>BLEND: <input type='checkbox' id='ENABLE_BLEND_"+o+"' style='font-size:10px;'></div><div>BLENT EQUATION: <select id='BLEND_EQUATION_"+o+"' style='font-size:10px;max-width:70px;'>";for(var d in r.Constants.BLENDING_EQUATION_TYPES)u+="<option value='"+d+"'>"+d+"</option>";u+="</select></div><div>BLEND SRC (Foreground): <select id='BLEND_source_"+o+"' style='font-size:10px;max-width:70px;'>";for(var h in r.Constants.BLENDING_MODES)u+="<option value='"+h+"'>"+h+"</option>";u+="</select></div><div>BLEND DST (Background): <select id='BLEND_destination_"+o+"' style='font-size:10px;max-width:70px;'>";for(var f in r.Constants.BLENDING_MODES)u+="<option value='"+f+"'>"+f+"</option>";u+="</select></div>",u+="</div>",l=!1;for(var p in s){var g=s[p],v=!1;for(var _ in n.in_vertex_values)if(p===_){v=!0,u+="<div style='height:13px;background:rgba(255,150,150,"+(!0===l?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==g?"white":"black")+";'>_</span><span style='color:blue;'>"+("float4_fromSampler"===n.in_vertex_values[_].type||"float_fromSampler"===n.in_vertex_values[_].type?"fromSampler":"")+"</span>-";break}!1===v&&(u+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-"),u+="</div>",l=!l}u+="</div>",ActionHelpers.appendStringChild(u,t);var m=document.getElementById("ENABLE_"+o);m.checked=!0===n.enabled,m.addEventListener("click",function(e,t){e.enabled=!0===t.checked}.bind(a,n,m)),m=document.getElementById("DRAW_"+o);for(var y=0;y<m.options.length;y++)if(m.options[y].value===n.drawMode){m.selectedIndex=y;break}m.addEventListener("change",function(e,t,i){console.log(i.options[i.selectedIndex].value),n.drawMode=parseInt(i.options[i.selectedIndex].value)}.bind(a,i,o,m)),(m=document.getElementById("ENABLE_DEPTHTEST_"+o)).checked=!0===n.depthTest,m.addEventListener("click",function(e,t){e.depthTest=!0===t.checked}.bind(a,n,m)),(m=document.getElementById("ENABLE_BLEND_"+o)).checked=!0===n.blend,m.addEventListener("click",function(e,t){e.blend=!0===t.checked}.bind(a,n,m)),m=document.getElementById("BLEND_EQUATION_"+o);for(var b=0;b<m.options.length;b++)if(m.options[b].value===n.blendEquation){m.selectedIndex=b;break}m.addEventListener("change",function(e,t){e.blendEquation=t.options[t.selectedIndex].value}.bind(a,n,m)),m=document.getElementById("BLEND_source_"+o);for(var E=0;E<m.options.length;E++)if(m.options[E].value===n.blendSrcMode){m.selectedIndex=E;break}m.addEventListener("change",function(e,t){e.blendSrcMode=t.options[t.selectedIndex].value}.bind(a,n,m)),m=document.getElementById("BLEND_destination_"+o);for(var C=0;C<m.options.length;C++)if(m.options[C].value===n.blendDstMode){m.selectedIndex=C;break}m.addEventListener("change",function(e,t){e.blendDstMode=t.options[t.selectedIndex].value}.bind(a,n,m)),u="<div id='DIVID_"+o+"_fps' style='display:table-cell;vertical-align:top;min-width:50px;max-width:50px;border:1px solid #333;'><div style='height:250px;'>",u+="</div>",l=!1;for(var T in s){var x=s[T],P=!1;for(var w in n.in_fragment_values)if(T===w){P=!0,u+="<div style='height:13px;background:rgba(150,150,255,"+(!0===l?1:.9)+");color:rgba(0,0,0,0);'><span style='border-right:1px solid grey;background-color:"+(void 0!==x?"white":"black")+";'>_</span>-";break}!1===P&&(u+="<div style='height:13px;color:rgba(0,0,0,0);background-color:"+(!0===l?"rgba(0,0,0,0.0)":"rgba(0,0,0,0.07)")+"'>-");for(var L="",S=0;S<n.output.length;S++)if(T===n.output[S]){L="<div style='display:inline-block;color:black;'>UPDATE</div>";break}u+=L+"</div>",l=!l}u+="</div>",ActionHelpers.appendStringChild(u,t)}(u)};i.UIComponentGPU_Vfp=s,t.exports.UIComponentGPU_Vfp=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Constants":16}],38:[function(e,t,n){(function(i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e("webclgl");var a=n.Utils=function(){function e(){o(this,e),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}return s(e,[{key:"getImageFromCanvas",value:function(e,t){var n=document.createElement("img");n.onload=function(){t(n)},n.src=e.toDataURL()}},{key:"pack",value:function(t){var n=[1/255,1/255,1/255,0],i=t,o=e.fract(255*i),r=e.fract(255*o),s=[i,o,r,e.fract(255*r)],a=[s[1]*n[0],s[2]*n[1],s[3]*n[2],s[3]*n[3]];return[s[0]-a[0],s[1]-a[1],s[2]-a[2],s[3]-a[3]]}},{key:"unpack",value:function(t){var n=[1,1/255,1/65025,1/16581375];return e.dot4(t,n)}}],[{key:"getCanvasFromUint8Array",value:function(e,t,n){var i=document.createElement("canvas");i.width=t,i.height=n;for(var o=i.getContext("2d"),r=o.createImageData(t,n),s=0;s<r.data.length;s++)r.data[s]=e[s];return o.putImageData(r,0,0),i}},{key:"getUint8ArrayFromHTMLImageElement",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data}},{key:"getVector",value:function(t,n){var i=e.cartesianToSpherical(t),o=i.lat,r=i.lng;return o+=n*(180*Math.random()-90),r+=n*(180*Math.random()-90),e.sphericalToCartesian(1,o,r)}},{key:"getVectorGLSLFunctionString",value:function(){return"vec3 getVector(vec3 vecNormal, float degrees, vec2 vecNoise) {\nvec3 ob = cartesianToSpherical(vecNormal);float angleLat = ob.y;float angleLng = ob.z;float desvLat = (vecNoise.x*180.0)-90.0;float desvLng = (vecNoise.y*180.0)-90.0;angleLat += (degrees*desvLat);angleLng += (degrees*desvLng);return sphericalToCartesian(vec3(1.0, angleLat, angleLng));}\n"}},{key:"cartesianToSpherical",value:function(t){var n=Math.sqrt(t.e[0]*t.e[0]+t.e[1]*t.e[1]+t.e[2]*t.e[2]);return{radius:n,lat:e.radToDeg(Math.acos(t.e[1]/n)),lng:e.radToDeg(Math.atan2(t.e[2],t.e[0]))}}},{key:"cartesianToSphericalGLSLFunctionString",value:function(){return"vec3 cartesianToSpherical(vec3 vect) {\nfloat r = sqrt(vect.x*vect.x + vect.y*vect.y + vect.z*vect.z);float angleLat = radToDeg(acos(vect.y/r));float angleLng = radToDeg(atan(vect.z, vect.x));return vec3(r, angleLat, angleLng);}\n"}},{key:"sphericalToCartesian",value:function(t,n,i){var o=t,r=e.degToRad(n),s=e.degToRad(i),a=o*Math.sin(r)*Math.cos(s),l=o*Math.sin(r)*Math.sin(s),u=o*Math.cos(r);return new StormV3([a,u,l])}},{key:"sphericalToCartesianGLSLFunctionString",value:function(){return"vec3 sphericalToCartesian(vec3 vect) {\nfloat r = vect.x;float angleLat = degToRad(vect.y);float angleLng = degToRad(vect.z);float x = r*sin(angleLat)*cos(angleLng);float z = r*sin(angleLat)*sin(angleLng);float y = r*cos(angleLat);return vec3(x,y,z);}\n"}},{key:"refract",value:function(e,t,n,i){var o=n/i,r=-1*t.dot(e),s=1-o*o*(1-r*r);return e.x(o).add(t.x(o*r-Math.sqrt(s)))}},{key:"degToRad",value:function(e){return 3.14159*e/180}},{key:"degToRadGLSLFunctionString",value:function(){return"float degToRad(float deg) {return (deg*3.14159)/180.0;}"}},{key:"radToDeg",value:function(e){return e*(180/3.14159)}},{key:"radToDegGLSLFunctionString",value:function(){return"float radToDeg(float rad) {return rad*(180.0/3.14159);}"}},{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}},{key:"rgbToHex",value:function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)}},{key:"invsqrt",value:function(e){return 1/e}},{key:"smoothstep",value:function(e,t,n){if(n<e)return 0;if(n>=t)return 1;if(e===t)return-1;var i=(n-e)/(t-e);return i*i*(3-2*i)}},{key:"dot4",value:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},{key:"fract",value:function(e){return e>0?e-Math.floor(e):e-Math.ceil(e)}},{key:"packGLSLFunctionString",value:function(){return"vec4 pack (float depth) {const vec4 bias = vec4( 1.0 / 255.0,1.0 / 255.0,1.0 / 255.0,0.0);float r = depth;float g = fract(r * 255.0);float b = fract(g * 255.0);float a = fract(b * 255.0);vec4 colour = vec4(r, g, b, a);return colour - (colour.yzww * bias);}"}},{key:"unpackGLSLFunctionString",value:function(){return"float unpack (vec4 colour) {const vec4 bitShifts = vec4(1.0,1.0 / 255.0,1.0 / (255.0 * 255.0),1.0 / (255.0 * 255.0 * 255.0));return dot(colour, bitShifts);}"}},{key:"rayTraversalInitSTR",value:function(){return"float wh = ceil(sqrt(uResolution*uResolution*uResolution));\nfloat cs = uGridsize/uResolution;\nfloat chs = cs/2.0;\nfloat texelSize = 1.0/(wh-1.0);\nvec3 gl = vec3(-(uGridsize/2.0), -(uGridsize/2.0), -(uGridsize/2.0));\nvec3 _r = vec3(uGridsize, uGridsize, uGridsize);\nvec3 _rRes = vec3(uResolution, uResolution, uResolution);\nvec3 _len = _r/_rRes;\nvec3 worldToVoxel(vec3 world) {\nvec3 ijk = (world - gl) / _len;\nijk = vec3(floor(ijk.x), floor(ijk.y), floor(ijk.z));\nreturn ijk;\n}\nfloat voxelToWorldX(float x) {return x * _len.x + gl.x;}\nfloat voxelToWorldY(float y) {return y * _len.y + gl.y;}\nfloat voxelToWorldZ(float z) {return z * _len.z + gl.z;}\n"}},{key:"rayTraversalSTR",value:function(e){return"vec2 getId(vec3 voxel) {\nint tex3dId = (int(voxel.y)*(int(uResolution)*int(uResolution)))+(int(voxel.z)*(int(uResolution)))+int(voxel.x);\nfloat num = float(tex3dId)/wh;\nfloat col = fract(num)*wh;\nfloat row = floor(num);\nreturn vec2(col*texelSize, row*texelSize);\n}\nvec4 getVoxel_Color(vec2 texVec, vec3 voxel, vec3 RayOrigin) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelColor[vec2(texVec.x, texVec.y)];\nif(texture.a/255.0 > 0.5) {\nrgba = vec4(texture.rgb/255.0,distance(vec3(voxelToWorldX(voxel.x), voxelToWorldX(voxel.y), voxelToWorldX(voxel.z)),RayOrigin));\n}\nreturn rgba;\n}\nvec4 getVoxel_Pos(vec2 texVec) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelPos[vec2(texVec.x, texVec.y)];\nrgba = vec4( ((texture.xyz/255.0)*uGridsize)-(uGridsize/2.0), 1.0);\nreturn rgba;\n}\nvec4 getVoxel_Normal(vec2 texVec) {\nvec4 rgba = vec4(0.0,0.0,0.0,0.0);\nvec4 texture = sampler_voxelNormal[vec2(texVec.x, texVec.y)];\nrgba = vec4(((texture.rgb/255.0)*2.0)-1.0, 1.0);\nreturn rgba;\n}\nstruct RayTraversalResponse {vec4 voxelColor;vec4 voxelPos;vec4 voxelNormal;};RayTraversalResponse rayTraversal(vec3 RayOrigin, vec3 RayDir) {\nvec4 fvoxelColor = vec4(0.0, 0.0, 0.0, 0.0);vec4 fvoxelPos = vec4(0.0, 0.0, 0.0, 0.0);vec4 fvoxelNormal = vec4(0.0, 0.0, 0.0, 0.0);vec3 voxel = worldToVoxel(RayOrigin);vec3 _dir = normalize(RayDir);vec3 tMax;if(RayDir.x < 0.0) tMax.x = (voxelToWorldX(voxel.x)-RayOrigin.x)/RayDir.x;if(RayDir.x > 0.0) tMax.x = (voxelToWorldX(voxel.x+1.0)-RayOrigin.x)/RayDir.x;if(RayDir.y < 0.0) tMax.y = (voxelToWorldY(voxel.y)-RayOrigin.y)/RayDir.y;if(RayDir.y < 0.0) tMax.y = (voxelToWorldY(voxel.y+1.0)-RayOrigin.y)/RayDir.y;if(RayDir.z < 0.0) tMax.z = (voxelToWorldZ(voxel.z)-RayOrigin.z)/RayDir.z;if(RayDir.z < 0.0) tMax.z = (voxelToWorldZ(voxel.z+1.0)-RayOrigin.z)/RayDir.z;float tDeltaX = _r.x/abs(RayDir.x);float tDeltaY = _r.y/abs(RayDir.y);float tDeltaZ = _r.z/abs(RayDir.z);float stepX = 1.0; float stepY = 1.0; float stepZ = 1.0;\nfloat outX = _r.x; float outY = _r.y; float outZ = _r.z;\nif(RayDir.x < 0.0) {stepX = -1.0; outX = -1.0;}if(RayDir.y < 0.0) {stepY = -1.0; outY = -1.0;}if(RayDir.z < 0.0) {stepZ = -1.0; outZ = -1.0;}vec4 color = vec4(0.0,0.0,0.0,0.0);\nbool c1; bool c2; bool c3; bool isOut;vec2 vid;for(int c = 0; c < "+e+"*2; c++) {\nc1 = bool(tMax.x < tMax.y);c2 = bool(tMax.x < tMax.z);c3 = bool(tMax.y < tMax.z);isOut = false;if (c1 && c2) {voxel.x += stepX;if(voxel.x==outX) isOut=true;tMax.x += tDeltaX;} else if(( (c1 && !c2) || (!c1 && !c3) )) {voxel.z += stepZ;if(voxel.z==outZ) isOut=true;tMax.z += tDeltaZ;} else if(!c1 && c3) {voxel.y += stepY;if(voxel.y==outY) isOut=true;tMax.y += tDeltaY;}if(isOut == true) break;\nelse {if((voxel.x >= 0.0 && voxel.x <= _rRes.x && voxel.y >= 0.0 && voxel.y <= _rRes.y && voxel.z >= 0.0 && voxel.z <= _rRes.z)) {;\nvid = getId(voxel);vec4 vcc = getVoxel_Color(vid, voxel, RayOrigin);if(vcc.a != 0.0) {fvoxelColor = vcc;break;\n}}}}fvoxelPos = getVoxel_Pos(vid);fvoxelNormal = getVoxel_Normal(vid);return RayTraversalResponse(fvoxelColor, fvoxelPos, fvoxelNormal);}\n"}},{key:"isPowerOfTwo",value:function(e){return 0==(e&e-1)}},{key:"nextHighestPowerOfTwo",value:function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}},{key:"getElementPosition",value:function(e){for(var t=e,n=0,i=0;"object"===(void 0===t?"undefined":r(t))&&void 0!==t.tagName;)i+=t.offsetTop,n+=t.offsetLeft,"BODY"===t.tagName.toUpperCase()&&(t=0),"object"===(void 0===t?"undefined":r(t))&&"object"===r(t.offsetParent)&&(t=t.offsetParent);return{x:n,y:i}}},{key:"getWebGLContextFromCanvas",value:function(e,t){return WebCLGLUtils.getWebGLContextFromCanvas(e,t)}},{key:"fullScreen",value:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}]),e}();i.Utils=a,t.exports.Utils=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{webclgl:6}],39:[function(e,t,n){(function(e){"use strict";function i(e){this.getSrc=function(){return[["RGB"],"varying vec4 vVN;\nvarying vec4 vVT;\nvarying float vVTU;\n","vec4 vp = vertexPos[];\nvec4 vn = vertexNormal[];\nvec4 vt = vertexTexture[];\nfloat vtu = vertexTextureUnit[];\nvVN = vn;vVT = vt;vVTU = vtu;gl_Position = PMatrix * cameraWMatrix * nodeWMatrix * vp;\n","varying vec4 vVN;\nvarying vec4 vVT;\nvarying float vVTU;\n","vec4 textureColor = texture2D(texAlbedo, vVT.xy);\nreturn [textureColor];\n"]}}Object.defineProperty(n,"__esModule",{value:!0}),n.VFP_RGB=i,e.VFP_RGB=i,t.exports.VFP_RGB=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){(function(n){"use strict";e("./ArrayGenerator.class"),e("./Component.class"),e("./Component_GPU.class"),e("./ComponentControllerTransformTarget.class"),e("./ComponentKeyboardEvents.class"),e("./ComponentMouseEvents.class"),e("./ComponentProjection.class"),e("./ComponentTransform.class"),e("./ComponentTransformTarget.class"),e("./Constants"),e("./Mesh.class"),e("./Node.class"),e("./Project.class"),e("./SCE.class"),e("./Stage.class"),e("./StormMath.class"),e("./SystemEvents.class"),e("./Utils.class"),e("./VFP_RGB.class"),e("./Prefabs/Grid/Grid.class"),e("./Prefabs/SimpleCamera/SimpleCamera.class"),e("./Prefabs/SimpleNode/SimpleNode.class"),e("./UI/DraggabillyS.class"),e("./UI/PanelNode.class"),e("./UI/PanelNumberGenerator.class"),e("./UI/PanelStage.class"),e("./UI/UI.class"),e("./UI/UIComponentGPU.class"),e("./UI/UIComponentGPU_Argument.class"),e("./UI/UIComponentGPU_Indices.class"),e("./UI/UIComponentGPU_Kernel.class"),e("./UI/UIComponentGPU_Vfp.class"),t.exports.ArrayGenerator=n.ArrayGenerator=ArrayGenerator,t.exports.Component=n.Component=Component,t.exports.Component_GPU=n.Component_GPU=Component_GPU,t.exports.ComponentControllerTransformTarget=n.ComponentControllerTransformTarget=ComponentControllerTransformTarget,t.exports.ComponentKeyboardEvents=n.ComponentKeyboardEvents=ComponentKeyboardEvents,t.exports.ComponentMouseEvents=n.ComponentMouseEvents=ComponentMouseEvents,t.exports.ComponentProjection=n.ComponentProjection=ComponentProjection,t.exports.ComponentTransform=n.ComponentTransform=ComponentTransform,t.exports.ComponentTransformTarget=n.ComponentTransformTarget=ComponentTransformTarget,t.exports.Constants=n.Constants=Constants,t.exports.Mesh=n.Mesh=Mesh,t.exports.Node=n.Node=Node,t.exports.Project=n.Project=Project,t.exports.SCE=n.SCE=SCE,t.exports.Stage=n.Stage=Stage,t.exports.StormM16=n.StormM16=StormM16,t.exports.StormV3=n.StormV3=StormV3,t.exports.SystemEvents=n.SystemEvents=SystemEvents,t.exports.Utils=n.Utils=Utils,t.exports.VFP_RGB=n.VFP_RGB=VFP_RGB,t.exports.Grid=n.Grid=Grid,t.exports.SimpleCamera=n.SimpleCamera=SimpleCamera,t.exports.SimpleNode=n.SimpleNode=SimpleNode,t.exports.DraggabillyS=n.DraggabillyS=DraggabillyS,t.exports.PanelNode=n.PanelNode=PanelNode,t.exports.PanelNumberGenerator=n.PanelNumberGenerator=PanelNumberGenerator,t.exports.PanelStage=n.PanelStage=PanelStage,t.exports.UI=n.UI=UI,t.exports.UIComponentGPU=n.UIComponentGPU=UIComponentGPU,t.exports.UIComponentGPU_Argument=n.UIComponentGPU_Argument=UIComponentGPU_Argument,t.exports.UIComponentGPU_Indices=n.UIComponentGPU_Indices=UIComponentGPU_Indices,t.exports.UIComponentGPU_Kernel=n.UIComponentGPU_Kernel=UIComponentGPU_Kernel,t.exports.UIComponentGPU_Vfp=n.UIComponentGPU_Vfp=UIComponentGPU_Vfp}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ArrayGenerator.class":7,"./Component.class":8,"./ComponentControllerTransformTarget.class":9,"./ComponentKeyboardEvents.class":10,"./ComponentMouseEvents.class":11,"./ComponentProjection.class":12,"./ComponentTransform.class":13,"./ComponentTransformTarget.class":14,"./Component_GPU.class":15,"./Constants":16,"./Mesh.class":17,"./Node.class":18,"./Prefabs/Grid/Grid.class":19,"./Prefabs/SimpleCamera/SimpleCamera.class":20,"./Prefabs/SimpleNode/SimpleNode.class":21,"./Project.class":22,"./SCE.class":23,"./Stage.class":24,"./StormMath.class":25,"./SystemEvents.class":26,"./UI/DraggabillyS.class":28,"./UI/PanelNode.class":29,"./UI/PanelNumberGenerator.class":30,"./UI/PanelStage.class":31,"./UI/UI.class":32,"./UI/UIComponentGPU.class":33,"./UI/UIComponentGPU_Argument.class":34,"./UI/UIComponentGPU_Indices.class":35,"./UI/UIComponentGPU_Kernel.class":36,"./UI/UIComponentGPU_Vfp.class":37,"./Utils.class":38,"./VFP_RGB.class":39}]},{},[40]);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
            value: true
});
exports.VFP_NODEPICKDRAG = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

require('scejs');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var VFP_NODEPICKDRAG = exports.VFP_NODEPICKDRAG = function () {
            function VFP_NODEPICKDRAG() {
                        _classCallCheck(this, VFP_NODEPICKDRAG);
            }

            _createClass(VFP_NODEPICKDRAG, null, [{
                        key: 'getSrc',
                        value: function getSrc(geometryLength) {
                                    return [[undefined],
                                    // vertex head
                                    'varying vec4 vColor;\n' +
                                    //'uniform sampler2D posXYZW;\n'+
                                    Utils.packGLSLFunctionString() + 'mat4 rotationMatrix(vec3 axis, float angle) {' + 'axis = normalize(axis);' + 'float s = sin(angle);' + 'float c = cos(angle);' + 'float oc = 1.0 - c;' + 'return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,' + 'oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,' + 'oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,' + '0.0,                                0.0,                                0.0,                                1.0);' + '}',

                                    // vertex source
                                    'vec2 xGeometry = get_global_id(data[].x, uBufferWidth, ' + geometryLength.toFixed(1) + ');' + 'vec4 nodePosition = posXYZW[xGeometry];\n' + 'mat4 nodepos = nodeWMatrix;' + 'mat4 mm = rotationMatrix(vec3(1.0,0.0,0.0), (3.1416/2.0)*3.0);' + 'nodepos = nodepos*mm;' + 'nodepos[3][0] = nodePosition.x;' + 'nodepos[3][1] = nodePosition.y;' + 'nodepos[3][2] = nodePosition.z;' + 'vColor = pack((data[].x+1.0)/1000000.0);' + 'if(vColor.x == 1.0 && vColor.y == 1.0 && vColor.z == 1.0 && vColor.w == 1.0) ' + 'nodepos[3][0] = 10000.0;' + 'gl_Position = PMatrix * cameraWMatrix * nodepos * nodeVertexPos[];\n' + 'gl_PointSize = 10.0;\n',

                                    // fragment head
                                    'varying vec4 vColor;\n',

                                    // fragment source
                                    //'vec2 x = get_global_id();'+ // no needed

                                    'return [vColor];\n'];
                        }
            }]);

            return VFP_NODEPICKDRAG;
}();

global.VFP_NODEPICKDRAG = VFP_NODEPICKDRAG;
module.exports.VFP_NODEPICKDRAG = VFP_NODEPICKDRAG;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"scejs":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc2NlanMvZGlzdC9zY2Vqcy9TQ0VKUy5taW4uanMiLCJzcmMvZ2JyYWluL1ZGUF9OT0RFUElDS0RSQUcuY2xhc3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUE7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCIhZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpKXtmdW5jdGlvbiBvKHMsYSl7aWYoIW5bc10pe2lmKCF0W3NdKXt2YXIgbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKHMsITApO2lmKHIpcmV0dXJuIHIocywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgYz1uW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoYy5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbc11bMV1bZV07cmV0dXJuIG8obnx8ZSl9LGMsYy5leHBvcnRzLGUsdCxuLGkpfXJldHVybiBuW3NdLmV4cG9ydHN9Zm9yKHZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8aS5sZW5ndGg7cysrKW8oaVtzXSk7cmV0dXJuIG99cmV0dXJuIGV9KCkoezE6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24obixpKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImdldC1zaXplL2dldC1zaXplXCIsXCJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXJcIl0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShuLGUsdCl9KTpcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5leHBvcnRzP3QuZXhwb3J0cz1pKG4sZShcImdldC1zaXplXCIpLGUoXCJ1bmlkcmFnZ2VyXCIpKTpuLkRyYWdnYWJpbGx5PWkobixuLmdldFNpemUsbi5VbmlkcmFnZ2VyKX0od2luZG93LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfWZ1bmN0aW9uIG8oZSx0KXt0aGlzLmVsZW1lbnQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTplLHMmJih0aGlzLiRlbGVtZW50PXModGhpcy5lbGVtZW50KSksdGhpcy5vcHRpb25zPWkoe30sdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyksdGhpcy5vcHRpb24odCksdGhpcy5fY3JlYXRlKCl9ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuIG49bnx8XCJyb3VuZFwiLHQ/TWF0aFtuXShlL3QpKnQ6ZX12YXIgcz1lLmpRdWVyeSxhPW8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpO28uZGVmYXVsdHM9e30sYS5vcHRpb249ZnVuY3Rpb24oZSl7aSh0aGlzLm9wdGlvbnMsZSl9O3ZhciBsPXtyZWxhdGl2ZTohMCxhYnNvbHV0ZTohMCxmaXhlZDohMH07cmV0dXJuIGEuX2NyZWF0ZT1mdW5jdGlvbigpe3RoaXMucG9zaXRpb249e30sdGhpcy5fZ2V0UG9zaXRpb24oKSx0aGlzLnN0YXJ0UG9pbnQ9e3g6MCx5OjB9LHRoaXMuZHJhZ1BvaW50PXt4OjAseTowfSx0aGlzLnN0YXJ0UG9zaXRpb249aSh7fSx0aGlzLnBvc2l0aW9uKTt2YXIgZT1nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7bFtlLnBvc2l0aW9uXXx8KHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLHRoaXMub24oXCJwb2ludGVyRG93blwiLHRoaXMub25Qb2ludGVyRG93biksdGhpcy5vbihcInBvaW50ZXJNb3ZlXCIsdGhpcy5vblBvaW50ZXJNb3ZlKSx0aGlzLm9uKFwicG9pbnRlclVwXCIsdGhpcy5vblBvaW50ZXJVcCksdGhpcy5lbmFibGUoKSx0aGlzLnNldEhhbmRsZXMoKX0sYS5zZXRIYW5kbGVzPWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVzPXRoaXMub3B0aW9ucy5oYW5kbGU/dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vcHRpb25zLmhhbmRsZSk6W3RoaXMuZWxlbWVudF0sdGhpcy5iaW5kSGFuZGxlcygpfSxhLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVt0XS5jb25jYXQobik7dGhpcy5lbWl0RXZlbnQoZSxpKSx0aGlzLmRpc3BhdGNoSlF1ZXJ5RXZlbnQoZSx0LG4pfSxhLmRpc3BhdGNoSlF1ZXJ5RXZlbnQ9ZnVuY3Rpb24odCxuLGkpe3ZhciBvPWUualF1ZXJ5O2lmKG8mJnRoaXMuJGVsZW1lbnQpe3ZhciByPW8uRXZlbnQobik7ci50eXBlPXQsdGhpcy4kZWxlbWVudC50cmlnZ2VyKHIsaSl9fSxhLl9nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBlPWdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KSx0PXRoaXMuX2dldFBvc2l0aW9uQ29vcmQoZS5sZWZ0LFwid2lkdGhcIiksbj10aGlzLl9nZXRQb3NpdGlvbkNvb3JkKGUudG9wLFwiaGVpZ2h0XCIpO3RoaXMucG9zaXRpb24ueD1pc05hTih0KT8wOnQsdGhpcy5wb3NpdGlvbi55PWlzTmFOKG4pPzA6bix0aGlzLl9hZGRUcmFuc2Zvcm1Qb3NpdGlvbihlKX0sYS5fZ2V0UG9zaXRpb25Db29yZD1mdW5jdGlvbihlLG4pe2lmKC0xIT1lLmluZGV4T2YoXCIlXCIpKXt2YXIgaT10KHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKTtyZXR1cm4gaT9wYXJzZUZsb2F0KGUpLzEwMCppW25dOjB9cmV0dXJuIHBhcnNlSW50KGUsMTApfSxhLl9hZGRUcmFuc2Zvcm1Qb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnRyYW5zZm9ybTtpZigwPT09dC5pbmRleE9mKFwibWF0cml4XCIpKXt2YXIgbj10LnNwbGl0KFwiLFwiKSxpPTA9PT10LmluZGV4T2YoXCJtYXRyaXgzZFwiKT8xMjo0LG89cGFyc2VJbnQobltpXSwxMCkscj1wYXJzZUludChuW2krMV0sMTApO3RoaXMucG9zaXRpb24ueCs9byx0aGlzLnBvc2l0aW9uLnkrPXJ9fSxhLm9uUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImlzLXBvaW50ZXItZG93blwiKSx0aGlzLmRpc3BhdGNoSlF1ZXJ5RXZlbnQoXCJwb2ludGVyRG93blwiLGUsW3RdKX0sYS5kcmFnU3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmlzRW5hYmxlZCYmKHRoaXMuX2dldFBvc2l0aW9uKCksdGhpcy5tZWFzdXJlQ29udGFpbm1lbnQoKSx0aGlzLnN0YXJ0UG9zaXRpb24ueD10aGlzLnBvc2l0aW9uLngsdGhpcy5zdGFydFBvc2l0aW9uLnk9dGhpcy5wb3NpdGlvbi55LHRoaXMuc2V0TGVmdFRvcCgpLHRoaXMuZHJhZ1BvaW50Lng9MCx0aGlzLmRyYWdQb2ludC55PTAsdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1kcmFnZ2luZ1wiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmFnU3RhcnRcIixlLFt0XSksdGhpcy5hbmltYXRlKCkpfSxhLm1lYXN1cmVDb250YWlubWVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGFpbmVyKCk7aWYoZSl7dmFyIG49dCh0aGlzLmVsZW1lbnQpLGk9dChlKSxvPXRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz1pLmJvcmRlckxlZnRXaWR0aCtpLmJvcmRlclJpZ2h0V2lkdGgsYT1pLmJvcmRlclRvcFdpZHRoK2kuYm9yZGVyQm90dG9tV2lkdGgsbD10aGlzLnJlbGF0aXZlU3RhcnRQb3NpdGlvbj17eDpvLmxlZnQtKHIubGVmdCtpLmJvcmRlckxlZnRXaWR0aCkseTpvLnRvcC0oci50b3AraS5ib3JkZXJUb3BXaWR0aCl9O3RoaXMuY29udGFpblNpemU9e3dpZHRoOmkud2lkdGgtcy1sLngtbi53aWR0aCxoZWlnaHQ6aS5oZWlnaHQtYS1sLnktbi5oZWlnaHR9fX0sYS5nZXRDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuY29udGFpbm1lbnQ7aWYoZSlyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P2U6XCJzdHJpbmdcIj09dHlwZW9mIGU/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTp0aGlzLmVsZW1lbnQucGFyZW50Tm9kZX0sYS5vblBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmRpc3BhdGNoSlF1ZXJ5RXZlbnQoXCJwb2ludGVyTW92ZVwiLGUsW3Qsbl0pfSxhLmRyYWdNb3ZlPWZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIGk9bi54LG89bi55LHM9dGhpcy5vcHRpb25zLmdyaWQsYT1zJiZzWzBdLGw9cyYmc1sxXTtpPXIoaSxhKSxvPXIobyxsKSxpPXRoaXMuY29udGFpbkRyYWcoXCJ4XCIsaSxhKSxvPXRoaXMuY29udGFpbkRyYWcoXCJ5XCIsbyxsKSxpPVwieVwiPT10aGlzLm9wdGlvbnMuYXhpcz8wOmksbz1cInhcIj09dGhpcy5vcHRpb25zLmF4aXM/MDpvLHRoaXMucG9zaXRpb24ueD10aGlzLnN0YXJ0UG9zaXRpb24ueCtpLHRoaXMucG9zaXRpb24ueT10aGlzLnN0YXJ0UG9zaXRpb24ueStvLHRoaXMuZHJhZ1BvaW50Lng9aSx0aGlzLmRyYWdQb2ludC55PW8sdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhZ01vdmVcIixlLFt0LG5dKX19LGEuY29udGFpbkRyYWc9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0aGlzLm9wdGlvbnMuY29udGFpbm1lbnQpcmV0dXJuIHQ7dmFyIGk9XCJ4XCI9PWU/XCJ3aWR0aFwiOlwiaGVpZ2h0XCIsbz1yKC10aGlzLnJlbGF0aXZlU3RhcnRQb3NpdGlvbltlXSxuLFwiY2VpbFwiKSxzPXRoaXMuY29udGFpblNpemVbaV07cmV0dXJuIHM9cihzLG4sXCJmbG9vclwiKSxNYXRoLm1heChvLE1hdGgubWluKHMsdCkpfSxhLm9uUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1wb2ludGVyLWRvd25cIiksdGhpcy5kaXNwYXRjaEpRdWVyeUV2ZW50KFwicG9pbnRlclVwXCIsZSxbdF0pfSxhLmRyYWdFbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJcIix0aGlzLnNldExlZnRUb3AoKSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWRyYWdnaW5nXCIpLHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYWdFbmRcIixlLFt0XSkpfSxhLmFuaW1hdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRHJhZ2dpbmcpe3RoaXMucG9zaXRpb25EcmFnKCk7dmFyIGU9dGhpcztyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtlLmFuaW1hdGUoKX0pfX0sYS5zZXRMZWZ0VG9wPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi54K1wicHhcIix0aGlzLmVsZW1lbnQuc3R5bGUudG9wPXRoaXMucG9zaXRpb24ueStcInB4XCJ9LGEucG9zaXRpb25EcmFnPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZTNkKCBcIit0aGlzLmRyYWdQb2ludC54K1wicHgsIFwiK3RoaXMuZHJhZ1BvaW50LnkrXCJweCwgMClcIn0sYS5zdGF0aWNDbGljaz1mdW5jdGlvbihlLHQpe3RoaXMuZGlzcGF0Y2hFdmVudChcInN0YXRpY0NsaWNrXCIsZSxbdF0pfSxhLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5wb3NpdGlvbi54PWUsdGhpcy5wb3NpdGlvbi55PXQsdGhpcy5zZXRMZWZ0VG9wKCl9LGEuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQ9ITB9LGEuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkPSExLHRoaXMuaXNEcmFnZ2luZyYmdGhpcy5kcmFnRW5kKCl9LGEuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZSgpLHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJcIix0aGlzLmVsZW1lbnQuc3R5bGUubGVmdD1cIlwiLHRoaXMuZWxlbWVudC5zdHlsZS50b3A9XCJcIix0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb249XCJcIix0aGlzLnVuYmluZEhhbmRsZXMoKSx0aGlzLiRlbGVtZW50JiZ0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoXCJkcmFnZ2FiaWxseVwiKX0sYS5faW5pdD1mdW5jdGlvbigpe30scyYmcy5icmlkZ2V0JiZzLmJyaWRnZXQoXCJkcmFnZ2FiaWxseVwiLG8pLG99KX0se1wiZ2V0LXNpemVcIjozLHVuaWRyYWdnZXI6NH1dLDI6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKG4pOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzPW4oKTplLkV2RW1pdHRlcj1uKCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKCl7fXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0Lm9uPWZ1bmN0aW9uKGUsdCl7aWYoZSYmdCl7dmFyIG49dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30saT1uW2VdPW5bZV18fFtdO3JldHVybi0xPT1pLmluZGV4T2YodCkmJmkucHVzaCh0KSx0aGlzfX0sdC5vbmNlPWZ1bmN0aW9uKGUsdCl7aWYoZSYmdCl7dGhpcy5vbihlLHQpO3ZhciBuPXRoaXMuX29uY2VFdmVudHM9dGhpcy5fb25jZUV2ZW50c3x8e307cmV0dXJuKG5bZV09bltlXXx8e30pW3RdPSEwLHRoaXN9fSx0Lm9mZj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW2VdO2lmKG4mJm4ubGVuZ3RoKXt2YXIgaT1uLmluZGV4T2YodCk7cmV0dXJuLTEhPWkmJm4uc3BsaWNlKGksMSksdGhpc319LHQuZW1pdEV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV07aWYobiYmbi5sZW5ndGgpe249bi5zbGljZSgwKSx0PXR8fFtdO2Zvcih2YXIgaT10aGlzLl9vbmNlRXZlbnRzJiZ0aGlzLl9vbmNlRXZlbnRzW2VdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXTtpJiZpW3JdJiYodGhpcy5vZmYoZSxyKSxkZWxldGUgaVtyXSksci5hcHBseSh0aGlzLHQpfXJldHVybiB0aGlzfX0sdC5hbGxPZmY9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZXZlbnRzLGRlbGV0ZSB0aGlzLl9vbmNlRXZlbnRzfSxlfSl9LHt9XSwzOltmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShuKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5leHBvcnRzP3QuZXhwb3J0cz1uKCk6ZS5nZXRTaXplPW4oKX0od2luZG93LGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXt2YXIgdD1wYXJzZUZsb2F0KGUpO3JldHVybi0xPT1lLmluZGV4T2YoXCIlXCIpJiYhaXNOYU4odCkmJnR9ZnVuY3Rpb24gdCgpe2Zvcih2YXIgZT17d2lkdGg6MCxoZWlnaHQ6MCxpbm5lcldpZHRoOjAsaW5uZXJIZWlnaHQ6MCxvdXRlcldpZHRoOjAsb3V0ZXJIZWlnaHQ6MH0sdD0wO3Q8bDt0KyspZVthW3RdXT0wO3JldHVybiBlfWZ1bmN0aW9uIG4oZSl7dmFyIHQ9Z2V0Q29tcHV0ZWRTdHlsZShlKTtyZXR1cm4gdHx8cyhcIlN0eWxlIHJldHVybmVkIFwiK3QrXCIuIEFyZSB5b3UgcnVubmluZyB0aGlzIGNvZGUgaW4gYSBoaWRkZW4gaWZyYW1lIG9uIEZpcmVmb3g/IFNlZSBodHRwczovL2JpdC5seS9nZXRzaXplYnVnMVwiKSx0fWZ1bmN0aW9uIGkoKXtpZighdSl7dT0hMDt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc3R5bGUud2lkdGg9XCIyMDBweFwiLHQuc3R5bGUucGFkZGluZz1cIjFweCAycHggM3B4IDRweFwiLHQuc3R5bGUuYm9yZGVyU3R5bGU9XCJzb2xpZFwiLHQuc3R5bGUuYm9yZGVyV2lkdGg9XCIxcHggMnB4IDNweCA0cHhcIix0LnN0eWxlLmJveFNpemluZz1cImJvcmRlci1ib3hcIjt2YXIgaT1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7aS5hcHBlbmRDaGlsZCh0KTt2YXIgcz1uKHQpO3I9MjAwPT1NYXRoLnJvdW5kKGUocy53aWR0aCkpLG8uaXNCb3hTaXplT3V0ZXI9cixpLnJlbW92ZUNoaWxkKHQpfX1mdW5jdGlvbiBvKG8pe2lmKGkoKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvKSksbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJm8ubm9kZVR5cGUpe3ZhciBzPW4obyk7aWYoXCJub25lXCI9PXMuZGlzcGxheSlyZXR1cm4gdCgpO3ZhciB1PXt9O3Uud2lkdGg9by5vZmZzZXRXaWR0aCx1LmhlaWdodD1vLm9mZnNldEhlaWdodDtmb3IodmFyIGM9dS5pc0JvcmRlckJveD1cImJvcmRlci1ib3hcIj09cy5ib3hTaXppbmcsZD0wO2Q8bDtkKyspe3ZhciBoPWFbZF0sZj1zW2hdLHA9cGFyc2VGbG9hdChmKTt1W2hdPWlzTmFOKHApPzA6cH12YXIgZz11LnBhZGRpbmdMZWZ0K3UucGFkZGluZ1JpZ2h0LHY9dS5wYWRkaW5nVG9wK3UucGFkZGluZ0JvdHRvbSxfPXUubWFyZ2luTGVmdCt1Lm1hcmdpblJpZ2h0LG09dS5tYXJnaW5Ub3ArdS5tYXJnaW5Cb3R0b20seT11LmJvcmRlckxlZnRXaWR0aCt1LmJvcmRlclJpZ2h0V2lkdGgsYj11LmJvcmRlclRvcFdpZHRoK3UuYm9yZGVyQm90dG9tV2lkdGgsRT1jJiZyLEM9ZShzLndpZHRoKTshMSE9PUMmJih1LndpZHRoPUMrKEU/MDpnK3kpKTt2YXIgVD1lKHMuaGVpZ2h0KTtyZXR1cm4hMSE9PVQmJih1LmhlaWdodD1UKyhFPzA6ditiKSksdS5pbm5lcldpZHRoPXUud2lkdGgtKGcreSksdS5pbm5lckhlaWdodD11LmhlaWdodC0oditiKSx1Lm91dGVyV2lkdGg9dS53aWR0aCtfLHUub3V0ZXJIZWlnaHQ9dS5oZWlnaHQrbSx1fX12YXIgcixzPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfSxhPVtcInBhZGRpbmdMZWZ0XCIsXCJwYWRkaW5nUmlnaHRcIixcInBhZGRpbmdUb3BcIixcInBhZGRpbmdCb3R0b21cIixcIm1hcmdpbkxlZnRcIixcIm1hcmdpblJpZ2h0XCIsXCJtYXJnaW5Ub3BcIixcIm1hcmdpbkJvdHRvbVwiLFwiYm9yZGVyTGVmdFdpZHRoXCIsXCJib3JkZXJSaWdodFdpZHRoXCIsXCJib3JkZXJUb3BXaWR0aFwiLFwiYm9yZGVyQm90dG9tV2lkdGhcIl0sbD1hLmxlbmd0aCx1PSExO3JldHVybiBvfSl9LHt9XSw0OltmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKG4saSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJ1bmlwb2ludGVyL3VuaXBvaW50ZXJcIl0sZnVuY3Rpb24oZSl7cmV0dXJuIGkobixlKX0pOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmV4cG9ydHM/dC5leHBvcnRzPWkobixlKFwidW5pcG9pbnRlclwiKSk6bi5VbmlkcmFnZ2VyPWkobixuLlVuaXBvaW50ZXIpfSh3aW5kb3csZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fXZhciBpPW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpO2kuYmluZEhhbmRsZXM9ZnVuY3Rpb24oKXt0aGlzLl9iaW5kSGFuZGxlcyghMCl9LGkudW5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCExKX0saS5fYmluZEhhbmRsZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPSh0PXZvaWQgMD09PXR8fHQpP1wiYWRkRXZlbnRMaXN0ZW5lclwiOlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLGk9dD90aGlzLl90b3VjaEFjdGlvblZhbHVlOlwiXCIsbz0wO288dGhpcy5oYW5kbGVzLmxlbmd0aDtvKyspe3ZhciByPXRoaXMuaGFuZGxlc1tvXTt0aGlzLl9iaW5kU3RhcnRFdmVudChyLHQpLHJbbl0oXCJjbGlja1wiLHRoaXMpLGUuUG9pbnRlckV2ZW50JiYoci5zdHlsZS50b3VjaEFjdGlvbj1pKX19LGkuX3RvdWNoQWN0aW9uVmFsdWU9XCJub25lXCIsaS5wb2ludGVyRG93bj1mdW5jdGlvbihlLHQpe3RoaXMub2theVBvaW50ZXJEb3duKGUpJiYodGhpcy5wb2ludGVyRG93blBvaW50ZXI9dCxlLnByZXZlbnREZWZhdWx0KCksdGhpcy5wb2ludGVyRG93bkJsdXIoKSx0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKGUpLHRoaXMuZW1pdEV2ZW50KFwicG9pbnRlckRvd25cIixbZSx0XSkpfTt2YXIgbz17VEVYVEFSRUE6ITAsSU5QVVQ6ITAsU0VMRUNUOiEwLE9QVElPTjohMH0scj17cmFkaW86ITAsY2hlY2tib3g6ITAsYnV0dG9uOiEwLHN1Ym1pdDohMCxpbWFnZTohMCxmaWxlOiEwfTtyZXR1cm4gaS5va2F5UG9pbnRlckRvd249ZnVuY3Rpb24oZSl7dmFyIHQ9b1tlLnRhcmdldC5ub2RlTmFtZV0sbj1yW2UudGFyZ2V0LnR5cGVdLGk9IXR8fG47cmV0dXJuIGl8fHRoaXMuX3BvaW50ZXJSZXNldCgpLGl9LGkucG9pbnRlckRvd25CbHVyPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtlJiZlLmJsdXImJmUhPWRvY3VtZW50LmJvZHkmJmUuYmx1cigpfSxpLnBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZHJhZ1BvaW50ZXJNb3ZlKGUsdCk7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyTW92ZVwiLFtlLHQsbl0pLHRoaXMuX2RyYWdNb3ZlKGUsdCxuKX0saS5fZHJhZ1BvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49e3g6dC5wYWdlWC10aGlzLnBvaW50ZXJEb3duUG9pbnRlci5wYWdlWCx5OnQucGFnZVktdGhpcy5wb2ludGVyRG93blBvaW50ZXIucGFnZVl9O3JldHVybiF0aGlzLmlzRHJhZ2dpbmcmJnRoaXMuaGFzRHJhZ1N0YXJ0ZWQobikmJnRoaXMuX2RyYWdTdGFydChlLHQpLG59LGkuaGFzRHJhZ1N0YXJ0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGUueCk+M3x8TWF0aC5hYnMoZS55KT4zfSxpLnBvaW50ZXJVcD1mdW5jdGlvbihlLHQpe3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlclVwXCIsW2UsdF0pLHRoaXMuX2RyYWdQb2ludGVyVXAoZSx0KX0saS5fZHJhZ1BvaW50ZXJVcD1mdW5jdGlvbihlLHQpe3RoaXMuaXNEcmFnZ2luZz90aGlzLl9kcmFnRW5kKGUsdCk6dGhpcy5fc3RhdGljQ2xpY2soZSx0KX0saS5fZHJhZ1N0YXJ0PWZ1bmN0aW9uKGUsdCl7dGhpcy5pc0RyYWdnaW5nPSEwLHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzPSEwLHRoaXMuZHJhZ1N0YXJ0KGUsdCl9LGkuZHJhZ1N0YXJ0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0RXZlbnQoXCJkcmFnU3RhcnRcIixbZSx0XSl9LGkuX2RyYWdNb3ZlPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmlzRHJhZ2dpbmcmJnRoaXMuZHJhZ01vdmUoZSx0LG4pfSxpLmRyYWdNb3ZlPWZ1bmN0aW9uKGUsdCxuKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5lbWl0RXZlbnQoXCJkcmFnTW92ZVwiLFtlLHQsbl0pfSxpLl9kcmFnRW5kPWZ1bmN0aW9uKGUsdCl7dGhpcy5pc0RyYWdnaW5nPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3N9LmJpbmQodGhpcykpLHRoaXMuZHJhZ0VuZChlLHQpfSxpLmRyYWdFbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXRFdmVudChcImRyYWdFbmRcIixbZSx0XSl9LGkub25jbGljaz1mdW5jdGlvbihlKXt0aGlzLmlzUHJldmVudGluZ0NsaWNrcyYmZS5wcmV2ZW50RGVmYXVsdCgpfSxpLl9zdGF0aWNDbGljaz1mdW5jdGlvbihlLHQpe3RoaXMuaXNJZ25vcmluZ01vdXNlVXAmJlwibW91c2V1cFwiPT1lLnR5cGV8fCh0aGlzLnN0YXRpY0NsaWNrKGUsdCksXCJtb3VzZXVwXCIhPWUudHlwZSYmKHRoaXMuaXNJZ25vcmluZ01vdXNlVXA9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmlzSWdub3JpbmdNb3VzZVVwfS5iaW5kKHRoaXMpLDQwMCkpKX0saS5zdGF0aWNDbGljaz1mdW5jdGlvbihlLHQpe3RoaXMuZW1pdEV2ZW50KFwic3RhdGljQ2xpY2tcIixbZSx0XSl9LG4uZ2V0UG9pbnRlclBvaW50PXQuZ2V0UG9pbnRlclBvaW50LG59KX0se3VuaXBvaW50ZXI6NX1dLDU6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24obixpKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV2LWVtaXR0ZXIvZXYtZW1pdHRlclwiXSxmdW5jdGlvbihlKXtyZXR1cm4gaShuLGUpfSk6XCJvYmplY3RcIj09dHlwZW9mIHQmJnQuZXhwb3J0cz90LmV4cG9ydHM9aShuLGUoXCJldi1lbWl0dGVyXCIpKTpuLlVuaXBvaW50ZXI9aShuLG4uRXZFbWl0dGVyKX0od2luZG93LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe312YXIgaT1uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKTtpLmJpbmRTdGFydEV2ZW50PWZ1bmN0aW9uKGUpe3RoaXMuX2JpbmRTdGFydEV2ZW50KGUsITApfSxpLnVuYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fYmluZFN0YXJ0RXZlbnQoZSwhMSl9LGkuX2JpbmRTdGFydEV2ZW50PWZ1bmN0aW9uKHQsbil7dmFyIGk9KG49dm9pZCAwPT09bnx8bik/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsbz1cIm1vdXNlZG93blwiO2UuUG9pbnRlckV2ZW50P289XCJwb2ludGVyZG93blwiOlwib250b3VjaHN0YXJ0XCJpbiBlJiYobz1cInRvdWNoc3RhcnRcIiksdFtpXShvLHRoaXMpfSxpLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PVwib25cIitlLnR5cGU7dGhpc1t0XSYmdGhpc1t0XShlKX0saS5nZXRUb3VjaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtpZihuLmlkZW50aWZpZXI9PXRoaXMucG9pbnRlcklkZW50aWZpZXIpcmV0dXJuIG59fSxpLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYnV0dG9uO3QmJjAhPT10JiYxIT09dHx8dGhpcy5fcG9pbnRlckRvd24oZSxlKX0saS5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlckRvd24oZSxlLmNoYW5nZWRUb3VjaGVzWzBdKX0saS5vbnBvaW50ZXJkb3duPWZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJEb3duKGUsZSl9LGkuX3BvaW50ZXJEb3duPWZ1bmN0aW9uKGUsdCl7ZS5idXR0b258fHRoaXMuaXNQb2ludGVyRG93bnx8KHRoaXMuaXNQb2ludGVyRG93bj0hMCx0aGlzLnBvaW50ZXJJZGVudGlmaWVyPXZvaWQgMCE9PXQucG9pbnRlcklkP3QucG9pbnRlcklkOnQuaWRlbnRpZmllcix0aGlzLnBvaW50ZXJEb3duKGUsdCkpfSxpLnBvaW50ZXJEb3duPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyhlKSx0aGlzLmVtaXRFdmVudChcInBvaW50ZXJEb3duXCIsW2UsdF0pfTt2YXIgbz17bW91c2Vkb3duOltcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiXSx0b3VjaHN0YXJ0OltcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInRvdWNoY2FuY2VsXCJdLHBvaW50ZXJkb3duOltcInBvaW50ZXJtb3ZlXCIsXCJwb2ludGVydXBcIixcInBvaW50ZXJjYW5jZWxcIl19O3JldHVybiBpLl9iaW5kUG9zdFN0YXJ0RXZlbnRzPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBuPW9bdC50eXBlXTtuLmZvckVhY2goZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKHQsdGhpcyl9LHRoaXMpLHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cz1ufX0saS5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5fYm91bmRQb2ludGVyRXZlbnRzJiYodGhpcy5fYm91bmRQb2ludGVyRXZlbnRzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcyl9LHRoaXMpLGRlbGV0ZSB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHMpfSxpLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuX3BvaW50ZXJNb3ZlKGUsZSl9LGkub25wb2ludGVybW92ZT1mdW5jdGlvbihlKXtlLnBvaW50ZXJJZD09dGhpcy5wb2ludGVySWRlbnRpZmllciYmdGhpcy5fcG9pbnRlck1vdmUoZSxlKX0saS5vbnRvdWNobW92ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFRvdWNoKGUuY2hhbmdlZFRvdWNoZXMpO3QmJnRoaXMuX3BvaW50ZXJNb3ZlKGUsdCl9LGkuX3BvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dGhpcy5wb2ludGVyTW92ZShlLHQpfSxpLnBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyTW92ZVwiLFtlLHRdKX0saS5vbm1vdXNldXA9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlclVwKGUsZSl9LGkub25wb2ludGVydXA9ZnVuY3Rpb24oZSl7ZS5wb2ludGVySWQ9PXRoaXMucG9pbnRlcklkZW50aWZpZXImJnRoaXMuX3BvaW50ZXJVcChlLGUpfSxpLm9udG91Y2hlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRUb3VjaChlLmNoYW5nZWRUb3VjaGVzKTt0JiZ0aGlzLl9wb2ludGVyVXAoZSx0KX0saS5fcG9pbnRlclVwPWZ1bmN0aW9uKGUsdCl7dGhpcy5fcG9pbnRlckRvbmUoKSx0aGlzLnBvaW50ZXJVcChlLHQpfSxpLnBvaW50ZXJVcD1mdW5jdGlvbihlLHQpe3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlclVwXCIsW2UsdF0pfSxpLl9wb2ludGVyRG9uZT1mdW5jdGlvbigpe3RoaXMuX3BvaW50ZXJSZXNldCgpLHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpLHRoaXMucG9pbnRlckRvbmUoKX0saS5fcG9pbnRlclJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5pc1BvaW50ZXJEb3duPSExLGRlbGV0ZSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyfSxpLnBvaW50ZXJEb25lPWZ1bmN0aW9uKCl7fSxpLm9ucG9pbnRlcmNhbmNlbD1mdW5jdGlvbihlKXtlLnBvaW50ZXJJZD09dGhpcy5wb2ludGVySWRlbnRpZmllciYmdGhpcy5fcG9pbnRlckNhbmNlbChlLGUpfSxpLm9udG91Y2hjYW5jZWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRUb3VjaChlLmNoYW5nZWRUb3VjaGVzKTt0JiZ0aGlzLl9wb2ludGVyQ2FuY2VsKGUsdCl9LGkuX3BvaW50ZXJDYW5jZWw9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wb2ludGVyRG9uZSgpLHRoaXMucG9pbnRlckNhbmNlbChlLHQpfSxpLnBvaW50ZXJDYW5jZWw9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJDYW5jZWxcIixbZSx0XSl9LG4uZ2V0UG9pbnRlclBvaW50PWZ1bmN0aW9uKGUpe3JldHVybnt4OmUucGFnZVgseTplLnBhZ2VZfX0sbn0pfSx7XCJldi1lbWl0dGVyXCI6Mn1dLDY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLGksbyl7ZnVuY3Rpb24gcihhLGwpe2lmKCFpW2FdKXtpZighblthXSl7dmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZTtpZighbCYmdSlyZXR1cm4gdShhLCEwKTtpZihzKXJldHVybiBzKGEsITApO3ZhciBjPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrYStcIidcIik7dGhyb3cgYy5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGN9dmFyIGQ9aVthXT17ZXhwb3J0czp7fX07blthXVswXS5jYWxsKGQuZXhwb3J0cyxmdW5jdGlvbihlKXtyZXR1cm4gcihuW2FdWzFdW2VdfHxlKX0sZCxkLmV4cG9ydHMsdCxuLGksbyl9cmV0dXJuIGlbYV0uZXhwb3J0c31mb3IodmFyIHM9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSxhPTA7YTxvLmxlbmd0aDthKyspcihvW2FdKTtyZXR1cm4gcn1yZXR1cm4gdH0oKSh7MTpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpLldlYkNMR0w9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9XZWJDTEdMQnVmZmVyLmNsYXNzXCIpLGE9ZShcIi4vV2ViQ0xHTEtlcm5lbC5jbGFzc1wiKSxsPWUoXCIuL1dlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW0uY2xhc3NcIiksdT1lKFwiLi9XZWJDTEdMVXRpbHMuY2xhc3NcIiksYz1pLldlYkNMR0w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe28odGhpcyxlKSx0aGlzLnV0aWxzPW5ldyB1LldlYkNMR0xVdGlscyx0aGlzLl9nbD1udWxsLHRoaXMuZT1udWxsLHZvaWQgMD09PXR8fG51bGw9PT10Pyh0aGlzLmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmUud2lkdGg9MzIsdGhpcy5lLmhlaWdodD0zMix0aGlzLl9nbD11LldlYkNMR0xVdGlscy5nZXRXZWJHTENvbnRleHRGcm9tQ2FudmFzKHRoaXMuZSx7YW50aWFsaWFzOiExfSkpOnRoaXMuX2dsPXQsdGhpcy5fYXJyRXh0PXtPRVNfdGV4dHVyZV9mbG9hdDpudWxsLE9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcjpudWxsLE9FU19lbGVtZW50X2luZGV4X3VpbnQ6bnVsbCxXRUJHTF9kcmF3X2J1ZmZlcnM6bnVsbH07Zm9yKHZhciBuIGluIHRoaXMuX2FyckV4dCl0aGlzLl9hcnJFeHRbbl09dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKG4pLG51bGw9PXRoaXMuX2FyckV4dFtuXSYmY29uc29sZS5lcnJvcihcImV4dGVuc2lvbiBcIituK1wiIG5vdCBhdmFpbGFibGVcIik7dGhpcy5fbWF4RHJhd0J1ZmZlcnM9bnVsbCx0aGlzLl9hcnJFeHQuaGFzT3duUHJvcGVydHkoXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIikmJm51bGwhPXRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnM/KHRoaXMuX21heERyYXdCdWZmZXJzPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wpLGNvbnNvbGUubG9nKFwiTWF4IGRyYXcgYnVmZmVyczogXCIrdGhpcy5fbWF4RHJhd0J1ZmZlcnMpKTpjb25zb2xlLmxvZyhcIk1heCBkcmF3IGJ1ZmZlcnM6IDFcIik7dmFyIGk9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTt0aGlzLnByZWNpc2lvbj0wIT09aS5wcmVjaXNpb24/XCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGludDtcXG5cXG5cIjpcInByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnByZWNpc2lvbiBsb3dwIGludDtcXG5cXG5cIix0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXQ9MCx0aGlzLl9idWZmZXJXaWR0aD0wO3ZhciByPXRoaXMudXRpbHMubG9hZFF1YWQodm9pZCAwLDEsMSk7dGhpcy52ZXJ0ZXhCdWZmZXJfUVVBRD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlcl9RVUFEKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KHIudmVydGV4QXJyYXkpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLmluZGV4QnVmZmVyX1FVQUQ9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbmV3IFVpbnQxNkFycmF5KHIuaW5kZXhBcnJheSksdGhpcy5fZ2wuU1RBVElDX0RSQVcpLHRoaXMuYXJyYXlDb3B5VGV4PVtdO3ZhciBzPXRoaXMucHJlY2lzaW9uK1wiYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2Q29vcmQ7XFxudm9pZCBtYWluKHZvaWQpIHtcXG5nbF9Qb3NpdGlvbiA9IHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbnZDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbi54eSowLjUrMC41O1xcbn1cXG5cIixhPXRoaXMucHJlY2lzaW9uK1widW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcl9idWZmZXI7XFxudmFyeWluZyB2ZWMyIHZDb29yZDtcXG52b2lkIG1haW4odm9pZCkge1xcbmdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzYW1wbGVyX2J1ZmZlciwgdkNvb3JkKTt9XFxuXCI7dGhpcy5zaGFkZXJfcmVhZHBpeGVscz10aGlzLl9nbC5jcmVhdGVQcm9ncmFtKCksdGhpcy51dGlscy5jcmVhdGVTaGFkZXIodGhpcy5fZ2wsXCJDTEdMUkVBRFBJWEVMU1wiLHMsYSx0aGlzLnNoYWRlcl9yZWFkcGl4ZWxzKSx0aGlzLmF0dHJfVmVydGV4UG9zPXRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyX3JlYWRwaXhlbHMsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5zYW1wbGVyX2J1ZmZlcj10aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zaGFkZXJfcmVhZHBpeGVscyxcInNhbXBsZXJfYnVmZmVyXCIpO3ZhciBsPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX21heERyYXdCdWZmZXJzJiZudWxsIT09dGhpcy5fbWF4RHJhd0J1ZmZlcnM/XCIjZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlXFxuXCI6XCJcIn0uYmluZCh0aGlzKSxjPShmdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9MCxuPXRoaXMuX21heERyYXdCdWZmZXJzO3Q8bjt0KyspZSs9XCJsYXlvdXQobG9jYXRpb24gPSBcIit0K1wiKSBvdXQgdmVjNCBvdXRDb2xcIit0K1wiO1xcblwiO3JldHVybiBlfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsdD0wLG49dGhpcy5fbWF4RHJhd0J1ZmZlcnM7dDxuO3QrKyllKz1cImdsX0ZyYWdEYXRhW1wiK3QrXCJdID0gdGV4dHVyZTJEKHVBcnJheUNUW1wiK3QrXCJdLCB2Q29vcmQpO1xcblwiO3JldHVybiBlfS5iaW5kKHRoaXMpKTtzPXRoaXMucHJlY2lzaW9uK1wiYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2Q29vcmQ7XFxudm9pZCBtYWluKHZvaWQpIHtcXG5nbF9Qb3NpdGlvbiA9IHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbnZDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbi54eSowLjUrMC41O1xcbn1cIixhPWwoKSt0aGlzLnByZWNpc2lvbitcInVuaWZvcm0gc2FtcGxlcjJEIHVBcnJheUNUW1wiK3RoaXMuX21heERyYXdCdWZmZXJzK1wiXTtcXG52YXJ5aW5nIHZlYzIgdkNvb3JkO1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuXCIrYygpK1wifVwiLHRoaXMuc2hhZGVyX2NvcHlUZXh0dXJlPXRoaXMuX2dsLmNyZWF0ZVByb2dyYW0oKSx0aGlzLnV0aWxzLmNyZWF0ZVNoYWRlcih0aGlzLl9nbCxcIkNMR0xDT1BZVEVYVFVSRVwiLHMsYSx0aGlzLnNoYWRlcl9jb3B5VGV4dHVyZSksdGhpcy5hdHRyX2NvcHlUZXh0dXJlX3Bvcz10aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNoYWRlcl9jb3B5VGV4dHVyZSxcImFWZXJ0ZXhQb3NpdGlvblwiKTtmb3IodmFyIGQ9MCxoPXRoaXMuX21heERyYXdCdWZmZXJzO2Q8aDtkKyspdGhpcy5hcnJheUNvcHlUZXhbZF09dGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyX2NvcHlUZXh0dXJlLFwidUFycmF5Q1RbXCIrZCtcIl1cIik7dGhpcy50ZXh0dXJlRGF0YUF1eD10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmVEYXRhQXV4KSx0aGlzLl9nbC50ZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCx0aGlzLl9nbC5SR0JBLDIsMiwwLHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuRkxPQVQsbmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMSwwLDEsMCwxLDAsMCwxLDEsMSwxLDEsMV0pKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX2dsLk5FQVJFU1QpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC5iaW5kVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpfXJldHVybiByKGUsW3trZXk6XCJnZXRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2x9fSx7a2V5OlwiZ2V0TWF4RHJhd0J1ZmZlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhEcmF3QnVmZmVyc319LHtrZXk6XCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHRoaXMuX2dsLkZSQU1FQlVGRkVSKSx0PXt9O3JldHVybiB0W3RoaXMuX2dsLkZSQU1FQlVGRkVSX0NPTVBMRVRFXT0hMCx0W3RoaXMuX2dsLkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfQVRUQUNITUVOVF09XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0FUVEFDSE1FTlQ6IFRoZSBhdHRhY2htZW50IHR5cGVzIGFyZSBtaXNtYXRjaGVkIG9yIG5vdCBhbGwgZnJhbWVidWZmZXIgYXR0YWNobWVudCBwb2ludHMgYXJlIGZyYW1lYnVmZmVyIGF0dGFjaG1lbnQgY29tcGxldGVcIix0W3RoaXMuX2dsLkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UXT1cIkZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UOiBUaGVyZSBpcyBubyBhdHRhY2htZW50XCIsdFt0aGlzLl9nbC5GUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0RJTUVOU0lPTlNdPVwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9ESU1FTlNJT05TOiBIZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBhdHRhY2htZW50IGFyZSBub3QgdGhlIHNhbWVcIix0W3RoaXMuX2dsLkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEXT1cIkZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEOiBUaGUgZm9ybWF0IG9mIHRoZSBhdHRhY2htZW50IGlzIG5vdCBzdXBwb3J0ZWQgb3IgaWYgZGVwdGggYW5kIHN0ZW5jaWwgYXR0YWNobWVudHMgYXJlIG5vdCB0aGUgc2FtZSByZW5kZXJidWZmZXJcIiwhMD09PXRbZV0mJm51bGwhPT10W2VdfHwoY29uc29sZS5sb2codFtlXSksITEpfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQmJm51bGwhPT10KWlmKHZvaWQgMCE9PXRbMF0mJm51bGwhPT10WzBdKXt0aGlzLl9nbC52aWV3cG9ydCgwLDAsdFswXS5XLHRbMF0uSCksdGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRbMF0uZkJ1ZmZlcik7Zm9yKHZhciBuPVtdLGk9MCxvPXQubGVuZ3RoO2k8bztpKyspdm9pZCAwIT09dFtpXSYmbnVsbCE9PXRbaV0/KHRoaXMuX2dsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnNbXCJDT0xPUl9BVFRBQ0hNRU5UXCIraStcIl9XRUJHTFwiXSx0aGlzLl9nbC5URVhUVVJFXzJELHRbaV0udGV4dHVyZURhdGEsMCksbltpXT10aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzW1wiQ09MT1JfQVRUQUNITUVOVFwiK2krXCJfV0VCR0xcIl0pOm5baV09dGhpcy5fZ2wuTk9ORTtpZih0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLmRyYXdCdWZmZXJzV0VCR0wobiksITA9PT10aGlzLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoKSl7dGhpcy5fZ2wudXNlUHJvZ3JhbSh0aGlzLnNoYWRlcl9jb3B5VGV4dHVyZSk7Zm9yKHZhciByPTAscz10Lmxlbmd0aDtyPHM7cisrKXRoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fZ2xbXCJURVhUVVJFXCIrcl0pLHZvaWQgMCE9PXRbcl0mJm51bGwhPT10W3JdP3RoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsdFtyXS50ZXh0dXJlRGF0YVRlbXApOnRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlRGF0YUF1eCksdGhpcy5fZ2wudW5pZm9ybTFpKHRoaXMuYXJyYXlDb3B5VGV4W3JdLHIpO3RoaXMuY29weU5vdyh0KX19ZWxzZSB0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsbnVsbCk7ZWxzZSB0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsbnVsbCl9fSx7a2V5OlwiY29weU5vd1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYXR0cl9jb3B5VGV4dHVyZV9wb3MpLHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hdHRyX2NvcHlUZXh0dXJlX3BvcywzLHRoaXMuX2dsLkZMT0FULCExLDAsMCksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLmRyYXdFbGVtZW50cyh0aGlzLl9nbC5UUklBTkdMRVMsNix0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCwwKX19LHtrZXk6XCJjcmVhdGVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyBzLldlYkNMR0xCdWZmZXIodGhpcy5fZ2wsZSx0LG4pfX0se2tleTpcImNyZWF0ZUtlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBhLldlYkNMR0xLZXJuZWwodGhpcy5fZ2wsZSx0KX19LHtrZXk6XCJjcmVhdGVWZXJ0ZXhGcmFnbWVudFByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gbmV3IGwuV2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbSh0aGlzLl9nbCxlLHQsbixpKX19LHtrZXk6XCJmaWxsQnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixuKSx0aGlzLl9nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLl9nbC5GUkFNRUJVRkZFUix0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLkNPTE9SX0FUVEFDSE1FTlQwX1dFQkdMLHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwwKTt2YXIgaT1bdGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVycy5DT0xPUl9BVFRBQ0hNRU5UMF9XRUJHTF07dGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVycy5kcmF3QnVmZmVyc1dFQkdMKGkpLHZvaWQgMCE9PXQmJm51bGwhPT10JiZ0aGlzLl9nbC5jbGVhckNvbG9yKHRbMF0sdFsxXSx0WzJdLHRbM10pLHRoaXMuX2dsLmNsZWFyKHRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQpfX0se2tleTpcImJpbmRBdHRyaWJ1dGVWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09dCYmbnVsbCE9PXQ/XCJmbG9hdDRfZnJvbUF0dHJcIj09PWUudHlwZT8odGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZS5sb2NhdGlvblswXSksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdC52ZXJ0ZXhEYXRhMCksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcihlLmxvY2F0aW9uWzBdLDQsdGhpcy5fZ2wuRkxPQVQsITEsMCwwKSk6XCJmbG9hdF9mcm9tQXR0clwiPT09ZS50eXBlJiYodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZS5sb2NhdGlvblswXSksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdC52ZXJ0ZXhEYXRhMCksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcihlLmxvY2F0aW9uWzBdLDEsdGhpcy5fZ2wuRkxPQVQsITEsMCwwKSk6dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUubG9jYXRpb25bMF0pfX0se2tleTpcImJpbmRTYW1wbGVyVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5fY3VycmVudFRleHR1cmVVbml0PDE2P3RoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fZ2xbXCJURVhUVVJFXCIrdGhpcy5fY3VycmVudFRleHR1cmVVbml0XSk6dGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFMTYpLHZvaWQgMCE9PW4mJm51bGwhPT1uPyh0aGlzLl9nbC5iaW5kVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFXzJELG4udGV4dHVyZURhdGEpLDA9PT10aGlzLl9idWZmZXJXaWR0aCYmKHRoaXMuX2J1ZmZlcldpZHRoPW4uVyx0aGlzLl9nbC51bmlmb3JtMWYoZSx0aGlzLl9idWZmZXJXaWR0aCkpKTp0aGlzLl9nbC5iaW5kVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMudGV4dHVyZURhdGFBdXgpLHRoaXMuX2dsLnVuaWZvcm0xaSh0LmxvY2F0aW9uWzBdLHRoaXMuX2N1cnJlbnRUZXh0dXJlVW5pdCksdGhpcy5fY3VycmVudFRleHR1cmVVbml0Kyt9fSx7a2V5OlwiYmluZFVuaWZvcm1WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09dCYmbnVsbCE9PXQmJihcImZsb2F0XCI9PT1lLnR5cGU/dC5jb25zdHJ1Y3Rvcj09PUFycmF5P3RoaXMuX2dsLnVuaWZvcm0xZnYoZS5sb2NhdGlvblswXSx0KTp0aGlzLl9nbC51bmlmb3JtMWYoZS5sb2NhdGlvblswXSx0KTpcImZsb2F0NFwiPT09ZS50eXBlP3RoaXMuX2dsLnVuaWZvcm00ZihlLmxvY2F0aW9uWzBdLHRbMF0sdFsxXSx0WzJdLHRbM10pOlwibWF0NFwiPT09ZS50eXBlJiZ0aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KGUubG9jYXRpb25bMF0sITEsdCkpfX0se2tleTpcImJpbmRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2godC5leHBlY3RlZE1vZGUpe2Nhc2VcIkFUVFJJQlVURVwiOnRoaXMuYmluZEF0dHJpYnV0ZVZhbHVlKHQsbik7YnJlYWs7Y2FzZVwiU0FNUExFUlwiOnRoaXMuYmluZFNhbXBsZXJWYWx1ZShlLnVCdWZmZXJXaWR0aCx0LG4pO2JyZWFrO2Nhc2VcIlVOSUZPUk1cIjp0aGlzLmJpbmRVbmlmb3JtVmFsdWUodCxuKX19fSx7a2V5OlwiYmluZEZCXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1lJiZudWxsIT09ZSl7aWYodm9pZCAwIT09ZVswXSYmbnVsbCE9PWVbMF0pe3RoaXMuX2dsLnZpZXdwb3J0KDAsMCxlWzBdLlcsZVswXS5IKSx0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsITA9PT10P2VbMF0uZkJ1ZmZlclRlbXA6ZVswXS5mQnVmZmVyKTtmb3IodmFyIG49W10saT0wLG89ZS5sZW5ndGg7aTxvO2krKylpZih2b2lkIDAhPT1lW2ldJiZudWxsIT09ZVtpXSl7dmFyIHI9ITA9PT10P2VbaV0udGV4dHVyZURhdGFUZW1wOmVbaV0udGV4dHVyZURhdGE7dGhpcy5fZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVyc1tcIkNPTE9SX0FUVEFDSE1FTlRcIitpK1wiX1dFQkdMXCJdLHRoaXMuX2dsLlRFWFRVUkVfMkQsciwwKSxuW2ldPXRoaXMuX2FyckV4dC5XRUJHTF9kcmF3X2J1ZmZlcnNbXCJDT0xPUl9BVFRBQ0hNRU5UXCIraStcIl9XRUJHTFwiXX1lbHNlIG5baV09dGhpcy5fZ2wuTk9ORTtyZXR1cm4gdGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVycy5kcmF3QnVmZmVyc1dFQkdMKG4pLHRoaXMuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygpfXJldHVybiB0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsbnVsbCksITB9cmV0dXJuIHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixudWxsKSwhMH19LHtrZXk6XCJlbnF1ZXVlTkRSYW5nZUtlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKHRoaXMuX2J1ZmZlcldpZHRoPTAsdGhpcy5fZ2wudXNlUHJvZ3JhbShlLmtlcm5lbCksITA9PT10aGlzLmJpbmRGQih0LG4pKXt0aGlzLl9jdXJyZW50VGV4dHVyZVVuaXQ9MDtmb3IodmFyIG8gaW4gZS5pbl92YWx1ZXMpdGhpcy5iaW5kVmFsdWUoZSxlLmluX3ZhbHVlc1tvXSxpW29dKTt0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlLmF0dHJfVmVydGV4UG9zKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlcl9RVUFEKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUuYXR0cl9WZXJ0ZXhQb3MsMyx0aGlzLl9nbC5GTE9BVCwhMSwwLDApLHRoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlcl9RVUFEKSx0aGlzLl9nbC5kcmF3RWxlbWVudHModGhpcy5fZ2wuVFJJQU5HTEVTLDYsdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsMCl9fX0se2tleTpcImVucXVldWVWZXJ0ZXhGcmFnbWVudFByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLG8scil7dGhpcy5fYnVmZmVyV2lkdGg9MCx0aGlzLl9nbC51c2VQcm9ncmFtKGUudmVydGV4RnJhZ21lbnRQcm9ncmFtKTt2YXIgcz12b2lkIDAhPT1uJiZudWxsIT09bj9uOjQ7aWYoITA9PT10aGlzLmJpbmRGQihpLG8pJiZ2b2lkIDAhPT10JiZudWxsIT09dCl7dGhpcy5fY3VycmVudFRleHR1cmVVbml0PTA7Zm9yKHZhciBhIGluIGUuaW5fdmVydGV4X3ZhbHVlcyl0aGlzLmJpbmRWYWx1ZShlLGUuaW5fdmVydGV4X3ZhbHVlc1thXSxyW2FdKTtmb3IodmFyIGwgaW4gZS5pbl9mcmFnbWVudF92YWx1ZXMpdGhpcy5iaW5kVmFsdWUoZSxlLmluX2ZyYWdtZW50X3ZhbHVlc1tsXSxyW2xdKTtcIlZFUlRFWF9JTkRFWFwiPT09dC5tb2RlPyh0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQudmVydGV4RGF0YTApLHRoaXMuX2dsLmRyYXdFbGVtZW50cyhzLHQubGVuZ3RoLHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULDApKTp0aGlzLl9nbC5kcmF3QXJyYXlzKHMsMCx0Lmxlbmd0aCl9fX0se2tleTpcInJlYWRCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLmUmJm51bGwhPT10aGlzLmUmJih0aGlzLmUud2lkdGg9ZS5XLHRoaXMuZS5oZWlnaHQ9ZS5IKSx0aGlzLl9nbC51c2VQcm9ncmFtKHRoaXMuc2hhZGVyX3JlYWRwaXhlbHMpLHRoaXMuX2dsLnZpZXdwb3J0KDAsMCxlLlcsZS5IKSx0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsZS5mQnVmZmVyVGVtcCksdGhpcy5fZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5fYXJyRXh0LldFQkdMX2RyYXdfYnVmZmVycy5DT0xPUl9BVFRBQ0hNRU5UMF9XRUJHTCx0aGlzLl9nbC5URVhUVVJFXzJELGUudGV4dHVyZURhdGFUZW1wLDApO3ZhciB0PVt0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLkNPTE9SX0FUVEFDSE1FTlQwX1dFQkdMXTtpZih0aGlzLl9hcnJFeHQuV0VCR0xfZHJhd19idWZmZXJzLmRyYXdCdWZmZXJzV0VCR0wodCksdGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFMCksdGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLnRleHR1cmVEYXRhKSx0aGlzLl9nbC51bmlmb3JtMWkodGhpcy5zYW1wbGVyX2J1ZmZlciwwKSx0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmF0dHJfVmVydGV4UG9zKSx0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlcl9RVUFEKSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYXR0cl9WZXJ0ZXhQb3MsMyxlLl9zdXBwb3J0Rm9ybWF0LCExLDAsMCksdGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyX1FVQUQpLHRoaXMuX2dsLmRyYXdFbGVtZW50cyh0aGlzLl9nbC5UUklBTkdMRVMsNix0aGlzLl9nbC5VTlNJR05FRF9TSE9SVCwwKSx2b2lkIDAhPT1lLm91dEFycmF5RmxvYXQmJm51bGwhPT1lLm91dEFycmF5RmxvYXR8fChlLm91dEFycmF5RmxvYXQ9bmV3IEZsb2F0MzJBcnJheShlLlcqZS5IKjQpKSx0aGlzLl9nbC5yZWFkUGl4ZWxzKDAsMCxlLlcsZS5ILHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuRkxPQVQsZS5vdXRBcnJheUZsb2F0KSxcIkZMT0FUXCI9PT1lLnR5cGUpe2Zvcih2YXIgbj1uZXcgRmxvYXQzMkFycmF5KGUub3V0QXJyYXlGbG9hdC5sZW5ndGgvNCksaT0wLG89ZS5vdXRBcnJheUZsb2F0Lmxlbmd0aC80O2k8bztpKyspbltpXT1lLm91dEFycmF5RmxvYXRbNCppXTtlLm91dEFycmF5RmxvYXQ9bn1yZXR1cm4gZS5vdXRBcnJheUZsb2F0fX1dLFt7a2V5OlwiZW5xdWV1ZVJlYWRCdWZmZXJfV2ViR0xUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dHVyZURhdGF9fV0pLGV9KCk7dC5XZWJDTEdMPWMsbi5leHBvcnRzLldlYkNMR0w9Y30pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vV2ViQ0xHTEJ1ZmZlci5jbGFzc1wiOjIsXCIuL1dlYkNMR0xLZXJuZWwuY2xhc3NcIjo0LFwiLi9XZWJDTEdMVXRpbHMuY2xhc3NcIjo1LFwiLi9XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtLmNsYXNzXCI6Nn1dLDI6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWkuV2ViQ0xHTEJ1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUobixpLG8scil7dCh0aGlzLGUpLHRoaXMuX2dsPW4sdGhpcy50eXBlPXZvaWQgMCE9PWl8fG51bGwhPT1pP2k6XCJGTE9BVFwiLHRoaXMuX3N1cHBvcnRGb3JtYXQ9dGhpcy5fZ2wuRkxPQVQsdGhpcy5saW5lYXI9dm9pZCAwPT09byYmbnVsbD09PW98fG8sdGhpcy5tb2RlPXZvaWQgMCE9PXJ8fG51bGwhPT1yP3I6XCJTQU1QTEVSXCIsdGhpcy5XPW51bGwsdGhpcy5IPW51bGwsdGhpcy50ZXh0dXJlRGF0YT1udWxsLHRoaXMudGV4dHVyZURhdGFUZW1wPW51bGwsdGhpcy52ZXJ0ZXhEYXRhMD1udWxsLHRoaXMuZkJ1ZmZlcj1udWxsLHRoaXMucmVuZGVyQnVmZmVyPW51bGwsdGhpcy5mQnVmZmVyVGVtcD1udWxsLHRoaXMucmVuZGVyQnVmZmVyVGVtcD1udWxsLFwiU0FNUExFUlwiPT09dGhpcy5tb2RlJiYodGhpcy50ZXh0dXJlRGF0YT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy50ZXh0dXJlRGF0YVRlbXA9dGhpcy5fZ2wuY3JlYXRlVGV4dHVyZSgpKSxcIlNBTVBMRVJcIiE9PXRoaXMubW9kZSYmXCJBVFRSSUJVVEVcIiE9PXRoaXMubW9kZSYmXCJWRVJURVhfSU5ERVhcIiE9PXRoaXMubW9kZXx8KHRoaXMudmVydGV4RGF0YTA9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCkpfXJldHVybiBvKGUsW3trZXk6XCJjcmVhdGVGcmFtZWJ1ZmZlckFuZFJlbmRlcmJ1ZmZlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtyZXR1cm4gdGhpcy5fZ2wuYmluZFJlbmRlcmJ1ZmZlcih0aGlzLl9nbC5SRU5ERVJCVUZGRVIsZSksdGhpcy5fZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSh0aGlzLl9nbC5SRU5ERVJCVUZGRVIsdGhpcy5fZ2wuREVQVEhfQ09NUE9ORU5UMTYsdGhpcy5XLHRoaXMuSCksdGhpcy5fZ2wuYmluZFJlbmRlcmJ1ZmZlcih0aGlzLl9nbC5SRU5ERVJCVUZGRVIsbnVsbCksZX0uYmluZCh0aGlzKTtudWxsIT10aGlzLmZCdWZmZXImJih0aGlzLl9nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZCdWZmZXIpLHRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZkJ1ZmZlclRlbXApLHRoaXMuX2dsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLnJlbmRlckJ1ZmZlciksdGhpcy5fZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMucmVuZGVyQnVmZmVyVGVtcCkpLHRoaXMuZkJ1ZmZlcj10aGlzLl9nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLHRoaXMucmVuZGVyQnVmZmVyPWUoKSx0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsdGhpcy5mQnVmZmVyKSx0aGlzLl9nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUix0aGlzLl9nbC5ERVBUSF9BVFRBQ0hNRU5ULHRoaXMuX2dsLlJFTkRFUkJVRkZFUix0aGlzLnJlbmRlckJ1ZmZlciksdGhpcy5mQnVmZmVyVGVtcD10aGlzLl9nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLHRoaXMucmVuZGVyQnVmZmVyVGVtcD1lKCksdGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRoaXMuZkJ1ZmZlclRlbXApLHRoaXMuX2dsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLHRoaXMuX2dsLkRFUFRIX0FUVEFDSE1FTlQsdGhpcy5fZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyVGVtcCl9fSx7a2V5Olwid3JpdGVXZWJHTFRleHR1cmVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7ITE9PT10fHx2b2lkIDA9PT10fHxudWxsPT09dD90aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKTp0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKSx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsITEpLHRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsZSl9LmJpbmQodGhpcyksaT1mdW5jdGlvbihlKXtlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9cIkZMT0FUNFwiPT09dGhpcy50eXBlJiZ0aGlzLl9nbC50ZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCx0aGlzLl9nbC5SR0JBLHRoaXMuX2dsLlJHQkEsdGhpcy5fc3VwcG9ydEZvcm1hdCxlKTp0aGlzLl9nbC50ZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCx0aGlzLl9nbC5SR0JBLHRoaXMuVyx0aGlzLkgsMCx0aGlzLl9nbC5SR0JBLHRoaXMuX3N1cHBvcnRGb3JtYXQsZSl9LmJpbmQodGhpcyksbz1mdW5jdGlvbigpe3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9nbC5ORUFSRVNUKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpfS5iaW5kKHRoaXMpO2UgaW5zdGFuY2VvZiBXZWJHTFRleHR1cmU/KHRoaXMudGV4dHVyZURhdGE9ZSx0aGlzLnRleHR1cmVEYXRhVGVtcD1lKToobih0aGlzLnRleHR1cmVEYXRhLHQpLGkoZSksbygpLG4odGhpcy50ZXh0dXJlRGF0YVRlbXAsdCksaShlKSxvKCkpLHRoaXMuX2dsLmJpbmRUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9fSx7a2V5Olwid3JpdGVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpaWYodGhpcy5sZW5ndGguY29uc3RydWN0b3I9PT1BcnJheT8odGhpcy5sZW5ndGg9dGhpcy5sZW5ndGhbMF0qdGhpcy5sZW5ndGhbMV0sdGhpcy5XPXRoaXMubGVuZ3RoWzBdLHRoaXMuSD10aGlzLmxlbmd0aFsxXSk6KHRoaXMuVz1NYXRoLmNlaWwoTWF0aC5zcXJ0KHRoaXMubGVuZ3RoKSksdGhpcy5IPXRoaXMuVyksXCJGTE9BVDRcIj09PXRoaXMudHlwZSl7ZT1lIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P2U6bmV3IEZsb2F0MzJBcnJheShlKTt2YXIgdD10aGlzLlcqdGhpcy5IKjQ7aWYoZS5sZW5ndGghPT10KXtmb3IodmFyIG49bmV3IEZsb2F0MzJBcnJheSh0KSxpPTA7aTx0O2krKyluW2ldPW51bGwhPWVbaV0/ZVtpXTowO2U9bn19ZWxzZSBpZihcIkZMT0FUXCI9PT10aGlzLnR5cGUpe2Zvcih2YXIgbz10aGlzLlcqdGhpcy5IKjQscj1uZXcgRmxvYXQzMkFycmF5KG8pLHM9MCxhPXRoaXMuVyp0aGlzLkg7czxhO3MrKyl7dmFyIGw9NCpzO3JbbF09bnVsbCE9ZVtzXT9lW3NdOjAscltsKzFdPTAscltsKzJdPTAscltsKzNdPTB9ZT1yfXJldHVybiBlfS5iaW5kKHRoaXMpO3ZvaWQgMD09PW58fG51bGw9PT1uP2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P3RoaXMubGVuZ3RoPWUud2lkdGgqZS5oZWlnaHQ6dGhpcy5sZW5ndGg9XCJGTE9BVDRcIj09PXRoaXMudHlwZT9lLmxlbmd0aC80OmUubGVuZ3RoOnRoaXMubGVuZ3RoPVtuWzBdLG5bMV1dLFwiU0FNUExFUlwiPT09dGhpcy5tb2RlJiZ0aGlzLndyaXRlV2ViR0xUZXh0dXJlQnVmZmVyKGkoZSksdCksXCJTQU1QTEVSXCIhPT10aGlzLm1vZGUmJlwiQVRUUklCVVRFXCIhPT10aGlzLm1vZGV8fCh0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleERhdGEwKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P2U6bmV3IEZsb2F0MzJBcnJheShlKSx0aGlzLl9nbC5TVEFUSUNfRFJBVykpLFwiVkVSVEVYX0lOREVYXCI9PT10aGlzLm1vZGUmJih0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4RGF0YTApLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbmV3IFVpbnQxNkFycmF5KGUpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSksdGhpcy5jcmVhdGVGcmFtZWJ1ZmZlckFuZFJlbmRlcmJ1ZmZlcigpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7XCJTQU1QTEVSXCI9PT10aGlzLm1vZGUmJih0aGlzLl9nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZURhdGEpLHRoaXMuX2dsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlRGF0YVRlbXApKSxcIlNBTVBMRVJcIiE9PXRoaXMubW9kZSYmXCJBVFRSSUJVVEVcIiE9PXRoaXMubW9kZSYmXCJWRVJURVhfSU5ERVhcIiE9PXRoaXMubW9kZXx8dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4RGF0YTApLHRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZkJ1ZmZlciksdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mQnVmZmVyVGVtcCksdGhpcy5fZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMucmVuZGVyQnVmZmVyKSx0aGlzLl9nbC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5yZW5kZXJCdWZmZXJUZW1wKX19XSksZX0oKTtlLldlYkNMR0xCdWZmZXI9cixuLmV4cG9ydHMuV2ViQ0xHTEJ1ZmZlcj1yfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDM6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcigpe3ZhciBlPW5ldyB1LHQ9bnVsbDtyZXR1cm4gYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ/KHQ9YXJndW1lbnRzWzBdLGUuc2V0Q3R4KHQpLGUuX3dlYkNMR0w9bmV3IGEuV2ViQ0xHTCh0KSxlLmluaUcoYXJndW1lbnRzKSxlKTphcmd1bWVudHNbMF1pbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50Pyh0PWwuV2ViQ0xHTFV0aWxzLmdldFdlYkdMQ29udGV4dEZyb21DYW52YXMoYXJndW1lbnRzWzBdKSxlLnNldEN0eCh0KSxlLl93ZWJDTEdMPW5ldyBhLldlYkNMR0wodCksZS5pbmlHKGFyZ3VtZW50cyksZSk6KHQ9bC5XZWJDTEdMVXRpbHMuZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhcyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHthbnRpYWxpYXM6ITF9KSxlLnNldEN0eCh0KSxlLl93ZWJDTEdMPW5ldyBhLldlYkNMR0wodCksZS5pbmkoYXJndW1lbnRzKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaS5XZWJDTEdMRm9yPXZvaWQgMDt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO2kuZ3B1Zm9yPXI7dmFyIGE9ZShcIi4vV2ViQ0xHTC5jbGFzc1wiKSxsPWUoXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiKSx1PWkuV2ViQ0xHTEZvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7byh0aGlzLGUpLHRoaXMua2VybmVscz17fSx0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXM9e30sdGhpcy5fYXJncz17fSx0aGlzLl9hcmdzVmFsdWVzPXt9LHRoaXMuY2FsbGVkQXJncz17fSx0aGlzLl93ZWJDTEdMPW51bGwsdGhpcy5fZ2w9bnVsbH1yZXR1cm4gcyhlLFt7a2V5OlwiZGVmaW5lT3V0cHV0VGVtcE1vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKW5baV09bnVsbCE9ZVtpXSYmZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtmb3IodmFyIGkgaW4gdClpZihcImluZGljZXNcIiE9PWkpe3ZhciBvPWkuc3BsaXQoXCIgXCIpO2lmKG8ubGVuZ3RoPjAmJm9bMV09PT1lKXtuPSEwO2JyZWFrfX1yZXR1cm4gbn0oZVtpXSx0KTtyZXR1cm4gbn19LHtrZXk6XCJwcmVwYXJlUmV0dXJuQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT1lLm1hdGNoKG5ldyBSZWdFeHAoL3JldHVybi4qJC9nbSkpLG89KGk9aVswXS5yZXBsYWNlKFwicmV0dXJuIFwiLFwiXCIpKS5tYXRjaChuZXcgUmVnRXhwKC9cXFsvZ20pKTtpZihudWxsIT1vJiZvLmxlbmd0aD49MSl7aT1pLnNwbGl0KFwiW1wiKVsxXS5zcGxpdChcIl1cIilbMF07Zm9yKHZhciByPVwiXCIscz0wLGE9MDthPGkubGVuZ3RoO2ErKylcIixcIj09PWlbYV0mJjA9PT1zPyhuLnB1c2gocikscj1cIlwiKTpyKz1pW2FdLFwiKFwiPT09aVthXSYmcysrLFwiKVwiPT09aVthXSYmcy0tO24ucHVzaChyKX1lbHNlIG4ucHVzaChpLnJlcGxhY2UoLzskL2dtLFwiXCIpKTtmb3IodmFyIGw9XCJcIix1PTA7dTx0Lmxlbmd0aDt1Kyspe3ZhciBjPSExO2Zvcih2YXIgZCBpbiB0aGlzLl9hcmdzKWlmKFwiaW5kaWNlc1wiIT09ZCl7dmFyIGg9ZC5zcGxpdChcIiBcIik7aWYoaFsxXT09PXRbdV0pe3ZhciBmPWhbMF0ubWF0Y2gobmV3IFJlZ0V4cChcImZsb2F0NFwiLFwiZ21cIikpO2wrPW51bGwhPWYmJmYubGVuZ3RoPjA/XCJvdXRcIit1K1wiX2Zsb2F0NCA9IFwiK25bdV0rXCI7XFxuXCI6XCJvdXRcIit1K1wiX2Zsb2F0ID0gXCIrblt1XStcIjtcXG5cIixjPSEwO2JyZWFrfX0hMT09PWMmJihsKz1cIm91dFwiK3UrXCJfZmxvYXQ0ID0gXCIrblt1XStcIjtcXG5cIil9cmV0dXJuIGx9fSx7a2V5OlwiYWRkS2VybmVsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcsbj10WzBdLGk9dFsxXWluc3RhbmNlb2YgQXJyYXk/dFsxXTpbdFsxXV0sbz10WzJdLHI9dFszXSxzPXRoaXMuX3dlYkNMR0wuY3JlYXRlS2VybmVsKCksYT1bXTtmb3IodmFyIGwgaW4gdGhpcy5fYXJncyl7dmFyIHU9bC5zcGxpdChcIiBcIilbMV07aWYodm9pZCAwIT09dSYmbnVsbCE9PXUpe3ZhciBjPShvK3IpLm1hdGNoKG5ldyBSZWdFeHAodS5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIiksXCJnbVwiKSk7XCJpbmRpY2VzXCIhPT1sJiZudWxsIT1jJiZjLmxlbmd0aD4wJiYocy5pbl92YWx1ZXNbdV09e30sYS5wdXNoKGwucmVwbGFjZShcIiphdHRyIFwiLFwiKiBcIikucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpKSl9fXI9XCJ2b2lkIG1haW4oXCIrYS50b1N0cmluZygpK1wiKSB7dmVjMiBcIituK1wiID0gZ2V0X2dsb2JhbF9pZCgpO1wiK3IucmVwbGFjZSgvcmV0dXJuLiokL2dtLHRoaXMucHJlcGFyZVJldHVybkNvZGUocixpKSkrXCJ9XCIscy5uYW1lPWUubmFtZSxzLnZpZXdTb3VyY2U9bnVsbCE9ZS52aWV3U291cmNlJiZlLnZpZXdTb3VyY2Uscy5zZXRLZXJuZWxTb3VyY2UocixvKSxzLm91dHB1dD1pLHMub3V0cHV0VGVtcE1vZGVzPXRoaXMuZGVmaW5lT3V0cHV0VGVtcE1vZGVzKGksdGhpcy5fYXJncykscy5lbmFibGVkPSEwLHMuZHJhd01vZGU9bnVsbCE9ZS5kcmF3TW9kZT9lLmRyYXdNb2RlOjQscy5kZXB0aFRlc3Q9bnVsbD09ZS5kZXB0aFRlc3R8fGUuZGVwdGhUZXN0LHMuYmxlbmQ9bnVsbCE9ZS5ibGVuZCYmZS5ibGVuZCxzLmJsZW5kRXF1YXRpb249bnVsbCE9ZS5ibGVuZEVxdWF0aW9uP2UuYmxlbmRFcXVhdGlvbjpcIkZVTkNfQUREXCIscy5ibGVuZFNyY01vZGU9bnVsbCE9ZS5ibGVuZFNyY01vZGU/ZS5ibGVuZFNyY01vZGU6XCJTUkNfQUxQSEFcIixzLmJsZW5kRHN0TW9kZT1udWxsIT1lLmJsZW5kRHN0TW9kZT9lLmJsZW5kRHN0TW9kZTpcIk9ORV9NSU5VU19TUkNfQUxQSEFcIix0aGlzLmtlcm5lbHNbT2JqZWN0LmtleXModGhpcy5rZXJuZWxzKS5sZW5ndGgudG9TdHJpbmcoKV09c319LHtrZXk6XCJhZGRHcmFwaGljXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcsbj1bbnVsbF0saT12b2lkIDAsbz12b2lkIDAscj12b2lkIDAscz12b2lkIDA7NT09PXQubGVuZ3RoPyhuPXRbMF1pbnN0YW5jZW9mIEFycmF5P3RbMF06W3RbMF1dLGk9dFsxXSxvPXRbMl0scj10WzNdLHM9dFs0XSk6KGk9dFswXSxvPXRbMV0scj10WzJdLHM9dFszXSk7dmFyIGE9dGhpcy5fd2ViQ0xHTC5jcmVhdGVWZXJ0ZXhGcmFnbWVudFByb2dyYW0oKSxsPVtdLHU9W107Zm9yKHZhciBjIGluIHRoaXMuX2FyZ3Mpe3ZhciBkPWMuc3BsaXQoXCIgXCIpWzFdO2lmKHZvaWQgMCE9PWQmJm51bGwhPT1kKXt2YXIgaD0oaStvKS5tYXRjaChuZXcgUmVnRXhwKGQucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpLFwiZ21cIikpO1wiaW5kaWNlc1wiIT09YyYmbnVsbCE9aCYmaC5sZW5ndGg+MCYmKGEuaW5fdmVydGV4X3ZhbHVlc1tkXT17fSxsLnB1c2goYy5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIikpKX19Zm9yKHZhciBmIGluIHRoaXMuX2FyZ3Mpe3ZhciBwPWYuc3BsaXQoXCIgXCIpWzFdO2lmKHZvaWQgMCE9PXAmJm51bGwhPT1wKXt2YXIgZz0ocitzKS5tYXRjaChuZXcgUmVnRXhwKHAucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpLFwiZ21cIikpO1wiaW5kaWNlc1wiIT09ZiYmbnVsbCE9ZyYmZy5sZW5ndGg+MCYmKGEuaW5fZnJhZ21lbnRfdmFsdWVzW3BdPXt9LHUucHVzaChmLnJlcGxhY2UoL1xcW1xcZC4qLyxcIlwiKSkpfX1vPVwidm9pZCBtYWluKFwiK2wudG9TdHJpbmcoKStcIikge1wiK28rXCJ9XCIscz1cInZvaWQgbWFpbihcIit1LnRvU3RyaW5nKCkrXCIpIHtcIitzLnJlcGxhY2UoL3JldHVybi4qJC9nbSx0aGlzLnByZXBhcmVSZXR1cm5Db2RlKHMsbikpK1wifVwiLGEubmFtZT1lLm5hbWUsYS52aWV3U291cmNlPW51bGwhPWUudmlld1NvdXJjZSYmZS52aWV3U291cmNlLGEuc2V0VmVydGV4U291cmNlKG8saSksYS5zZXRGcmFnbWVudFNvdXJjZShzLHIpLGEub3V0cHV0PW4sYS5vdXRwdXRUZW1wTW9kZXM9dGhpcy5kZWZpbmVPdXRwdXRUZW1wTW9kZXMobix0aGlzLl9hcmdzKSxhLmVuYWJsZWQ9ITAsYS5kcmF3TW9kZT1udWxsIT1lLmRyYXdNb2RlP2UuZHJhd01vZGU6NCxhLmRlcHRoVGVzdD1udWxsPT1lLmRlcHRoVGVzdHx8ZS5kZXB0aFRlc3QsYS5ibGVuZD1udWxsPT1lLmJsZW5kfHxlLmJsZW5kLGEuYmxlbmRFcXVhdGlvbj1udWxsIT1lLmJsZW5kRXF1YXRpb24/ZS5ibGVuZEVxdWF0aW9uOlwiRlVOQ19BRERcIixhLmJsZW5kU3JjTW9kZT1udWxsIT1lLmJsZW5kU3JjTW9kZT9lLmJsZW5kU3JjTW9kZTpcIlNSQ19BTFBIQVwiLGEuYmxlbmREc3RNb2RlPW51bGwhPWUuYmxlbmREc3RNb2RlP2UuYmxlbmREc3RNb2RlOlwiT05FX01JTlVTX1NSQ19BTFBIQVwiLHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tPYmplY3Qua2V5cyh0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXMpLmxlbmd0aC50b1N0cmluZygpXT1hfX0se2tleTpcImNoZWNrQXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVtdLG89ITEscj0hMTtmb3IodmFyIHMgaW4gdClmb3IodmFyIGEgaW4gdFtzXS5pbl92YWx1ZXMpaWYodFtzXS5pbl92YWx1ZXNbYV0sYT09PWUpe2kucHVzaCh0W3NdKTticmVha31mb3IodmFyIGwgaW4gbil7Zm9yKHZhciB1IGluIG5bbF0uaW5fdmVydGV4X3ZhbHVlcylpZihuW2xdLmluX3ZlcnRleF92YWx1ZXNbdV0sdT09PWUpe289ITA7YnJlYWt9Zm9yKHZhciBjIGluIG5bbF0uaW5fZnJhZ21lbnRfdmFsdWVzKWlmKG5bbF0uaW5fZnJhZ21lbnRfdmFsdWVzW2NdLGM9PT1lKXtyPSEwO2JyZWFrfX1yZXR1cm57dXNlZEluVmVydGV4Om8sdXNlZEluRnJhZ21lbnQ6cixrZXJuZWxQcjppfX19LHtrZXk6XCJmaWxsQXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl93ZWJDTEdMLmZpbGxCdWZmZXIodGhpcy5fYXJnc1ZhbHVlc1tlXS50ZXh0dXJlRGF0YSx0LHRoaXMuX2FyZ3NWYWx1ZXNbZV0uZkJ1ZmZlciksdGhpcy5fd2ViQ0xHTC5maWxsQnVmZmVyKHRoaXMuX2FyZ3NWYWx1ZXNbZV0udGV4dHVyZURhdGFUZW1wLHQsdGhpcy5fYXJnc1ZhbHVlc1tlXS5mQnVmZmVyVGVtcCl9fSx7a2V5OlwiZ2V0QWxsQXJnc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FyZ3NWYWx1ZXN9fSx7a2V5OlwiYWRkQXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fYXJnc1tlXT1udWxsfX0se2tleTpcImdldEdQVUZvckFyZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ITE9PT10aGlzLmNhbGxlZEFyZ3MuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmNhbGxlZEFyZ3NbZV09W10pLC0xPT09dGhpcy5jYWxsZWRBcmdzW2VdLmluZGV4T2YodCkmJnRoaXMuY2FsbGVkQXJnc1tlXS5wdXNoKHQpLCExPT09dC5jYWxsZWRBcmdzLmhhc093blByb3BlcnR5KGUpJiYodC5jYWxsZWRBcmdzW2VdPVtdKSwtMT09PXQuY2FsbGVkQXJnc1tlXS5pbmRleE9mKHRoaXMpJiZ0LmNhbGxlZEFyZ3NbZV0ucHVzaCh0aGlzKTtmb3IodmFyIG4gaW4gdC5fYXJncyl7dmFyIGk9bi5zcGxpdChcIiBcIilbMV07aWYoaT09PWUpe3RoaXMuX2FyZ3Nbbl09dC5fYXJnc1tuXSx0aGlzLl9hcmdzVmFsdWVzW2ldPXQuX2FyZ3NWYWx1ZXNbaV07YnJlYWt9fX19LHtrZXk6XCJzZXRBcmdcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXtpZihcImluZGljZXNcIj09PWUpdGhpcy5zZXRJbmRpY2VzKHQpO2Vsc2UgZm9yKHZhciBvIGluIHRoaXMuX2FyZ3Mpe3ZhciByPW8uc3BsaXQoXCIgXCIpWzFdO2lmKHZvaWQgMCE9PXImJnIucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpPT09ZSl7ciE9PWUmJihlPXIpO3ZhciBzPSExO2lmKG51bGwhPW8ubWF0Y2goL1xcKi9nbSkpe3ZhciBhPXRoaXMuY2hlY2tBcmcoZSx0aGlzLmtlcm5lbHMsdGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zKSxsPVwiU0FNUExFUlwiOyEwPT09YS51c2VkSW5WZXJ0ZXgmJjA9PT1hLmtlcm5lbFByLmxlbmd0aCYmITE9PT1hLnVzZWRJbkZyYWdtZW50JiYobD1cIkFUVFJJQlVURVwiKTt2YXIgdT1vLnNwbGl0KFwiKlwiKVswXS50b1VwcGVyQ2FzZSgpO3ZvaWQgMCE9PWkmJm51bGwhPT1pJiYodT1pKSx2b2lkIDAhPT10JiZudWxsIT09dD8oKCExPT09dGhpcy5fYXJnc1ZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8ITA9PT10aGlzLl9hcmdzVmFsdWVzLmhhc093blByb3BlcnR5KGUpJiZudWxsPT10aGlzLl9hcmdzVmFsdWVzW2VdKSYmKHRoaXMuX2FyZ3NWYWx1ZXNbZV09dGhpcy5fd2ViQ0xHTC5jcmVhdGVCdWZmZXIodSwhMSxsKSx0aGlzLl9hcmdzVmFsdWVzW2VdLmFyZ3VtZW50PWUscz0hMCksdGhpcy5fYXJnc1ZhbHVlc1tlXS53cml0ZUJ1ZmZlcih0LCExLG4pKTp0aGlzLl9hcmdzVmFsdWVzW2VdPW51bGx9ZWxzZSB2b2lkIDAhPT10JiZudWxsIT09dCYmKHRoaXMuX2FyZ3NWYWx1ZXNbZV09dCkscz0hMDtpZighMD09PXMmJiEwPT09dGhpcy5jYWxsZWRBcmdzLmhhc093blByb3BlcnR5KGUpKWZvcih2YXIgYz0wO2M8dGhpcy5jYWxsZWRBcmdzW2VdLmxlbmd0aDtjKyspdGhpcy5jYWxsZWRBcmdzW2VdW2NdLl9hcmdzVmFsdWVzW2VdPXRoaXMuX2FyZ3NWYWx1ZXNbZV07YnJlYWt9fXJldHVybiB0fX0se2tleTpcInJlYWRBcmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd2ViQ0xHTC5yZWFkQnVmZmVyKHRoaXMuX2FyZ3NWYWx1ZXNbZV0pfX0se2tleTpcInNldEluZGljZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLkNMR0xfYnVmZmVySW5kaWNlcz10aGlzLl93ZWJDTEdMLmNyZWF0ZUJ1ZmZlcihcIkZMT0FUXCIsITEsXCJWRVJURVhfSU5ERVhcIiksdGhpcy5DTEdMX2J1ZmZlckluZGljZXMud3JpdGVCdWZmZXIoZSl9fSx7a2V5OlwiZ2V0Q3R4XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViQ0xHTC5nZXRDb250ZXh0KCl9fSx7a2V5Olwic2V0Q3R4XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fZ2w9ZX19LHtrZXk6XCJnZXRXZWJDTEdMXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViQ0xHTH19LHtrZXk6XCJvblByZVByb2Nlc3NLZXJuZWxcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMua2VybmVsc1tlXS5vbnByZT10fX0se2tleTpcIm9uUG9zdFByb2Nlc3NLZXJuZWxcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMua2VybmVsc1tlXS5vbnBvc3Q9dH19LHtrZXk6XCJlbmFibGVLZXJuZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmtlcm5lbHNbXCIwXCJ8ZS50b1N0cmluZygpXS5lbmFibGVkPSEwfX0se2tleTpcImRpc2FibGVLZXJuZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmtlcm5lbHNbXCIwXCJ8ZS50b1N0cmluZygpXS5lbmFibGVkPSExfX0se2tleTpcImdldEtlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmtlcm5lbHMpaWYodD09PWUpcmV0dXJuIHRoaXMua2VybmVsc1t0XTtyZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRBbGxLZXJuZWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXJuZWxzfX0se2tleTpcIm9uUHJlUHJvY2Vzc0dyYXBoaWNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tlXS5vbnByZT10fX0se2tleTpcIm9uUG9zdFByb2Nlc3NHcmFwaGljXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXNbZV0ub25wb3N0PXR9fSx7a2V5OlwiZW5hYmxlR3JhcGhpY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1tcIjBcInxlLnRvU3RyaW5nKCldLmVuYWJsZWQ9ITB9fSx7a2V5OlwiZGlzYWJsZUdyYXBoaWNcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXNbXCIwXCJ8ZS50b1N0cmluZygpXS5lbmFibGVkPSExfX0se2tleTpcImdldFZlcnRleEZyYWdtZW50UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXMpaWYodD09PWUpcmV0dXJuIHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtc1t0XTtyZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRBbGxWZXJ0ZXhGcmFnbWVudFByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbXN9fSx7a2V5OlwicHJvY2Vzc0tlcm5lbFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtpZighMD09PWUuZW5hYmxlZCl7aWYodm9pZCAwIT09biYmbnVsbCE9PW4mJiEwPT09biYmKHRoaXMuYXJyTWFrZUNvcHk9W10pLCEwPT09ZS5kZXB0aFRlc3Q/dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuREVQVEhfVEVTVCksITA9PT1lLmJsZW5kP3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5CTEVORCk6dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5CTEVORCksdGhpcy5fZ2wuYmxlbmRGdW5jKHRoaXMuX2dsW2UuYmxlbmRTcmNNb2RlXSx0aGlzLl9nbFtlLmJsZW5kRHN0TW9kZV0pLHRoaXMuX2dsLmJsZW5kRXF1YXRpb24odGhpcy5fZ2xbZS5ibGVuZEVxdWF0aW9uXSksdm9pZCAwIT09ZS5vbnByZSYmbnVsbCE9PWUub25wcmUmJmUub25wcmUoKSx2b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10KXtmb3IodmFyIGk9ITEsbz0wO288ZS5vdXRwdXQubGVuZ3RoO28rKylpZihudWxsIT1lLm91dHB1dFtvXSYmITA9PT1lLm91dHB1dFRlbXBNb2Rlc1tvXSl7aT0hMDticmVha30hMD09PWk/KHRoaXMuX3dlYkNMR0wuZW5xdWV1ZU5EUmFuZ2VLZXJuZWwoZSxsLldlYkNMR0xVdGlscy5nZXRPdXRwdXRCdWZmZXJzKGUsdGhpcy5fYXJnc1ZhbHVlcyksITAsdGhpcy5fYXJnc1ZhbHVlcyksdGhpcy5hcnJNYWtlQ29weS5wdXNoKGUpKTp0aGlzLl93ZWJDTEdMLmVucXVldWVORFJhbmdlS2VybmVsKGUsbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyhlLHRoaXMuX2FyZ3NWYWx1ZXMpLCExLHRoaXMuX2FyZ3NWYWx1ZXMpfWVsc2UgdGhpcy5fd2ViQ0xHTC5lbnF1ZXVlTkRSYW5nZUtlcm5lbChlLGwuV2ViQ0xHTFV0aWxzLmdldE91dHB1dEJ1ZmZlcnMoZSx0aGlzLl9hcmdzVmFsdWVzKSwhMSx0aGlzLl9hcmdzVmFsdWVzKTt2b2lkIDAhPT1lLm9ucG9zdCYmbnVsbCE9PWUub25wb3N0JiZlLm9ucG9zdCgpLHZvaWQgMCE9PW4mJm51bGwhPT1uJiYhMD09PW4mJnRoaXMucHJvY2Vzc0NvcGllcygpfX19LHtrZXk6XCJwcm9jZXNzQ29waWVzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLmFyck1ha2VDb3B5Lmxlbmd0aDt0KyspdGhpcy5fd2ViQ0xHTC5jb3B5KHRoaXMuYXJyTWFrZUNvcHlbdF0sbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyh0aGlzLmFyck1ha2VDb3B5W3RdLHRoaXMuX2FyZ3NWYWx1ZXMpKX19LHtrZXk6XCJwcm9jZXNzS2VybmVsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuYXJyTWFrZUNvcHk9W107Zm9yKHZhciB0IGluIHRoaXMua2VybmVscyl0aGlzLnByb2Nlc3NLZXJuZWwodGhpcy5rZXJuZWxzW3RdLGUpO3RoaXMucHJvY2Vzc0NvcGllcygpfX0se2tleTpcInByb2Nlc3NHcmFwaGljXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtcyl7dmFyIGk9dGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zW25dO2lmKCEwPT09aS5lbmFibGVkKXt2YXIgbz12b2lkIDAhPT1lJiZudWxsIT09ZXx8dm9pZCAwPT09dGhpcy5DTEdMX2J1ZmZlckluZGljZXN8fG51bGw9PT10aGlzLkNMR0xfYnVmZmVySW5kaWNlcz90aGlzLl9hcmdzVmFsdWVzW2VdOnRoaXMuQ0xHTF9idWZmZXJJbmRpY2VzO2lmKHZvaWQgMCE9PW8mJm51bGwhPT1vJiZvLmxlbmd0aD4wKXshMD09PWkuZGVwdGhUZXN0P3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ERVBUSF9URVNUKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkRFUFRIX1RFU1QpLCEwPT09aS5ibGVuZD90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuQkxFTkQpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuQkxFTkQpLHRoaXMuX2dsLmJsZW5kRnVuYyh0aGlzLl9nbFtpLmJsZW5kU3JjTW9kZV0sdGhpcy5fZ2xbaS5ibGVuZERzdE1vZGVdKSx0aGlzLl9nbC5ibGVuZEVxdWF0aW9uKHRoaXMuX2dsW2kuYmxlbmRFcXVhdGlvbl0pLHZvaWQgMCE9PWkub25wcmUmJm51bGwhPT1pLm9ucHJlJiZpLm9ucHJlKCk7Zm9yKHZhciByPSExLHM9MDtzPGkub3V0cHV0Lmxlbmd0aDtzKyspaWYobnVsbCE9aS5vdXRwdXRbc10mJiEwPT09aS5vdXRwdXRUZW1wTW9kZXNbc10pe3I9ITA7YnJlYWt9ITA9PT1yPyh0aGlzLl93ZWJDTEdMLmVucXVldWVWZXJ0ZXhGcmFnbWVudFByb2dyYW0oaSxvLGkuZHJhd01vZGUsbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyhpLHRoaXMuX2FyZ3NWYWx1ZXMpLCEwLHRoaXMuX2FyZ3NWYWx1ZXMpLHQucHVzaChpKSk6dGhpcy5fd2ViQ0xHTC5lbnF1ZXVlVmVydGV4RnJhZ21lbnRQcm9ncmFtKGksbyxpLmRyYXdNb2RlLGwuV2ViQ0xHTFV0aWxzLmdldE91dHB1dEJ1ZmZlcnMoaSx0aGlzLl9hcmdzVmFsdWVzKSwhMSx0aGlzLl9hcmdzVmFsdWVzKSx2b2lkIDAhPT1pLm9ucG9zdCYmbnVsbCE9PWkub25wb3N0JiZpLm9ucG9zdCgpfX19Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspdGhpcy5fd2ViQ0xHTC5jb3B5KHRbYV0sbC5XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyh0W2FdLHRoaXMuX2FyZ3NWYWx1ZXMpKX19LHtrZXk6XCJpbmlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXSx0PXZvaWQgMCxuPXZvaWQgMCxpPXZvaWQgMDtlLmxlbmd0aD4zPyh0aGlzLl9hcmdzPWVbMF0sdD1lWzFdLG49ZVsyXSxpPWVbM10pOih0aGlzLl9hcmdzPWVbMF0sdD1lWzFdLG49XCJGTE9BVFwiLGk9ZVsyXSk7dmFyIG89MDtmb3IodmFyIHIgaW4gdGhpcy5fYXJncyl7dmFyIHM9dGhpcy5fYXJnc1tyXTt0aGlzLnNldEFyZyhyLnNwbGl0KFwiIFwiKVsxXSxzKSwwPT09byYmKHMgaW5zdGFuY2VvZiBBcnJheXx8cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8cyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHMgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSYmKG89cy5sZW5ndGgpfXJldHVyblwiRkxPQVRcIj09PW4/dGhpcy5hZGRBcmcoXCJmbG9hdCogcmVzdWx0XCIpOnRoaXMuYWRkQXJnKFwiZmxvYXQ0KiByZXN1bHRcIiksdGhpcy5zZXRBcmcoXCJyZXN1bHRcIixuZXcgRmxvYXQzMkFycmF5KG8pLG51bGwsbiksdGhpcy5hZGRLZXJuZWwoe3R5cGU6XCJLRVJORUxcIixuYW1lOlwiU0lNUExFX0tFUk5FTFwiLHZpZXdTb3VyY2U6ITEsY29uZmlnOlt0LFtcInJlc3VsdFwiXSxcIlwiLGldfSksdGhpcy5wcm9jZXNzS2VybmVscygpLHRoaXMuX3dlYkNMR0wucmVhZEJ1ZmZlcih0aGlzLl9hcmdzVmFsdWVzLnJlc3VsdCl9fSx7a2V5OlwiaW5pR1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fd2ViQ0xHTC5nZXRDb250ZXh0KCkuZGVwdGhGdW5jKHRoaXMuX3dlYkNMR0wuZ2V0Q29udGV4dCgpLkxFUVVBTCksdGhpcy5fd2ViQ0xHTC5nZXRDb250ZXh0KCkuY2xlYXJEZXB0aCgxKTt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5fYXJncz1lWzFdO2Zvcih2YXIgdD0yO3Q8ZS5sZW5ndGg7dCsrKVwiS0VSTkVMXCI9PT1lW3RdLnR5cGU/dGhpcy5hZGRLZXJuZWwoZVt0XSk6XCJHUkFQSElDXCI9PT1lW3RdLnR5cGUmJnRoaXMuYWRkR3JhcGhpYyhlW3RdKTtmb3IodmFyIG4gaW4gdGhpcy5fYXJncyl7dmFyIGk9dGhpcy5fYXJnc1tuXTtcImluZGljZXNcIj09PW4/bnVsbCE9PWkmJnRoaXMuc2V0SW5kaWNlcyhpKTp0aGlzLnNldEFyZyhuLnNwbGl0KFwiIFwiKVsxXSxpKX19fV0pLGV9KCk7dC5XZWJDTEdMRm9yPXUsbi5leHBvcnRzLldlYkNMR0xGb3I9dSx0LmdwdWZvcj1yLG4uZXhwb3J0cy5ncHVmb3I9cn0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vV2ViQ0xHTC5jbGFzc1wiOjEsXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiOjV9XSw0OltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGkuV2ViQ0xHTEtlcm5lbD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiKSxhPWkuV2ViQ0xHTEtlcm5lbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpe28odGhpcyxlKSx0aGlzLl9nbD10O3ZhciByPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5GUkFHTUVOVF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCk7dGhpcy5fcHJlY2lzaW9uPTAhPT1yLnByZWNpc2lvbj9cInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcblwiOlwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxucHJlY2lzaW9uIGxvd3AgaW50O1xcblxcblwiO3ZhciBzPXRoaXMuX2dsLmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKTt0aGlzLl9tYXhEcmF3QnVmZmVycz1udWxsLG51bGwhPXMmJih0aGlzLl9tYXhEcmF3QnVmZmVycz10aGlzLl9nbC5nZXRQYXJhbWV0ZXIocy5NQVhfRFJBV19CVUZGRVJTX1dFQkdMKSksdGhpcy5uYW1lPVwiXCIsdGhpcy5lbmFibGVkPSEwLHRoaXMuZGVwdGhUZXN0PW51bGwsdGhpcy5ibGVuZD1udWxsLHRoaXMuYmxlbmRTcmNNb2RlPW51bGwsdGhpcy5ibGVuZERzdE1vZGU9bnVsbCx0aGlzLmJsZW5kRXF1YXRpb249bnVsbCx0aGlzLm9ucHJlPW51bGwsdGhpcy5vbnBvc3Q9bnVsbCx0aGlzLnZpZXdTb3VyY2U9ITEsdGhpcy5pbl92YWx1ZXM9e30sdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm91dHB1dFRlbXBNb2Rlcz1udWxsLHRoaXMuZkJ1ZmZlcj1udWxsLHRoaXMuZkJ1ZmZlclRlbXA9bnVsbCx0aGlzLmZCdWZmZXJMZW5ndGg9MCx0aGlzLmZCdWZmZXJDb3VudD0wLHZvaWQgMCE9PW4mJm51bGwhPT1uJiZ0aGlzLnNldEtlcm5lbFNvdXJjZShuLGkpfXJldHVybiByKGUsW3trZXk6XCJzZXRLZXJuZWxTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3ByZWNpc2lvbitcImF0dHJpYnV0ZSB2ZWMzIGFWZXJ0ZXhQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgZ2xvYmFsX2lkO1xcbnZvaWQgbWFpbih2b2lkKSB7XFxuZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG5nbG9iYWxfaWQgPSBhVmVydGV4UG9zaXRpb24ueHkqMC41KzAuNTtcXG59XFxuXCIsdD1cIiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcXG5cIit0aGlzLl9wcmVjaXNpb24rcy5XZWJDTEdMVXRpbHMubGluZXNfZnJhZ21lbnRfYXR0cnModGhpcy5pbl92YWx1ZXMpK1widmFyeWluZyB2ZWMyIGdsb2JhbF9pZDtcXG51bmlmb3JtIGZsb2F0IHVCdWZmZXJXaWR0aDt2ZWMyIGdldF9nbG9iYWxfaWQoKSB7XFxucmV0dXJuIGdsb2JhbF9pZDtcXG59XFxuXCIrcy5XZWJDTEdMVXRpbHMuZ2V0X2dsb2JhbF9pZDNfR0xTTEZ1bmN0aW9uU3RyaW5nKCkrcy5XZWJDTEdMVXRpbHMuZ2V0X2dsb2JhbF9pZDJfR0xTTEZ1bmN0aW9uU3RyaW5nKCkrdGhpcy5faGVhZCtcInZvaWQgbWFpbih2b2lkKSB7XFxuXCIrcy5XZWJDTEdMVXRpbHMubGluZXNfZHJhd0J1ZmZlcnNJbml0KDgpK3RoaXMuX3NvdXJjZStzLldlYkNMR0xVdGlscy5saW5lc19kcmF3QnVmZmVyc1dyaXRlKDgpK1wifVxcblwiO3RoaXMua2VybmVsPXRoaXMuX2dsLmNyZWF0ZVByb2dyYW0oKSwobmV3IHMuV2ViQ0xHTFV0aWxzKS5jcmVhdGVTaGFkZXIodGhpcy5fZ2wsXCJXRUJDTEdMXCIsZSx0LHRoaXMua2VybmVsKSx0aGlzLmF0dHJfVmVydGV4UG9zPXRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMua2VybmVsLFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMudUJ1ZmZlcldpZHRoPXRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLmtlcm5lbCxcInVCdWZmZXJXaWR0aFwiKTtmb3IodmFyIG4gaW4gdGhpcy5pbl92YWx1ZXMpe3ZhciBpPXtmbG9hdDRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXQ6XCJVTklGT1JNXCIsZmxvYXQ0OlwiVU5JRk9STVwiLG1hdDQ6XCJVTklGT1JNXCJ9W3RoaXMuaW5fdmFsdWVzW25dLnR5cGVdO3MuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmFsdWVzLG4pLHRoaXMuaW5fdmFsdWVzW25dLmxvY2F0aW9uPVt0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5rZXJuZWwsbi5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIikpXSx0aGlzLmluX3ZhbHVlc1tuXS5leHBlY3RlZE1vZGU9aX1yZXR1cm5cIlZFUlRFWCBQUk9HUkFNXFxuXCIrZStcIlxcbiBGUkFHTUVOVCBQUk9HUkFNXFxuXCIrdH0uYmluZCh0aGlzKSxpPWUuc3BsaXQoXCIpXCIpWzBdLnNwbGl0KFwiKFwiKVsxXS5zcGxpdChcIixcIiksbz0wLHI9aS5sZW5ndGg7bzxyO28rKylpZihudWxsIT09aVtvXS5tYXRjaCgvXFwqL2dtKSl7dmFyIGE9aVtvXS5zcGxpdChcIipcIilbMV0udHJpbSgpO3MuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmFsdWVzLGEpLG51bGwhPWlbb10ubWF0Y2goL2Zsb2F0NC9nbSk/dGhpcy5pbl92YWx1ZXNbYV0udHlwZT1cImZsb2F0NF9mcm9tU2FtcGxlclwiOm51bGwhPWlbb10ubWF0Y2goL2Zsb2F0L2dtKSYmKHRoaXMuaW5fdmFsdWVzW2FdLnR5cGU9XCJmbG9hdF9mcm9tU2FtcGxlclwiKX1lbHNlIGlmKFwiXCIhPT1pW29dKXt2YXIgbD1pW29dLnNwbGl0KFwiIFwiKVsxXS50cmltKCk7Zm9yKHZhciB1IGluIHRoaXMuaW5fdmFsdWVzKWlmKHUucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpPT09bCl7bD11O2JyZWFrfXMuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmFsdWVzLGwpLG51bGwhPWlbb10ubWF0Y2goL2Zsb2F0NC9nbSk/dGhpcy5pbl92YWx1ZXNbbF0udHlwZT1cImZsb2F0NFwiOm51bGwhPWlbb10ubWF0Y2goL2Zsb2F0L2dtKT90aGlzLmluX3ZhbHVlc1tsXS50eXBlPVwiZmxvYXRcIjpudWxsIT1pW29dLm1hdGNoKC9tYXQ0L2dtKSYmKHRoaXMuaW5fdmFsdWVzW2xdLnR5cGU9XCJtYXQ0XCIpfXRoaXMuX2hlYWQ9dm9pZCAwIT09dCYmbnVsbCE9PXQ/dDpcIlwiLHRoaXMuX2hlYWQ9dGhpcy5faGVhZC5yZXBsYWNlKC9cXHJcXG4vZ2ksXCJcIikucmVwbGFjZSgvXFxyL2dpLFwiXCIpLnJlcGxhY2UoL1xcbi9naSxcIlwiKSx0aGlzLl9oZWFkPXMuV2ViQ0xHTFV0aWxzLnBhcnNlU291cmNlKHRoaXMuX2hlYWQsdGhpcy5pbl92YWx1ZXMpLHRoaXMuX3NvdXJjZT1lLnJlcGxhY2UoL1xcclxcbi9naSxcIlwiKS5yZXBsYWNlKC9cXHIvZ2ksXCJcIikucmVwbGFjZSgvXFxuL2dpLFwiXCIpLHRoaXMuX3NvdXJjZT10aGlzLl9zb3VyY2UucmVwbGFjZSgvXlxcdyogXFx3KlxcKFtcXHdcXHNcXCosXSpcXCkgey9naSxcIlwiKS5yZXBsYWNlKC99KFxcc3xcXHQpKiQvZ2ksXCJcIiksdGhpcy5fc291cmNlPXMuV2ViQ0xHTFV0aWxzLnBhcnNlU291cmNlKHRoaXMuX3NvdXJjZSx0aGlzLmluX3ZhbHVlcyk7dmFyIGM9bigpOyEwPT09dGhpcy52aWV3U291cmNlJiYoY29uc29sZS5sb2coXCIlYyBLRVJORUw6IFwiK3RoaXMubmFtZSxcImZvbnQtc2l6ZTogMjBweDsgY29sb3I6IGJsdWVcIiksY29uc29sZS5sb2coXCIlYyBXRUJDTEdMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIsXCJjb2xvcjogZ3JheVwiKSxjb25zb2xlLmxvZyhcIiVjIFwiK3QrZSxcImNvbG9yOiBncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgVFJBTlNMQVRFRCBXRUJHTCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIixcImNvbG9yOiBkYXJrZ3JheVwiKSxjb25zb2xlLmxvZyhcIiVjIFwiK2MsXCJjb2xvcjogZGFya2dyYXlcIikpfX1dKSxlfSgpO3QuV2ViQ0xHTEtlcm5lbD1hLG4uZXhwb3J0cy5XZWJDTEdMS2VybmVsPWF9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiOjV9XSw1OltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1pLldlYkNMR0xVdGlscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0KHRoaXMsZSl9cmV0dXJuIG8oZSxbe2tleTpcImxvYWRRdWFkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXZvaWQgMD09PXR8fG51bGw9PT10Py41OnQsbz12b2lkIDA9PT1ufHxudWxsPT09bj8uNTpuO3RoaXMudmVydGV4QXJyYXk9Wy1pLC1vLDAsaSwtbywwLGksbywwLC1pLG8sMF0sdGhpcy50ZXh0dXJlQXJyYXk9WzAsMCwwLDEsMCwwLDEsMSwwLDAsMSwwXSx0aGlzLmluZGV4QXJyYXk9WzAsMSwyLDAsMiwzXTt2YXIgcj17fTtyZXR1cm4gci52ZXJ0ZXhBcnJheT10aGlzLnZlcnRleEFycmF5LHIudGV4dHVyZUFycmF5PXRoaXMudGV4dHVyZUFycmF5LHIuaW5kZXhBcnJheT10aGlzLmluZGV4QXJyYXkscn19LHtrZXk6XCJjcmVhdGVTaGFkZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLG8pe3ZhciByPSExLHM9ITEsYT1mdW5jdGlvbih0LG4pe2NvbnNvbGUubG9nKHQpO2Zvcih2YXIgaT1bXSxvPXQuc3BsaXQoXCJcXG5cIikscj0wLHM9by5sZW5ndGg7cjxzO3IrKylpZihudWxsIT1vW3JdLm1hdGNoKC9eRVJST1IvZ2ltKSl7dmFyIGE9b1tyXS5zcGxpdChcIjpcIiksbD1wYXJzZUludChhWzJdKTtpLnB1c2goW2wsb1tyXV0pfXZhciB1PWUuZ2V0U2hhZGVyU291cmNlKG4pLnNwbGl0KFwiXFxuXCIpO3UudW5zaGlmdChcIlwiKTtmb3IodmFyIGM9MCxkPXUubGVuZ3RoO2M8ZDtjKyspe2Zvcih2YXIgaD0hMSxmPVwiXCIscD0wLGc9aS5sZW5ndGg7cDxnO3ArKylpZihjPT09aVtwXVswXSl7aD0hMCxmPWlbcF1bMV07YnJlYWt9ITE9PT1oP2NvbnNvbGUubG9nKFwiJWNcIitjK1wiICVjXCIrdVtjXSxcImNvbG9yOmJsYWNrXCIsXCJjb2xvcjpibHVlXCIpOmNvbnNvbGUubG9nKFwiJWPilrrilrolY1wiK2MrXCIgJWNcIit1W2NdK1wiXFxuJWNcIitmLFwiY29sb3I6cmVkXCIsXCJjb2xvcjpibGFja1wiLFwiY29sb3I6Ymx1ZVwiLFwiY29sb3I6cmVkXCIpfX0uYmluZCh0aGlzKSxsPWUuY3JlYXRlU2hhZGVyKGUuVkVSVEVYX1NIQURFUik7aWYoZS5zaGFkZXJTb3VyY2UobCxuKSxlLmNvbXBpbGVTaGFkZXIobCksZS5nZXRTaGFkZXJQYXJhbWV0ZXIobCxlLkNPTVBJTEVfU1RBVFVTKSllLmF0dGFjaFNoYWRlcihvLGwpLHI9ITA7ZWxzZXt2YXIgdT1lLmdldFNoYWRlckluZm9Mb2cobCk7Y29uc29sZS5sb2coXCIlY1wiK3QrXCIgRVJST1IgKHZlcnRleCBwcm9ncmFtKVwiLFwiY29sb3I6cmVkXCIpLHZvaWQgMCE9PXUmJm51bGwhPT11JiZhKHUsbCl9dmFyIGM9ZS5jcmVhdGVTaGFkZXIoZS5GUkFHTUVOVF9TSEFERVIpO2lmKGUuc2hhZGVyU291cmNlKGMsaSksZS5jb21waWxlU2hhZGVyKGMpLGUuZ2V0U2hhZGVyUGFyYW1ldGVyKGMsZS5DT01QSUxFX1NUQVRVUykpZS5hdHRhY2hTaGFkZXIobyxjKSxzPSEwO2Vsc2V7dmFyIGQ9ZS5nZXRTaGFkZXJJbmZvTG9nKGMpO2NvbnNvbGUubG9nKFwiJWNcIit0K1wiIEVSUk9SIChmcmFnbWVudCBwcm9ncmFtKVwiLFwiY29sb3I6cmVkXCIpLHZvaWQgMCE9PWQmJm51bGwhPT1kJiZhKGQsYyl9aWYoITA9PT1yJiYhMD09PXMpe2lmKGUubGlua1Byb2dyYW0obyksZS5nZXRQcm9ncmFtUGFyYW1ldGVyKG8sZS5MSU5LX1NUQVRVUykpcmV0dXJuITA7Y29uc29sZS5sb2coXCJFcnJvciBzaGFkZXIgcHJvZ3JhbSBcIit0K1wiOlxcbiBcIik7dmFyIGg9ZS5nZXRQcm9ncmFtSW5mb0xvZyhvKTtyZXR1cm4gdm9pZCAwIT09aCYmbnVsbCE9PWgmJmNvbnNvbGUubG9nKGgpLCExfXJldHVybiExfX0se2tleTpcInBhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bMS8yNTUsMS8yNTUsMS8yNTUsMF0sbj1lLGk9dGhpcy5mcmFjdCgyNTUqbiksbz10aGlzLmZyYWN0KDI1NSppKSxyPVtuLGksbyx0aGlzLmZyYWN0KDI1NSpvKV0scz1bclsxXSp0WzBdLHJbMl0qdFsxXSxyWzNdKnRbMl0sclszXSp0WzNdXTtyZXR1cm5bclswXS1zWzBdLHJbMV0tc1sxXSxyWzJdLXNbMl0sclszXS1zWzNdXX19LHtrZXk6XCJ1bnBhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bMSwxLzI1NSwxLzY1MDI1LDEvMTY1ODEzNzVdO3JldHVybiB0aGlzLmRvdDQoZSx0KX19XSxbe2tleTpcImdldFdlYkdMQ29udGV4dEZyb21DYW52YXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw7aWYobnVsbD09bil0cnl7bj12b2lkIDA9PT10fHxudWxsPT09dD9lLmdldENvbnRleHQoXCJ3ZWJnbFwiKTplLmdldENvbnRleHQoXCJ3ZWJnbFwiLHQpLGNvbnNvbGUubG9nKG51bGw9PW4/XCJubyB3ZWJnbFwiOlwidXNpbmcgd2ViZ2xcIil9Y2F0Y2goZSl7bj1udWxsfWlmKG51bGw9PW4pdHJ5e249dm9pZCAwPT09dHx8bnVsbD09PXQ/ZS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpOmUuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHQpLGNvbnNvbGUubG9nKG51bGw9PW4/XCJubyBleHBlcmltZW50YWwtd2ViZ2xcIjpcInVzaW5nIGV4cGVyaW1lbnRhbC13ZWJnbFwiKX1jYXRjaChlKXtuPW51bGx9cmV0dXJuIG51bGw9PW4mJihuPSExKSxufX0se2tleTpcImdldFVpbnQ4QXJyYXlGcm9tSFRNTEltYWdlRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC53aWR0aD1lLndpZHRoLHQuaGVpZ2h0PWUuaGVpZ2h0O3ZhciBuPXQuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBuLmRyYXdJbWFnZShlLDAsMCksbi5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpLmRhdGF9fSx7a2V5OlwiZG90NFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdK2VbM10qdFszXX19LHtrZXk6XCJmcmFjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPjA/ZS1NYXRoLmZsb29yKGUpOmUtTWF0aC5jZWlsKGUpfX0se2tleTpcInBhY2tHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjNCBwYWNrIChmbG9hdCBkZXB0aCkge1xcbmNvbnN0IHZlYzQgYmlhcyA9IHZlYzQoMS4wIC8gMjU1LjAsXFxuMS4wIC8gMjU1LjAsXFxuMS4wIC8gMjU1LjAsXFxuMC4wKTtcXG5mbG9hdCByID0gZGVwdGg7XFxuZmxvYXQgZyA9IGZyYWN0KHIgKiAyNTUuMCk7XFxuZmxvYXQgYiA9IGZyYWN0KGcgKiAyNTUuMCk7XFxuZmxvYXQgYSA9IGZyYWN0KGIgKiAyNTUuMCk7XFxudmVjNCBjb2xvdXIgPSB2ZWM0KHIsIGcsIGIsIGEpO1xcbnJldHVybiBjb2xvdXIgLSAoY29sb3VyLnl6d3cgKiBiaWFzKTtcXG59XFxuXCJ9fSx7a2V5OlwidW5wYWNrR0xTTEZ1bmN0aW9uU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImZsb2F0IHVucGFjayAodmVjNCBjb2xvdXIpIHtcXG5jb25zdCB2ZWM0IGJpdFNoaWZ0cyA9IHZlYzQoMS4wLFxcbjEuMCAvIDI1NS4wLFxcbjEuMCAvICgyNTUuMCAqIDI1NS4wKSxcXG4xLjAgLyAoMjU1LjAgKiAyNTUuMCAqIDI1NS4wKSk7XFxucmV0dXJuIGRvdChjb2xvdXIsIGJpdFNoaWZ0cyk7XFxufVxcblwifX0se2tleTpcImdldE91dHB1dEJ1ZmZlcnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw7aWYodm9pZCAwIT09ZS5vdXRwdXQmJm51bGwhPT1lLm91dHB1dClpZihuPVtdLG51bGwhPWUub3V0cHV0WzBdKWZvcih2YXIgaT0wO2k8ZS5vdXRwdXQubGVuZ3RoO2krKyluW2ldPXRbZS5vdXRwdXRbaV1dO2Vsc2Ugbj1udWxsO3JldHVybiBufX0se2tleTpcInBhcnNlU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl7dmFyIGk9bmV3IFJlZ0V4cChuK1wiXFxcXFsoPyFcXFxcZCkuKj9cXFxcXVwiLFwiZ21cIiksbz1lLm1hdGNoKGkpO2lmKG51bGwhPW8pZm9yKHZhciByPTAscz1vLmxlbmd0aDtyPHM7cisrKXt2YXIgYT1uZXcgUmVnRXhwKFwiYGBgKHN8XFx0KSpnbC4qXCIrb1tyXStcIi4qYGBgW15gYGAoc3xcXHQpKmdsXVwiLFwiZ21cIik7aWYobnVsbD09ZS5tYXRjaChhKSl7dmFyIGw9b1tyXS5zcGxpdChcIltcIilbMF0sdT1vW3JdLnNwbGl0KFwiW1wiKVsxXS5zcGxpdChcIl1cIilbMF07ZT17ZmxvYXQ0X2Zyb21TYW1wbGVyOmUucmVwbGFjZShsK1wiW1wiK3UrXCJdXCIsXCJ0ZXh0dXJlMkQoXCIrbCtcIixcIit1K1wiKVwiKSxmbG9hdF9mcm9tU2FtcGxlcjplLnJlcGxhY2UobCtcIltcIit1K1wiXVwiLFwidGV4dHVyZTJEKFwiK2wrXCIsXCIrdStcIikueFwiKSxmbG9hdDRfZnJvbUF0dHI6ZS5yZXBsYWNlKGwrXCJbXCIrdStcIl1cIixsKSxmbG9hdF9mcm9tQXR0cjplLnJlcGxhY2UobCtcIltcIit1K1wiXVwiLGwpfVt0W25dLnR5cGVdfX19cmV0dXJuIGU9ZS5yZXBsYWNlKC9gYGAoXFxzfFxcdCkqZ2wvZ2ksXCJcIikucmVwbGFjZSgvYGBgL2dpLFwiXCIpLnJlcGxhY2UoLzsvZ2ksXCI7XFxuXCIpLnJlcGxhY2UoL30vZ2ksXCJ9XFxuXCIpLnJlcGxhY2UoL3svZ2ksXCJ7XFxuXCIpfX0se2tleTpcImxpbmVzX3ZlcnRleF9hdHRyc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7Zm9yKHZhciBuIGluIGUpdCs9e2Zsb2F0NF9mcm9tU2FtcGxlcjpcInVuaWZvcm0gc2FtcGxlcjJEIFwiK24rXCI7XCIsZmxvYXRfZnJvbVNhbXBsZXI6XCJ1bmlmb3JtIHNhbXBsZXIyRCBcIituK1wiO1wiLGZsb2F0NF9mcm9tQXR0cjpcImF0dHJpYnV0ZSB2ZWM0IFwiK24rXCI7XCIsZmxvYXRfZnJvbUF0dHI6XCJhdHRyaWJ1dGUgZmxvYXQgXCIrbitcIjtcIixmbG9hdDpcInVuaWZvcm0gZmxvYXQgXCIrbitcIjtcIixmbG9hdDQ6XCJ1bmlmb3JtIHZlYzQgXCIrbitcIjtcIixtYXQ0OlwidW5pZm9ybSBtYXQ0IFwiK24rXCI7XCJ9W2Vbbl0udHlwZV0rXCJcXG5cIjtyZXR1cm4gdH19LHtrZXk6XCJsaW5lc19mcmFnbWVudF9hdHRyc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7Zm9yKHZhciBuIGluIGUpdCs9e2Zsb2F0NF9mcm9tU2FtcGxlcjpcInVuaWZvcm0gc2FtcGxlcjJEIFwiK24rXCI7XCIsZmxvYXRfZnJvbVNhbXBsZXI6XCJ1bmlmb3JtIHNhbXBsZXIyRCBcIituK1wiO1wiLGZsb2F0OlwidW5pZm9ybSBmbG9hdCBcIituK1wiO1wiLGZsb2F0NDpcInVuaWZvcm0gdmVjNCBcIituK1wiO1wiLG1hdDQ6XCJ1bmlmb3JtIG1hdDQgXCIrbitcIjtcIn1bZVtuXS50eXBlXStcIlxcblwiO3JldHVybiB0fX0se2tleTpcImxpbmVzX2RyYXdCdWZmZXJzSW5pdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49MCxpPWU7bjxpO24rKyl0Kz1cImZsb2F0IG91dFwiK24rXCJfZmxvYXQgPSAtOTk5Ljk5OTg5O1xcbnZlYzQgb3V0XCIrbitcIl9mbG9hdDQ7XFxuXCI7cmV0dXJuIHR9fSx7a2V5OlwibGluZXNfZHJhd0J1ZmZlcnNXcml0ZUluaXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixuPTAsaT1lO248aTtuKyspdCs9XCJsYXlvdXQobG9jYXRpb24gPSBcIituK1wiKSBvdXQgdmVjNCBvdXRDb2xcIituK1wiO1xcblwiO3JldHVybiB0fX0se2tleTpcImxpbmVzX2RyYXdCdWZmZXJzV3JpdGVcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixuPTAsaT1lO248aTtuKyspdCs9XCJpZihvdXRcIituK1wiX2Zsb2F0ICE9IC05OTkuOTk5ODkpIGdsX0ZyYWdEYXRhW1wiK24rXCJdID0gdmVjNChvdXRcIituK1wiX2Zsb2F0LDAuMCwwLjAsMS4wKTtcXG4gZWxzZSBnbF9GcmFnRGF0YVtcIituK1wiXSA9IG91dFwiK24rXCJfZmxvYXQ0O1xcblwiO3JldHVybiB0fX0se2tleTpcImNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXshMT09PWUuaGFzT3duUHJvcGVydHkodCkmJihlW3RdPXt0eXBlOm51bGwsZXhwZWN0ZWRNb2RlOm51bGwsbG9jYXRpb246bnVsbH0pfX0se2tleTpcImdldF9nbG9iYWxfaWQzX0dMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ2ZWMyIGdldF9nbG9iYWxfaWQoZmxvYXQgaWQsIGZsb2F0IGJ1ZmZlcldpZHRoLCBmbG9hdCBnZW9tZXRyeUxlbmd0aCkge1xcbmZsb2F0IHRleGVsU2l6ZSA9IDEuMC9idWZmZXJXaWR0aDtmbG9hdCBudW0gPSAoaWQqZ2VvbWV0cnlMZW5ndGgpL2J1ZmZlcldpZHRoO2Zsb2F0IGNvbHVtbiA9IGZyYWN0KG51bSkrKHRleGVsU2l6ZS8yLjApO2Zsb2F0IHJvdyA9IChmbG9vcihudW0pL2J1ZmZlcldpZHRoKSsodGV4ZWxTaXplLzIuMCk7cmV0dXJuIHZlYzIoY29sdW1uLCByb3cpO31cXG5cIn19LHtrZXk6XCJnZXRfZ2xvYmFsX2lkMl9HTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjMiBnZXRfZ2xvYmFsX2lkKHZlYzIgaWQsIGZsb2F0IGJ1ZmZlcldpZHRoKSB7XFxuZmxvYXQgdGV4ZWxTaXplID0gMS4wL2J1ZmZlcldpZHRoO2Zsb2F0IGNvbHVtbiA9IChpZC54L2J1ZmZlcldpZHRoKSsodGV4ZWxTaXplLzIuMCk7ZmxvYXQgcm93ID0gKGlkLnkvYnVmZmVyV2lkdGgpKyh0ZXhlbFNpemUvMi4wKTtyZXR1cm4gdmVjMihjb2x1bW4sIHJvdyk7fVxcblwifX1dKSxlfSgpO2UuV2ViQ0xHTFV0aWxzPXIsbi5leHBvcnRzLldlYkNMR0xVdGlscz1yfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDY6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksaS5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCIpLGE9aS5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSxyLHMpe28odGhpcyxlKSx0aGlzLl9nbD10O3ZhciBhPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5GUkFHTUVOVF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCk7dGhpcy5fcHJlY2lzaW9uPTAhPT1hLnByZWNpc2lvbj9cInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG5wcmVjaXNpb24gaGlnaHAgaW50O1xcblxcblwiOlwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxucHJlY2lzaW9uIGxvd3AgaW50O1xcblxcblwiO3ZhciBsPXRoaXMuX2dsLmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKTt0aGlzLl9tYXhEcmF3QnVmZmVycz1udWxsLG51bGwhPWwmJih0aGlzLl9tYXhEcmF3QnVmZmVycz10aGlzLl9nbC5nZXRQYXJhbWV0ZXIobC5NQVhfRFJBV19CVUZGRVJTX1dFQkdMKSksdGhpcy5uYW1lPVwiXCIsdGhpcy52aWV3U291cmNlPSExLHRoaXMuaW5fdmVydGV4X3ZhbHVlcz17fSx0aGlzLmluX2ZyYWdtZW50X3ZhbHVlcz17fSx0aGlzLl92ZXJ0ZXhQX3JlYWR5PSExLHRoaXMuX2ZyYWdtZW50UF9yZWFkeT0hMSx0aGlzLl92ZXJ0ZXhIZWFkPW51bGwsdGhpcy5fdmVydGV4U291cmNlPW51bGwsdGhpcy5fZnJhZ21lbnRIZWFkPW51bGwsdGhpcy5fZnJhZ21lbnRTb3VyY2U9bnVsbCx0aGlzLm91dHB1dD1udWxsLHRoaXMub3V0cHV0VGVtcE1vZGVzPW51bGwsdGhpcy5mQnVmZmVyPW51bGwsdGhpcy5mQnVmZmVyVGVtcD1udWxsLHRoaXMuZHJhd01vZGU9NCx2b2lkIDAhPT1uJiZudWxsIT09biYmdGhpcy5zZXRWZXJ0ZXhTb3VyY2UobixpKSx2b2lkIDAhPT1yJiZudWxsIT09ciYmdGhpcy5zZXRGcmFnbWVudFNvdXJjZShyLHMpfXJldHVybiByKGUsW3trZXk6XCJjb21waWxlVmVydGV4RnJhZ21lbnRTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3ByZWNpc2lvbitcInVuaWZvcm0gZmxvYXQgdU9mZnNldDtcXG51bmlmb3JtIGZsb2F0IHVCdWZmZXJXaWR0aDtcIitzLldlYkNMR0xVdGlscy5saW5lc192ZXJ0ZXhfYXR0cnModGhpcy5pbl92ZXJ0ZXhfdmFsdWVzKStzLldlYkNMR0xVdGlscy51bnBhY2tHTFNMRnVuY3Rpb25TdHJpbmcoKStzLldlYkNMR0xVdGlscy5nZXRfZ2xvYmFsX2lkM19HTFNMRnVuY3Rpb25TdHJpbmcoKStzLldlYkNMR0xVdGlscy5nZXRfZ2xvYmFsX2lkMl9HTFNMRnVuY3Rpb25TdHJpbmcoKSt0aGlzLl92ZXJ0ZXhIZWFkK1widm9pZCBtYWluKHZvaWQpIHtcXG5cIit0aGlzLl92ZXJ0ZXhTb3VyY2UrXCJ9XFxuXCIsdD1cIiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmVcXG5cIit0aGlzLl9wcmVjaXNpb24rcy5XZWJDTEdMVXRpbHMubGluZXNfZnJhZ21lbnRfYXR0cnModGhpcy5pbl9mcmFnbWVudF92YWx1ZXMpK3MuV2ViQ0xHTFV0aWxzLmdldF9nbG9iYWxfaWQzX0dMU0xGdW5jdGlvblN0cmluZygpK3MuV2ViQ0xHTFV0aWxzLmdldF9nbG9iYWxfaWQyX0dMU0xGdW5jdGlvblN0cmluZygpK3RoaXMuX2ZyYWdtZW50SGVhZCtcInZvaWQgbWFpbih2b2lkKSB7XFxuXCIrcy5XZWJDTEdMVXRpbHMubGluZXNfZHJhd0J1ZmZlcnNJbml0KDgpK3RoaXMuX2ZyYWdtZW50U291cmNlK3MuV2ViQ0xHTFV0aWxzLmxpbmVzX2RyYXdCdWZmZXJzV3JpdGUoOCkrXCJ9XFxuXCI7dGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW09dGhpcy5fZ2wuY3JlYXRlUHJvZ3JhbSgpLChuZXcgcy5XZWJDTEdMVXRpbHMpLmNyZWF0ZVNoYWRlcih0aGlzLl9nbCxcIldFQkNMR0wgVkVSVEVYIEZSQUdNRU5UIFBST0dSQU1cIixlLHQsdGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW0pLHRoaXMudU9mZnNldD10aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW0sXCJ1T2Zmc2V0XCIpLHRoaXMudUJ1ZmZlcldpZHRoPXRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnZlcnRleEZyYWdtZW50UHJvZ3JhbSxcInVCdWZmZXJXaWR0aFwiKTtmb3IodmFyIG4gaW4gdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzKXt2YXIgaT17ZmxvYXQ0X2Zyb21TYW1wbGVyOlwiU0FNUExFUlwiLGZsb2F0X2Zyb21TYW1wbGVyOlwiU0FNUExFUlwiLGZsb2F0NF9mcm9tQXR0cjpcIkFUVFJJQlVURVwiLGZsb2F0X2Zyb21BdHRyOlwiQVRUUklCVVRFXCIsZmxvYXQ6XCJVTklGT1JNXCIsZmxvYXQ0OlwiVU5JRk9STVwiLG1hdDQ6XCJVTklGT1JNXCJ9W3RoaXMuaW5fdmVydGV4X3ZhbHVlc1tuXS50eXBlXTtzLldlYkNMR0xVdGlscy5jaGVja0FyZ05hbWVJbml0aWFsaXphdGlvbih0aGlzLmluX3ZlcnRleF92YWx1ZXMsbik7dmFyIG89XCJBVFRSSUJVVEVcIj09PWk/dGhpcy5fZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW0sbik6dGhpcy5fZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMudmVydGV4RnJhZ21lbnRQcm9ncmFtLG4ucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpKTt0aGlzLmluX3ZlcnRleF92YWx1ZXNbbl0ubG9jYXRpb249W29dLHRoaXMuaW5fdmVydGV4X3ZhbHVlc1tuXS5leHBlY3RlZE1vZGU9aX1mb3IodmFyIHIgaW4gdGhpcy5pbl9mcmFnbWVudF92YWx1ZXMpe3ZhciBhPXtmbG9hdDRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXRfZnJvbVNhbXBsZXI6XCJTQU1QTEVSXCIsZmxvYXQ6XCJVTklGT1JNXCIsZmxvYXQ0OlwiVU5JRk9STVwiLG1hdDQ6XCJVTklGT1JNXCJ9W3RoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW3JdLnR5cGVdO3MuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fZnJhZ21lbnRfdmFsdWVzLHIpLHRoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW3JdLmxvY2F0aW9uPVt0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy52ZXJ0ZXhGcmFnbWVudFByb2dyYW0sci5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIikpXSx0aGlzLmluX2ZyYWdtZW50X3ZhbHVlc1tyXS5leHBlY3RlZE1vZGU9YX1yZXR1cm5cIlZFUlRFWCBQUk9HUkFNXFxuXCIrZStcIlxcbiBGUkFHTUVOVCBQUk9HUkFNXFxuXCIrdH19LHtrZXk6XCJzZXRWZXJ0ZXhTb3VyY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwiKVwiKVswXS5zcGxpdChcIihcIilbMV0uc3BsaXQoXCIsXCIpLGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspaWYobnVsbCE9PW5baV0ubWF0Y2goL1xcKmF0dHIvZ20pKXt2YXIgcj1uW2ldLnNwbGl0KFwiKmF0dHJcIilbMV0udHJpbSgpO3MuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmVydGV4X3ZhbHVlcyxyKSxudWxsIT1uW2ldLm1hdGNoKC9mbG9hdDQvZ20pP3RoaXMuaW5fdmVydGV4X3ZhbHVlc1tyXS50eXBlPVwiZmxvYXQ0X2Zyb21BdHRyXCI6bnVsbCE9bltpXS5tYXRjaCgvZmxvYXQvZ20pJiYodGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW3JdLnR5cGU9XCJmbG9hdF9mcm9tQXR0clwiKX1lbHNlIGlmKG51bGwhPT1uW2ldLm1hdGNoKC9cXCovZ20pKXt2YXIgYT1uW2ldLnNwbGl0KFwiKlwiKVsxXS50cmltKCk7cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl92ZXJ0ZXhfdmFsdWVzLGEpLG51bGwhPW5baV0ubWF0Y2goL2Zsb2F0NC9nbSk/dGhpcy5pbl92ZXJ0ZXhfdmFsdWVzW2FdLnR5cGU9XCJmbG9hdDRfZnJvbVNhbXBsZXJcIjpudWxsIT1uW2ldLm1hdGNoKC9mbG9hdC9nbSkmJih0aGlzLmluX3ZlcnRleF92YWx1ZXNbYV0udHlwZT1cImZsb2F0X2Zyb21TYW1wbGVyXCIpfWVsc2UgaWYoXCJcIiE9PW5baV0pe3ZhciBsPW5baV0uc3BsaXQoXCIgXCIpWzFdLnRyaW0oKTtmb3IodmFyIHUgaW4gdGhpcy5pbl92ZXJ0ZXhfdmFsdWVzKWlmKHUucmVwbGFjZSgvXFxbXFxkLiovLFwiXCIpPT09bCl7bD11O2JyZWFrfXMuV2ViQ0xHTFV0aWxzLmNoZWNrQXJnTmFtZUluaXRpYWxpemF0aW9uKHRoaXMuaW5fdmVydGV4X3ZhbHVlcyxsKSxudWxsIT1uW2ldLm1hdGNoKC9mbG9hdDQvZ20pP3RoaXMuaW5fdmVydGV4X3ZhbHVlc1tsXS50eXBlPVwiZmxvYXQ0XCI6bnVsbCE9bltpXS5tYXRjaCgvZmxvYXQvZ20pP3RoaXMuaW5fdmVydGV4X3ZhbHVlc1tsXS50eXBlPVwiZmxvYXRcIjpudWxsIT1uW2ldLm1hdGNoKC9tYXQ0L2dtKSYmKHRoaXMuaW5fdmVydGV4X3ZhbHVlc1tsXS50eXBlPVwibWF0NFwiKX1pZih0aGlzLl92ZXJ0ZXhIZWFkPXZvaWQgMCE9PXQmJm51bGwhPT10P3Q6XCJcIix0aGlzLl92ZXJ0ZXhIZWFkPXRoaXMuX3ZlcnRleEhlYWQucmVwbGFjZSgvXFxyXFxuL2dpLFwiXCIpLnJlcGxhY2UoL1xcci9naSxcIlwiKS5yZXBsYWNlKC9cXG4vZ2ksXCJcIiksdGhpcy5fdmVydGV4SGVhZD1zLldlYkNMR0xVdGlscy5wYXJzZVNvdXJjZSh0aGlzLl92ZXJ0ZXhIZWFkLHRoaXMuaW5fdmVydGV4X3ZhbHVlcyksdGhpcy5fdmVydGV4U291cmNlPWUucmVwbGFjZSgvXFxyXFxuL2dpLFwiXCIpLnJlcGxhY2UoL1xcci9naSxcIlwiKS5yZXBsYWNlKC9cXG4vZ2ksXCJcIiksdGhpcy5fdmVydGV4U291cmNlPXRoaXMuX3ZlcnRleFNvdXJjZS5yZXBsYWNlKC9eXFx3KiBcXHcqXFwoW1xcd1xcc1xcKixdKlxcKSB7L2dpLFwiXCIpLnJlcGxhY2UoL30oXFxzfFxcdCkqJC9naSxcIlwiKSx0aGlzLl92ZXJ0ZXhTb3VyY2U9cy5XZWJDTEdMVXRpbHMucGFyc2VTb3VyY2UodGhpcy5fdmVydGV4U291cmNlLHRoaXMuaW5fdmVydGV4X3ZhbHVlcyksdGhpcy5fdmVydGV4UF9yZWFkeT0hMCwhMD09PXRoaXMuX2ZyYWdtZW50UF9yZWFkeSl7dmFyIGM9dGhpcy5jb21waWxlVmVydGV4RnJhZ21lbnRTb3VyY2UoKTshMD09PXRoaXMudmlld1NvdXJjZSYmKGNvbnNvbGUubG9nKFwiJWMgVkZQOiBcIit0aGlzLm5hbWUsXCJmb250LXNpemU6IDIwcHg7IGNvbG9yOiBncmVlblwiKSxjb25zb2xlLmxvZyhcIiVjIFdFQkNMR0wgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIixcImNvbG9yOiBncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrdCtlLFwiY29sb3I6IGdyYXlcIiksY29uc29sZS5sb2coXCIlYyBUUkFOU0xBVEVEIFdFQkdMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiLFwiY29sb3I6IGRhcmtncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrYyxcImNvbG9yOiBkYXJrZ3JheVwiKSl9fX0se2tleTpcInNldEZyYWdtZW50U291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5zcGxpdChcIilcIilbMF0uc3BsaXQoXCIoXCIpWzFdLnNwbGl0KFwiLFwiKSxpPTAsbz1uLmxlbmd0aDtpPG87aSsrKWlmKG51bGwhPT1uW2ldLm1hdGNoKC9cXCovZ20pKXt2YXIgcj1uW2ldLnNwbGl0KFwiKlwiKVsxXS50cmltKCk7cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl9mcmFnbWVudF92YWx1ZXMsciksbnVsbCE9bltpXS5tYXRjaCgvZmxvYXQ0L2dtKT90aGlzLmluX2ZyYWdtZW50X3ZhbHVlc1tyXS50eXBlPVwiZmxvYXQ0X2Zyb21TYW1wbGVyXCI6bnVsbCE9bltpXS5tYXRjaCgvZmxvYXQvZ20pJiYodGhpcy5pbl9mcmFnbWVudF92YWx1ZXNbcl0udHlwZT1cImZsb2F0X2Zyb21TYW1wbGVyXCIpfWVsc2UgaWYoXCJcIiE9PW5baV0pe3ZhciBhPW5baV0uc3BsaXQoXCIgXCIpWzFdLnRyaW0oKTtmb3IodmFyIGwgaW4gdGhpcy5pbl9mcmFnbWVudF92YWx1ZXMpaWYobC5yZXBsYWNlKC9cXFtcXGQuKi8sXCJcIik9PT1hKXthPWw7YnJlYWt9cy5XZWJDTEdMVXRpbHMuY2hlY2tBcmdOYW1lSW5pdGlhbGl6YXRpb24odGhpcy5pbl9mcmFnbWVudF92YWx1ZXMsYSksbnVsbCE9bltpXS5tYXRjaCgvZmxvYXQ0L2dtKT90aGlzLmluX2ZyYWdtZW50X3ZhbHVlc1thXS50eXBlPVwiZmxvYXQ0XCI6bnVsbCE9bltpXS5tYXRjaCgvZmxvYXQvZ20pP3RoaXMuaW5fZnJhZ21lbnRfdmFsdWVzW2FdLnR5cGU9XCJmbG9hdFwiOm51bGwhPW5baV0ubWF0Y2goL21hdDQvZ20pJiYodGhpcy5pbl9mcmFnbWVudF92YWx1ZXNbYV0udHlwZT1cIm1hdDRcIil9aWYodGhpcy5fZnJhZ21lbnRIZWFkPXZvaWQgMCE9PXQmJm51bGwhPT10P3Q6XCJcIix0aGlzLl9mcmFnbWVudEhlYWQ9dGhpcy5fZnJhZ21lbnRIZWFkLnJlcGxhY2UoL1xcclxcbi9naSxcIlwiKS5yZXBsYWNlKC9cXHIvZ2ksXCJcIikucmVwbGFjZSgvXFxuL2dpLFwiXCIpLHRoaXMuX2ZyYWdtZW50SGVhZD1zLldlYkNMR0xVdGlscy5wYXJzZVNvdXJjZSh0aGlzLl9mcmFnbWVudEhlYWQsdGhpcy5pbl9mcmFnbWVudF92YWx1ZXMpLHRoaXMuX2ZyYWdtZW50U291cmNlPWUucmVwbGFjZSgvXFxyXFxuL2dpLFwiXCIpLnJlcGxhY2UoL1xcci9naSxcIlwiKS5yZXBsYWNlKC9cXG4vZ2ksXCJcIiksdGhpcy5fZnJhZ21lbnRTb3VyY2U9dGhpcy5fZnJhZ21lbnRTb3VyY2UucmVwbGFjZSgvXlxcdyogXFx3KlxcKFtcXHdcXHNcXCosXSpcXCkgey9naSxcIlwiKS5yZXBsYWNlKC99KFxcc3xcXHQpKiQvZ2ksXCJcIiksdGhpcy5fZnJhZ21lbnRTb3VyY2U9cy5XZWJDTEdMVXRpbHMucGFyc2VTb3VyY2UodGhpcy5fZnJhZ21lbnRTb3VyY2UsdGhpcy5pbl9mcmFnbWVudF92YWx1ZXMpLHRoaXMuX2ZyYWdtZW50UF9yZWFkeT0hMCwhMD09PXRoaXMuX3ZlcnRleFBfcmVhZHkpe3ZhciB1PXRoaXMuY29tcGlsZVZlcnRleEZyYWdtZW50U291cmNlKCk7ITA9PT10aGlzLnZpZXdTb3VyY2UmJihjb25zb2xlLmxvZyhcIiVjIFZGUDogXCIsXCJmb250LXNpemU6IDIwcHg7IGNvbG9yOiBncmVlblwiKSxjb25zb2xlLmxvZyhcIiVjIFdFQkNMR0wgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIixcImNvbG9yOiBncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrdCtlLFwiY29sb3I6IGdyYXlcIiksY29uc29sZS5sb2coXCIlYyBUUkFOU0xBVEVEIFdFQkdMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiLFwiY29sb3I6IGRhcmtncmF5XCIpLGNvbnNvbGUubG9nKFwiJWMgXCIrdSxcImNvbG9yOiBkYXJrZ3JheVwiKSl9fX1dKSxlfSgpO3QuV2ViQ0xHTFZlcnRleEZyYWdtZW50UHJvZ3JhbT1hLG4uZXhwb3J0cy5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtPWF9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL1dlYkNMR0xVdGlscy5jbGFzc1wiOjV9XSw3OltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2UoXCIuL1dlYkNMR0wuY2xhc3NcIiksZShcIi4vV2ViQ0xHTEJ1ZmZlci5jbGFzc1wiKSxlKFwiLi9XZWJDTEdMRm9yLmNsYXNzXCIpLGUoXCIuL1dlYkNMR0xLZXJuZWwuY2xhc3NcIiksZShcIi4vV2ViQ0xHTFV0aWxzLmNsYXNzXCIpLGUoXCIuL1dlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW0uY2xhc3NcIiksbi5leHBvcnRzLldlYkNMR0w9dC5XZWJDTEdMPVdlYkNMR0wsbi5leHBvcnRzLldlYkNMR0xCdWZmZXI9dC5XZWJDTEdMQnVmZmVyPVdlYkNMR0xCdWZmZXIsbi5leHBvcnRzLldlYkNMR0xGb3I9dC5XZWJDTEdMRm9yPVdlYkNMR0xGb3Isbi5leHBvcnRzLldlYkNMR0xLZXJuZWw9dC5XZWJDTEdMS2VybmVsPVdlYkNMR0xLZXJuZWwsbi5leHBvcnRzLldlYkNMR0xVdGlscz10LldlYkNMR0xVdGlscz1XZWJDTEdMVXRpbHMsbi5leHBvcnRzLldlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW09dC5XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtPVdlYkNMR0xWZXJ0ZXhGcmFnbWVudFByb2dyYW19KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL1dlYkNMR0wuY2xhc3NcIjoxLFwiLi9XZWJDTEdMQnVmZmVyLmNsYXNzXCI6MixcIi4vV2ViQ0xHTEZvci5jbGFzc1wiOjMsXCIuL1dlYkNMR0xLZXJuZWwuY2xhc3NcIjo0LFwiLi9XZWJDTEdMVXRpbHMuY2xhc3NcIjo1LFwiLi9XZWJDTEdMVmVydGV4RnJhZ21lbnRQcm9ncmFtLmNsYXNzXCI6Nn1dfSx7fSxbN10pfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkFycmF5R2VuZXJhdG9yPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vVXRpbHMuY2xhc3NcIiksYT1uLkFycmF5R2VuZXJhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKX1yZXR1cm4gcihlLFt7a2V5Olwidm9sdW1lQXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmFycmF5Tm9kZURlc3RpbmF0aW9uPVtdLHRoaXMuYXJyYXlOb2RlVmVydGV4Q29sb3I9W10sdGhpcy52bz1lLHRoaXMudm8gaW5zdGFuY2VvZiBTdG9ybVZveGVsaXphdG9yPT0hMSlyZXR1cm4gYWxlcnQoXCJZb3UgbXVzdCBzZWxlY3QgYSB2b3hlbGl6YXRvciBvYmplY3Qgd2l0aCBhbGJlZG8gZmlsbG1vZGUgZW5hYmxlZC5cIiksITE7aWYodm9pZCAwPT09dGhpcy52by5pbWFnZTNEX1ZveGVsc0NvbG9yfHxudWxsPT09dGhpcy52by5pbWFnZTNEX1ZveGVsc0NvbG9yKXJldHVybiBhbGVydChcIllvdSBtdXN0IHNlbGVjdCBhIHZveGVsaXphdG9yIG9iamVjdCB3aXRoIGFsYmVkbyBmaWxsbW9kZSBlbmFibGVkLlwiKSwhMTt0aGlzLmRhdGE9dGhpcy52by5jbGdsQnVmZl9Wb3hlbHNDb2xvci5pdGVtc1swXS5pbkRhdGE7Zm9yKHZhciB0PTAsbj0wLGk9dGhpcy5kYXRhLmxlbmd0aC80O248aTtuKyspe3ZhciBvPTQqbjt0aGlzLmRhdGFbbyszXT4wJiZ0Kyt9dmFyIHI9KHRoaXMuY3VycmVudE5vZGVJZC0xKS90O3RoaXMuaW5jcmVtTm9kZXNDZWxsPTA7dmFyIHM9LTE7dGhpcy5jdXJyZW50Vm94ZWxDZWxsPW51bGwsdGhpcy5DQ1g9MCx0aGlzLkNDWT0wLHRoaXMuQ0NaPTAsdGhpcy5DQ1hNQVg9dGhpcy52by5yZXNvbHV0aW9uLTEsdGhpcy5DQ1lNQVg9dGhpcy52by5yZXNvbHV0aW9uLTEsdGhpcy5DQ1pNQVg9dGhpcy52by5yZXNvbHV0aW9uLTE7Zm9yKHZhciBhPXZvaWQgMCxsPXZvaWQgMCx1PWZ1bmN0aW9uKCl7Zm9yKDs7KXtpZih0aGlzLkNDWD09PXRoaXMuQ0NYTUFYJiZ0aGlzLkNDWj09PXRoaXMuQ0NaTUFYJiZ0aGlzLkNDWT09PXRoaXMuQ0NZTUFYKWJyZWFrO2lmKHRoaXMuQ0NYPT09dGhpcy5DQ1hNQVgmJnRoaXMuQ0NaPT09dGhpcy5DQ1pNQVg/KHRoaXMuQ0NYPTAsdGhpcy5DQ1o9MCx0aGlzLkNDWSsrKTp0aGlzLkNDWD09PXRoaXMuQ0NYTUFYPyh0aGlzLkNDWD0wLHRoaXMuQ0NaKyspOnRoaXMuQ0NYKyssdGhpcy5jdXJyZW50Vm94ZWxDZWxsPXRoaXMuQ0NZKih0aGlzLnZvLnJlc29sdXRpb24qdGhpcy52by5yZXNvbHV0aW9uKSt0aGlzLkNDWip0aGlzLnZvLnJlc29sdXRpb24rdGhpcy5DQ1gsdGhpcy5kYXRhWzQqdGhpcy5jdXJyZW50Vm94ZWxDZWxsKzNdPjAmJih0aGlzLmluY3JlbU5vZGVzQ2VsbCs9cix0aGlzLmluY3JlbU5vZGVzQ2VsbD49MSkpe3RoaXMuaW5jcmVtTm9kZXNDZWxsLT0xO2JyZWFrfX19LmJpbmQodGhpcyksYz0wO2M8dGhpcy5hcnJheU5vZGVJZC5sZW5ndGg7YysrKXMhPT10aGlzLmFycmF5Tm9kZUlkW2NdPyhzPXRoaXMuYXJyYXlOb2RlSWRbY10sdGhpcy5pbmNyZW1Ob2Rlc0NlbGw+PTE/dGhpcy5pbmNyZW1Ob2Rlc0NlbGwtPTE6dSgpLGE9KGE9KGE9JFYzKFswLDAsMF0pLmFkZCgkVjMoWy10aGlzLnZvLnNpemUvMiwtdGhpcy52by5zaXplLzIsLXRoaXMudm8uc2l6ZS8yXSkpKS5hZGQoJFYzKFt0aGlzLnZvLmNzKnRoaXMuQ0NYKjEsdGhpcy52by5jcyp0aGlzLkNDWSoxLHRoaXMudm8uY3MqKHRoaXMuQ0NaTUFYLXRoaXMuQ0NaKSoxXSkpKS5hZGQoJFYzKFt0aGlzLnZvLmNzKk1hdGgucmFuZG9tKCksdGhpcy52by5jcypNYXRoLnJhbmRvbSgpLHRoaXMudm8uY3MqTWF0aC5yYW5kb20oKV0pKSxsPSRWMyhbdGhpcy5kYXRhWzQqdGhpcy5jdXJyZW50Vm94ZWxDZWxsXS8yNTUsdGhpcy5kYXRhWzQqdGhpcy5jdXJyZW50Vm94ZWxDZWxsKzFdLzI1NSx0aGlzLmRhdGFbNCp0aGlzLmN1cnJlbnRWb3hlbENlbGwrMl0vMjU1XSksdGhpcy5hcnJheU5vZGVEZXN0aW5hdGlvbi5wdXNoKGEuZVswXSxhLmVbMV0sYS5lWzJdLDEpLHRoaXMuYXJyYXlOb2RlVmVydGV4Q29sb3IucHVzaChsLmVbMF0sbC5lWzFdLGwuZVsyXSwxKSk6KHRoaXMuYXJyYXlOb2RlRGVzdGluYXRpb24ucHVzaChhLmVbMF0sYS5lWzFdLGEuZVsyXSwxKSx0aGlzLmFycmF5Tm9kZVZlcnRleENvbG9yLnB1c2gobC5lWzBdLGwuZVsxXSxsLmVbMl0sMSkpO2NvbXBfcmVuZGVyZXJfbm9kZXMuc2V0QXJnKFwiZGVzdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlOb2RlRGVzdGluYXRpb259LmJpbmQodGhpcyksdGhpcy5zcGxpdE5vZGVzKSxjb21wX3JlbmRlcmVyX25vZGVzLnNldEFyZyhcIm5vZGVWZXJ0ZXhDb2xcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmFycmF5Tm9kZVZlcnRleENvbG9yfS5iaW5kKHRoaXMpLHRoaXMuc3BsaXROb2Rlcyl9fV0sW3trZXk6XCJyYW5kb21BcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmNvdW50O24rKylcImZsb2F0XCI9PT1lLnR5cGU/dC5wdXNoKC1lLm9mZnNldC8yK01hdGgucmFuZG9tKCkqZS5vZmZzZXQpOnQucHVzaCgtZS5vZmZzZXQvMitNYXRoLnJhbmRvbSgpKmUub2Zmc2V0LC1lLm9mZnNldC8yK01hdGgucmFuZG9tKCkqZS5vZmZzZXQsLWUub2Zmc2V0LzIrTWF0aC5yYW5kb20oKSplLm9mZnNldCwtZS5vZmZzZXQvMitNYXRoLnJhbmRvbSgpKmUub2Zmc2V0KTtyZXR1cm4gdH19LHtrZXk6XCJ3aWR0aEhlaWdodEFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS53aWR0aCplLmhlaWdodCxpPWUuY291bnQvbixvPTAscj0wLHM9MCxhPXZvaWQgMCE9PWUuc3BhY2luZyYmbnVsbCE9PWUuc3BhY2luZz9lLnNwYWNpbmc6LjAxLGw9MDtsPGUuY291bnQ7bCsrKW8+PWkmJigrK3I+ZS53aWR0aC0xJiYocj0wLHMrKyksby09aSksbys9MSx0LnB1c2gociphLDAscyphLDEpO3JldHVybiB0fX0se2tleTpcImZsb2F0NEFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUuY291bnQ7bisrKXQucHVzaChlLmZsb2F0NFswXSxlLmZsb2F0NFsxXSxlLmZsb2F0NFsyXSxlLmZsb2F0NFszXSk7cmV0dXJuIHR9fSx7a2V5Olwic3BoZXJpY2FsQXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj12b2lkIDA9PT1lPzE6ZS5yYWRpdXMsaT0wO2k8ZS5jb3VudDtpKyspe3ZhciBvPTM2MCpNYXRoLnJhbmRvbSgpLHI9MTgwKk1hdGgucmFuZG9tKCk7dC5wdXNoKE1hdGguY29zKG8pKk1hdGguYWJzKE1hdGguc2luKHIpKSpuLE1hdGguY29zKHIpKm4qTWF0aC5yYW5kb20oKSxNYXRoLnNpbihvKSpNYXRoLmFicyhNYXRoLnNpbihyKSkqbiwxKX1yZXR1cm4gdH19LHtrZXk6XCJoZW1BcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXZvaWQgMD09PWU/MTplLnJhZGl1cyxpPTA7aTxlLmNvdW50O2krKyl7dmFyIG89KG5ldyBzLlV0aWxzKS5nZXRWZWN0b3IoZS5ub3JtYWxWZWN0b3IsZS5kZWdyZWVzKTt0LnB1c2goby5lWzBdKm4sby5lWzFdKm4sby5lWzJdKm4sMSl9cmV0dXJuIHR9fSx7a2V5OlwiaW1hZ2VBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1zLlV0aWxzLmdldFVpbnQ4QXJyYXlGcm9tSFRNTEltYWdlRWxlbWVudChlLmltYWdlKSxuPVtdLGk9MDtpPGUuY291bnQ7aSsrKXt2YXIgbz00Kmk7bi5wdXNoKHBhcnNlRmxvYXQodFtvXS8yNTUpLHBhcnNlRmxvYXQodFtvKzFdLzI1NSkscGFyc2VGbG9hdCh0W28rMl0vMjU1KSxwYXJzZUZsb2F0KHRbbyszXS8yNTUpKX1yZXR1cm4gbn19XSksZX0oKTtpLkFycmF5R2VuZXJhdG9yPWEsdC5leHBvcnRzLkFycmF5R2VuZXJhdG9yPWF9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vVXRpbHMuY2xhc3NcIjozOH1dLDg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPW4uQ29tcG9uZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2kodGhpcyxlKSx0aGlzLnR5cGU9bnVsbCx0aGlzLm5vZGU9bnVsbH1yZXR1cm4gbyhlLFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7fX0se2tleTpcInRpY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt9fV0pLGV9KCk7ZS5Db21wb25lbnQ9cix0LmV4cG9ydHMuQ29tcG9uZW50PXJ9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0PXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vQ29uc3RhbnRzXCIpLGM9bi5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPXUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5DT05UUk9MTEVSX1RSQU5TRk9STV9UQVJHRVQsZS5ub2RlPW51bGwsZS5nbD1udWxsLGUuY29tcF90cmFuc2Zvcm1UYXJnZXQ9bnVsbCxlLmNvbXBfcHJvamVjdGlvbj1udWxsLGUuX3ZlbD0uMSxlLmZvcndhcmRFPTAsZS5iYWNrd2FyZEU9MCxlLmxlZnRFPTAsZS5yaWdodEU9MCxlLmZyb250RT0wLGUuYmFja0U9MCxlLmxlZnRCdXR0b249MCxlLm1pZGRsZUJ1dHRvbj0wLGUucmlnaHRCdXR0b249MCxlLmxlZnRCdXR0b25BY3Rpb249XCJPUkJJVFwiLGUubWlkZGxlQnV0dG9uQWN0aW9uPVwiUEFOXCIsZS5yaWdodEJ1dHRvbkFjdGlvbj1cIlpPT01cIixlLmxhc3RYPTAsZS5sYXN0WT0wLGUubG9ja1JvdFg9ITEsZS5sb2NrUm90WT0hMSxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dCx0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0PXRoaXMubm9kZS5nZXRDb21wb25lbnQodS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STV9UQVJHRVQpLHRoaXMuY29tcF9wcm9qZWN0aW9uPXRoaXMubm9kZS5nZXRDb21wb25lbnQodS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlBST0pFQ1RJT04pfX0se2tleTpcInNldFZlbG9jaXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdmVsPWV9fSx7a2V5OlwibG9ja1JvdFhcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubG9ja1JvdFg9ITB9fSx7a2V5OlwidW5sb2NrUm90WFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sb2NrUm90WD0hMX19LHtrZXk6XCJpc0xvY2tSb3RYXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrUm90WH19LHtrZXk6XCJsb2NrUm90WVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sb2NrUm90WT0hMH19LHtrZXk6XCJ1bmxvY2tSb3RZXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxvY2tSb3RZPSExfX0se2tleTpcImlzTG9ja1JvdFlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tSb3RZfX0se2tleTpcImZvcndhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZm9yd2FyZEU9MX19LHtrZXk6XCJiYWNrd2FyZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5iYWNrd2FyZEU9MX19LHtrZXk6XCJzdHJhZmVMZWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxlZnRFPTF9fSx7a2V5Olwic3RyYWZlUmlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmlnaHRFPTF9fSx7a2V5Olwic3RyYWZlRnJvbnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJvbnRFPTF9fSx7a2V5Olwic3RyYWZlQmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5iYWNrRT0xfX0se2tleTpcInN0b3BGb3J3YXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZvcndhcmRFPTB9fSx7a2V5Olwic3RvcEJhY2t3YXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJhY2t3YXJkRT0wfX0se2tleTpcInN0b3BTdHJhZmVMZWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxlZnRFPTB9fSx7a2V5Olwic3RvcFN0cmFmZVJpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJpZ2h0RT0wfX0se2tleTpcInN0b3BTdHJhZmVGcm9udFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcm9udEU9MH19LHtrZXk6XCJzdG9wU3RyYWZlQmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5iYWNrRT0wfX0se2tleTpcIm1vdXNlRG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubGFzdFg9ZS5zY3JlZW5YLHRoaXMubGFzdFk9ZS5zY3JlZW5ZLDA9PT1lLmJ1dHRvbiYmKHRoaXMubGVmdEJ1dHRvbj0xKSwxPT09ZS5idXR0b24mJih0aGlzLm1pZGRsZUJ1dHRvbj0xKSwyPT09ZS5idXR0b24mJih0aGlzLnJpZ2h0QnV0dG9uPTEpLHRoaXMudXBkYXRlR29hbChlKX19LHtrZXk6XCJtb3VzZVVwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7MD09PWUuYnV0dG9uJiYodGhpcy5sZWZ0QnV0dG9uPTApLDE9PT1lLmJ1dHRvbiYmKHRoaXMubWlkZGxlQnV0dG9uPTApLDI9PT1lLmJ1dHRvbiYmKHRoaXMucmlnaHRCdXR0b249MCl9fSx7a2V5OlwibW91c2VNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7MSE9PXRoaXMubGVmdEJ1dHRvbiYmMSE9PXRoaXMubWlkZGxlQnV0dG9ufHx0aGlzLnVwZGF0ZUdvYWwoZSl9fSx7a2V5OlwiaXNMZWZ0QnRuQWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMubGVmdEJ1dHRvbn19LHtrZXk6XCJpc01pZGRsZUJ0bkFjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLm1pZGRsZUJ1dHRvbn19LHtrZXk6XCJpc1JpZ2h0QnRuQWN0aXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucmlnaHRCdXR0b259fSx7a2V5Olwic2V0TGVmdEJ1dHRvbkFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubGVmdEJ1dHRvbkFjdGlvbj1lfX0se2tleTpcInNldE1pZGRsZUJ1dHRvbkFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubWlkZGxlQnV0dG9uQWN0aW9uPWV9fSx7a2V5Olwic2V0UmlnaHRCdXR0b25BY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnJpZ2h0QnV0dG9uQWN0aW9uPWV9fSx7a2V5OlwidGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSRWMyhbMCwwLDBdKTsxPT09dGhpcy5mb3J3YXJkRSYmKHQ9dC5hZGQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5pbnZlcnNlKCkuZ2V0Rm9yd2FyZCgpLngoLXRoaXMuX3ZlbCkpKSwxPT09dGhpcy5iYWNrd2FyZEUmJih0PXQuYWRkKHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0TWF0cml4KCkuaW52ZXJzZSgpLmdldEZvcndhcmQoKS54KHRoaXMuX3ZlbCkpKSwxPT09dGhpcy5sZWZ0RSYmKHQ9dC5hZGQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5pbnZlcnNlKCkuZ2V0TGVmdCgpLngoLXRoaXMuX3ZlbCkpKSwxPT09dGhpcy5yaWdodEUmJih0PXQuYWRkKHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuZ2V0TWF0cml4KCkuaW52ZXJzZSgpLmdldExlZnQoKS54KHRoaXMuX3ZlbCkpKSwxPT09dGhpcy5iYWNrRSYmKHQ9dC5hZGQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5pbnZlcnNlKCkuZ2V0VXAoKS54KC10aGlzLl92ZWwpKSksMT09PXRoaXMuZnJvbnRFJiYodD10LmFkZCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmludmVyc2UoKS5nZXRVcCgpLngodGhpcy5fdmVsKSkpLHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuc2V0UG9zaXRpb25UYXJnZXQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRQb3NpdGlvblRhcmdldCgpLmFkZCh0KSksdGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5zZXRQb3NpdGlvbkdvYWwodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRQb3NpdGlvbkdvYWwoKS5hZGQodCkpfX0se2tleTpcInVwZGF0ZUdvYWxcIix2YWx1ZTpmdW5jdGlvbihlKXsxPT09dGhpcy5taWRkbGVCdXR0b24/XCJQQU5cIj09PXRoaXMubWlkZGxlQnV0dG9uQWN0aW9uP3RoaXMubWFrZVBhbihlKTpcIk9SQklUXCI9PT10aGlzLm1pZGRsZUJ1dHRvbkFjdGlvbiYmdGhpcy5tYWtlT3JiaXQoZSk6XCJQQU5cIj09PXRoaXMubGVmdEJ1dHRvbkFjdGlvbj90aGlzLmNvbXBfcHJvamVjdGlvbi5nZXRQcm9qZWN0aW9uKCk9PT11LkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFP3RoaXMubWFrZU9yYml0KGUpOnRoaXMubWFrZVBhbihlKTpcIk9SQklUXCI9PT10aGlzLmxlZnRCdXR0b25BY3Rpb24mJnRoaXMubWFrZU9yYml0KGUpLHRoaXMubGFzdFg9ZS5zY3JlZW5YLHRoaXMubGFzdFk9ZS5zY3JlZW5ZfX0se2tleTpcIm1ha2VQYW5cIix2YWx1ZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRNYXRyaXgoKS5nZXRMZWZ0KCkueCgodGhpcy5sYXN0WC1lLnNjcmVlblgpKiguMDA1KnRoaXMuY29tcF9wcm9qZWN0aW9uLmdldEZvdigpKSksbj10aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldE1hdHJpeCgpLmdldFVwKCkueCgodGhpcy5sYXN0WS1lLnNjcmVlblkpKigtLjAwNSp0aGlzLmNvbXBfcHJvamVjdGlvbi5nZXRGb3YoKSkpLGk9dC5hZGQobi54KC0xKSk7dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5zZXRQb3NpdGlvbkdvYWwodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRQb3NpdGlvbkdvYWwoKS5hZGQoaSkpLHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQuc2V0UG9zaXRpb25UYXJnZXQodGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5nZXRQb3NpdGlvblRhcmdldCgpLmFkZChpKSl9fSx7a2V5OlwibWFrZU9yYml0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7ITE9PT10aGlzLmxvY2tSb3RZJiYodGhpcy5sYXN0WD5lLnNjcmVlblg/dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC55YXcoLjUqLSh0aGlzLmxhc3RYLWUuc2NyZWVuWCkpOnRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQueWF3KC41KihlLnNjcmVlblgtdGhpcy5sYXN0WCkpKSwhMT09PXRoaXMubG9ja1JvdFgmJih0aGlzLmxhc3RZPmUuc2NyZWVuWT90aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnBpdGNoKC41Kih0aGlzLmxhc3RZLWUuc2NyZWVuWSkpOnRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQucGl0Y2goLjUqLShlLnNjcmVlblktdGhpcy5sYXN0WSkpKX19XSksdH0oKTtpLkNvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQ9Yyx0LmV4cG9ydHMuQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldD1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0NvbXBvbmVudC5jbGFzc1wiOjgsXCIuL0NvbnN0YW50c1wiOjE2fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vQ29uc3RhbnRzXCIpLGM9bi5Db21wb25lbnRLZXlib2FyZEV2ZW50cz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7byh0aGlzLHQpO3ZhciBlPXIodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGUudHlwZT11LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuS0VZQk9BUkRfRVZFTlRTLGUubm9kZT1udWxsLGUuZ2w9bnVsbCxlLl9vbmtleWRvd249bnVsbCxlLl9vbmtleXVwPW51bGwsZX1yZXR1cm4gcyh0LGwuQ29tcG9uZW50KSxhKHQsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm5vZGU9ZSx0aGlzLmdsPXR9fSx7a2V5Olwib25rZXlkb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25rZXlkb3duPWV9fSx7a2V5Olwib25rZXl1cFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ua2V5dXA9ZX19XSksdH0oKTtpLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPWMsdC5leHBvcnRzLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPWN9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29uc3RhbnRzXCI6MTZ9XSwxMTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQ29tcG9uZW50TW91c2VFdmVudHM9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbD1lKFwiLi9Db21wb25lbnQuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLkNvbXBvbmVudE1vdXNlRXZlbnRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPXUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5NT1VTRV9FVkVOVFMsZS5ub2RlPW51bGwsZS5nbD1udWxsLGUuX29ubW91c2Vkb3duPW51bGwsZS5fb25tb3VzZXVwPW51bGwsZS5fb25tb3VzZW1vdmU9bnVsbCxlLl9vbm1vdXNld2hlZWw9bnVsbCxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dH19LHtrZXk6XCJvbm1vdXNlZG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ubW91c2Vkb3duPWV9fSx7a2V5Olwib25tb3VzZXVwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25tb3VzZXVwPWV9fSx7a2V5Olwib25tb3VzZW1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbm1vdXNlbW92ZT1lfX0se2tleTpcIm9ubW91c2V3aGVlbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ubW91c2V3aGVlbD1lfX1dKSx0fSgpO2kuQ29tcG9uZW50TW91c2VFdmVudHM9Yyx0LmV4cG9ydHMuQ29tcG9uZW50TW91c2VFdmVudHM9Y30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db25zdGFudHNcIjoxNn1dLDEyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5Db21wb25lbnRQcm9qZWN0aW9uPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vU3Rvcm1NYXRoLmNsYXNzXCIpLGM9ZShcIi4vQ29uc3RhbnRzXCIpLGQ9bi5Db21wb25lbnRQcm9qZWN0aW9uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPWMuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OLGUubm9kZT1udWxsLGUuZ2w9bnVsbCxlLm1Qcm9qZWN0aW9uTWF0cml4PSRNMTYoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSxlLnByb3k9Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRSxlLl93aWR0aD01MTIsZS5faGVpZ2h0PTUxMixlLl9mb3Y9NDUsZS5fZm92T3J0aG89MjAsZS5fbmVhcj0uMSxlLl9mYXI9MWU0LGUuX25lYXJPcnRobz0tMWU1LGUuX2Zhck9ydGhvPTFlNSxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dCx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX19LHtrZXk6XCJnZXRNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1Qcm9qZWN0aW9uTWF0cml4fX0se2tleTpcImdldFByb2plY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3l9fSx7a2V5Olwic2V0UHJvamVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJveT1lLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfX0se2tleTpcInNldFJlc29sdXRpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX3dpZHRoPWUsdGhpcy5faGVpZ2h0PXQsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9fSx7a2V5OlwiZ2V0UmVzb2x1dGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOnRoaXMuX3dpZHRoLGhlaWdodDp0aGlzLl9oZWlnaHR9fX0se2tleTpcInNldEZvdlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5fZm92PWU6dGhpcy5fZm92T3J0aG89ZSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX19LHtrZXk6XCJnZXRGb3ZcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3k9PT1jLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLlBFUlNQRUNUSVZFP3RoaXMuX2Zvdjp0aGlzLl9mb3ZPcnRob319LHtrZXk6XCJzZXROZWFyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9uZWFyPWU6dGhpcy5fbmVhck9ydGhvPWUsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9fSx7a2V5OlwiZ2V0TmVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5fbmVhcjp0aGlzLl9uZWFyT3J0aG99fSx7a2V5Olwic2V0RmFyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm95PT09Yy5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRT90aGlzLl9mYXI9ZTp0aGlzLl9mYXJPcnRobz1lLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfX0se2tleTpcImdldEZhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5fZmFyOnRoaXMuX2Zhck9ydGhvfX0se2tleTpcInVwZGF0ZVByb2plY3Rpb25NYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5fZm92OnRoaXMuX2Zvdk9ydGhvLHQ9dGhpcy5fd2lkdGgvdGhpcy5faGVpZ2h0O3RoaXMucHJveT09PWMuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkU/dGhpcy5tUHJvamVjdGlvbk1hdHJpeD11LlN0b3JtTTE2LnNldFBlcnNwZWN0aXZlUHJvamVjdGlvbihlLHQsdGhpcy5fbmVhcix0aGlzLl9mYXIpOnRoaXMubVByb2plY3Rpb25NYXRyaXg9dS5TdG9ybU0xNi5zZXRPcnRob2dyYXBoaWNQcm9qZWN0aW9uKC10KmUsdCplLC10KmUsdCplLHRoaXMuX25lYXJPcnRobyx0aGlzLl9mYXJPcnRobyl9fV0pLHR9KCk7aS5Db21wb25lbnRQcm9qZWN0aW9uPWQsdC5leHBvcnRzLkNvbXBvbmVudFByb2plY3Rpb249ZH0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db21wb25lbnQuY2xhc3NcIjo4LFwiLi9Db25zdGFudHNcIjoxNixcIi4vU3Rvcm1NYXRoLmNsYXNzXCI6MjV9XSwxMzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQ29tcG9uZW50VHJhbnNmb3JtPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vQ29uc3RhbnRzXCIpLGM9bi5Db21wb25lbnRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KTt2YXIgZT1yKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnR5cGU9dS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STSxlLm5vZGU9bnVsbCxlLmdsPW51bGwsZS5tTW9kZWxNYXRyaXhfUG9zaXRpb249JE0xNihbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pLGUubU1vZGVsTWF0cml4X1JvdGF0aW9uPSRNMTYoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSxlfXJldHVybiBzKHQsbC5Db21wb25lbnQpLGEodCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubm9kZT1lLHRoaXMuZ2w9dH19LHtrZXk6XCJnZXRNYXRyaXhQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9ufX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gJFYzKFt0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzNdLHRoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbN10sdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVsxMV1dKX19LHtrZXk6XCJnZXRQb3NYXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVszXX19LHtrZXk6XCJnZXRQb3NZXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVs3XX19LHtrZXk6XCJnZXRQb3NaXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVsxMV19fSx7a2V5Olwic2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzNdPWUuZVswXSx0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzddPWUuZVsxXSx0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzExXT1lLmVbMl19fSx7a2V5Olwic2V0UG9zWFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubU1vZGVsTWF0cml4X1Bvc2l0aW9uLmVbM109ZX19LHtrZXk6XCJzZXRQb3NZXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5tTW9kZWxNYXRyaXhfUG9zaXRpb24uZVs3XT1lfX0se2tleTpcInNldFBvc1pcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm1Nb2RlbE1hdHJpeF9Qb3NpdGlvbi5lWzExXT1lfX0se2tleTpcImdldE1hdHJpeFJvdGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXhfUm90YXRpb259fV0pLHR9KCk7aS5Db21wb25lbnRUcmFuc2Zvcm09Yyx0LmV4cG9ydHMuQ29tcG9uZW50VHJhbnNmb3JtPWN9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29uc3RhbnRzXCI6MTZ9XSwxNDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiByKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0PXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vVXRpbHMuY2xhc3NcIiksYz1lKFwiLi9TdG9ybU1hdGguY2xhc3NcIiksZD1lKFwiLi9Db25zdGFudHNcIiksaD1uLkNvbXBvbmVudFRyYW5zZm9ybVRhcmdldD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7byh0aGlzLHQpO3ZhciBlPXIodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGUudHlwZT1kLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNX1RBUkdFVCxlLm5vZGU9bnVsbCxlLmdsPW51bGwsZS5tTW9kZWxNYXRyaXg9JE0xNihbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pLGUudGFyZ2V0RGlzdGFuY2U9NSxlLnBvc2l0aW9uR29hbD0kVjMoWzAsMCxlLnRhcmdldERpc3RhbmNlXSksZS5wb3NpdGlvblRhcmdldD0kVjMoWzAsMCwwXSksZX1yZXR1cm4gcyh0LGwuQ29tcG9uZW50KSxhKHQsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm5vZGU9ZSx0aGlzLmdsPXQsdGhpcy5wZXJmb3JtTWF0cml4KCl9fSx7a2V5OlwiZ2V0TWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTW9kZWxNYXRyaXh9fSx7a2V5Olwic2V0VGFyZ2V0RGlzdGFuY2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnRhcmdldERpc3RhbmNlPWV9fSx7a2V5OlwiZ2V0VGFyZ2V0RGlzdGFuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldERpc3RhbmNlfX0se2tleTpcInNldFBvc2l0aW9uR29hbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucG9zaXRpb25Hb2FsPWUsdGhpcy5wZXJmb3JtTWF0cml4KCl9fSx7a2V5OlwiZ2V0UG9zaXRpb25Hb2FsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbkdvYWx9fSx7a2V5Olwic2V0UG9zaXRpb25UYXJnZXRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnBvc2l0aW9uVGFyZ2V0PWUsdGhpcy5wZXJmb3JtTWF0cml4KCl9fSx7a2V5OlwiZ2V0UG9zaXRpb25UYXJnZXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uVGFyZ2V0fX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uR29hbD0kVjMoWzAsMCx0aGlzLnRhcmdldERpc3RhbmNlXSksdGhpcy5wb3NpdGlvblRhcmdldD0kVjMoWzAsMCwwXSksdGhpcy5wZXJmb3JtTWF0cml4KCl9fSx7a2V5OlwieWF3XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRQb3NpdGlvbkdvYWwoKS5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkpLG49dS5VdGlscy5jYXJ0ZXNpYW5Ub1NwaGVyaWNhbCh0Lm5vcm1hbGl6ZSgpKSxpPXUuVXRpbHMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4obi5yYWRpdXMsbi5sYXQsbi5sbmcrZSk7dGhpcy5zZXRQb3NpdGlvbkdvYWwodGhpcy5nZXRQb3NpdGlvblRhcmdldCgpLmFkZChpLngodGhpcy5nZXRUYXJnZXREaXN0YW5jZSgpKSkpfX0se2tleTpcInBpdGNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRQb3NpdGlvbkdvYWwoKS5zdWJ0cmFjdCh0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkpLG49dS5VdGlscy5jYXJ0ZXNpYW5Ub1NwaGVyaWNhbCh0Lm5vcm1hbGl6ZSgpKSxpPXUuVXRpbHMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4obi5yYWRpdXMsbi5sYXQrZSxuLmxuZyk7dGhpcy5zZXRQb3NpdGlvbkdvYWwodGhpcy5nZXRQb3NpdGlvblRhcmdldCgpLmFkZChpLngodGhpcy5nZXRUYXJnZXREaXN0YW5jZSgpKSkpfX0se2tleTpcInBlcmZvcm1NYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubU1vZGVsTWF0cml4PWMuU3Rvcm1NMTYubWFrZUxvb2tBdCh0aGlzLmdldFBvc2l0aW9uR29hbCgpLmVbMF0sdGhpcy5nZXRQb3NpdGlvbkdvYWwoKS5lWzFdLHRoaXMuZ2V0UG9zaXRpb25Hb2FsKCkuZVsyXSx0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkuZVswXSx0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkuZVsxXSx0aGlzLmdldFBvc2l0aW9uVGFyZ2V0KCkuZVsyXSwwLDEsMCl9fV0pLHR9KCk7aS5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQ9aCx0LmV4cG9ydHMuQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0PWh9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29uc3RhbnRzXCI6MTYsXCIuL1N0b3JtTWF0aC5jbGFzc1wiOjI1LFwiLi9VdGlscy5jbGFzc1wiOjM4fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkNvbXBvbmVudF9HUFU9dm9pZCAwO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7ZShcIndlYmNsZ2xcIik7dmFyIGw9ZShcIi4vQ29tcG9uZW50LmNsYXNzXCIpLHU9ZShcIi4vQ29uc3RhbnRzXCIpLGM9bi5Db21wb25lbnRfR1BVPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCk7dmFyIGU9cih0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gZS50eXBlPXUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5HUFUsZS5ub2RlPW51bGwsZS5nbD1udWxsLGUuZ3B1Zkc9bnVsbCxlLmFyZ3M9e30sZX1yZXR1cm4gcyh0LGwuQ29tcG9uZW50KSxhKHQsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLm5vZGU9ZSx0aGlzLmdsPXR9fSx7a2V5OlwidGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGlja0FyZ3VtZW50cygpLG51bGwhPXRoaXMuZ3B1ZkcmJnRoaXMuZ3B1ZkcucHJvY2Vzc0tlcm5lbHMoKSxudWxsIT10aGlzLmdwdWZHJiZ0aGlzLmdwdWZHLnByb2Nlc3NHcmFwaGljKHZvaWQgMCl9fSx7a2V5Olwic2V0R1BVRm9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzO2Zvcih2YXIgbiBpbiBhcmd1bWVudHNbMV0pe3ZhciBpPW4uc3BsaXQoXCIgXCIpO2lmKG51bGwhPWkmJmkubGVuZ3RoPjEpe3ZhciBvPWlbMV07dGhpcy5hcmdzW29dPXtmbnZhbHVlOmFyZ3VtZW50c1sxXVtuXSx1cGRhdGFibGU6bnVsbCxzcGxpdHM6bnVsbCxvdmVycmlkZURpbWVuc2lvbnM6bnVsbH19YXJndW1lbnRzWzFdW25dPWFyZ3VtZW50c1sxXVtuXSgpfXRoaXMuZ3B1Zkc9bmV3IGZ1bmN0aW9uKCl7cmV0dXJuIGdwdWZvci5hcHBseShlLHQpfX19LHtrZXk6XCJnZXRXZWJDTEdMXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncHVmRy5nZXRXZWJDTEdMKCl9fSx7a2V5OlwiYWRkQXJndW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYXJnc1tlLnNwbGl0KFwiIFwiKVsxXV09e2ZudmFsdWU6dCx1cGRhdGFibGU6bnVsbCxzcGxpdHM6bnVsbCxvdmVycmlkZURpbWVuc2lvbnM6bnVsbH0sdGhpcy5ncHVmRy5hZGRBcmcoZSl9fSx7a2V5Olwic2V0QXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89dGhpcy5ncHVmRy5zZXRBcmcoZSx0KCksbixpKTtyZXR1cm4gdGhpcy5hcmdzW2VdPXtmbnZhbHVlOnQsdXBkYXRhYmxlOm51bGwsc3BsaXRzOm4sb3ZlcnJpZGVEaW1lbnNpb25zOml9LG99fSx7a2V5OlwiZ2V0Q29tcG9uZW50QnVmZmVyQXJnXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmdwdWZHLmdldEdQVUZvckFyZyhlLHQuZ3B1ZkcpLHRoaXMuYXJnc1tlXT17Zm52YWx1ZTpudWxsLHVwZGF0YWJsZTpudWxsLHNwbGl0czpudWxsLG92ZXJyaWRlRGltZW5zaW9uczpudWxsfX19LHtrZXk6XCJnZXRBcmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmdzfX0se2tleTpcImdldEFsbEFyZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdwdWZHLmdldEFsbEFyZ3MoKX19LHtrZXk6XCJnZXRCdWZmZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncHVmRy5fYXJnc1ZhbHVlc319LHtrZXk6XCJzZXRBcmdVcGRhdGFibGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuYXJnc1tlXS51cGRhdGFibGU9dH19LHtrZXk6XCJ0aWNrQXJndW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5hcmdzKWlmKCEwPT09dGhpcy5hcmdzW2VdLnVwZGF0YWJsZSl7dmFyIHQ9dGhpcy5hcmdzW2VdO3RoaXMuZ3B1Zkcuc2V0QXJnKGUsdC5mbnZhbHVlKCksdC5zcGxpdHMsdC5vdmVycmlkZURpbWVuc2lvbnMpfX19XSksdH0oKTtpLkNvbXBvbmVudF9HUFU9Yyx0LmV4cG9ydHMuQ29tcG9uZW50X0dQVT1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0NvbXBvbmVudC5jbGFzc1wiOjgsXCIuL0NvbnN0YW50c1wiOjE2LHdlYmNsZ2w6Nn1dLDE2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4uQ29uc3RhbnRzPXtFVkVOVF9UWVBFUzp7S0VZX0RPV046MCxLRVlfVVA6MSxNT1VTRV9ET1dOOjIsTU9VU0VfVVA6MyxNT1VTRV9NT1ZFOjQsTU9VU0VfV0hFRUw6NX0sQ09NUE9ORU5UX1RZUEVTOntLRVlCT0FSRF9FVkVOVFM6MCxNT1VTRV9FVkVOVFM6MSxUUkFOU0ZPUk06MixUUkFOU0ZPUk1fVEFSR0VUOjMsQ09OVFJPTExFUl9UUkFOU0ZPUk1fVEFSR0VUOjQsUFJPSkVDVElPTjo1LEdQVTo2fSxQUk9KRUNUSU9OX1RZUEVTOntQRVJTUEVDVElWRTowLE9SVEhPOjF9LFZJRVdfVFlQRVM6e0xFRlQ6MCxSSUdIVDoxLEZST05UOjIsQkFDSzozLFRPUDo0LEJPVFRPTTo1fSxCTEVORElOR19NT0RFUzp7WkVSTzpcIlpFUk9cIixPTkU6XCJPTkVcIixTUkNfQ09MT1I6XCJTUkNfQ09MT1JcIixPTkVfTUlOVVNfU1JDX0NPTE9SOlwiT05FX01JTlVTX1NSQ19DT0xPUlwiLERTVF9DT0xPUjpcIkRTVF9DT0xPUlwiLE9ORV9NSU5VU19EU1RfQ09MT1I6XCJPTkVfTUlOVVNfRFNUX0NPTE9SXCIsU1JDX0FMUEhBOlwiU1JDX0FMUEhBXCIsT05FX01JTlVTX1NSQ19BTFBIQTpcIk9ORV9NSU5VU19TUkNfQUxQSEFcIixEU1RfQUxQSEE6XCJEU1RfQUxQSEFcIixPTkVfTUlOVVNfRFNUX0FMUEhBOlwiT05FX01JTlVTX0RTVF9BTFBIQVwiLFNSQ19BTFBIQV9TQVRVUkFURTpcIlNSQ19BTFBIQV9TQVRVUkFURVwiLENPTlNUQU5UX0NPTE9SOlwiQ09OU1RBTlRfQ09MT1JcIixPTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1I6XCJPTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1JcIixDT05TVEFOVF9BTFBIQTpcIkNPTlNUQU5UX0FMUEhBXCIsT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBOlwiT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBXCJ9LEJMRU5ESU5HX0VRVUFUSU9OX1RZUEVTOntGVU5DX0FERDpcIkZVTkNfQUREXCIsRlVOQ19TVUJUUkFDVDpcIkZVTkNfU1VCVFJBQ1RcIixGVU5DX1JFVkVSU0VfU1VCVFJBQ1Q6XCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1RcIn0sRFJBV19NT0RFUzp7UE9JTlRTOjAsTElORVM6MSxMSU5FX0xPT1A6MixMSU5FX1NUUklQOjMsVFJJQU5HTEVTOjQsVFJJQU5HTEVfU1RSSVA6NSxUUklBTkdMRV9GQU46Nn19O2UuQ29uc3RhbnRzPWksdC5leHBvcnRzLkNvbnN0YW50cz1pfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5NZXNoPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vVXRpbHMuY2xhc3NcIiksYT1uLk1lc2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7byh0aGlzLGUpLHRoaXMuX29iaj17fSx0aGlzLl90ZXh0dXJlcz17fSx0aGlzLm9iakluZGV4PW51bGwsdGhpcy5pbmRleE1heD0wfXJldHVybiByKGUsW3trZXk6XCJsb2FkUG9pbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmoudmVydGV4QXJyYXk9WzAsMCwwLDBdLHRoaXMuX29iai5ub3JtYWxBcnJheT1bMCwxLDAsMF0sdGhpcy5fb2JqLnRleHR1cmVBcnJheT1bMCwwLDAsMF0sdGhpcy5fb2JqLnRleHR1cmVVbml0QXJyYXk9WzBdLHRoaXMuX29iai5pbmRleEFycmF5PVswXSx0aGlzLl9vYmp9fSx7a2V5OlwibG9hZFRyaWFuZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5zY2FsZT9lLnNjYWxlOjEsbj12b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnNpZGU/ZS5zaWRlOjE7cmV0dXJuIHRoaXMuX29iai52ZXJ0ZXhBcnJheT1bMCwwLDAsMSxuLzIqdCwwLC0xKnQsMSwtbi8yKnQsMCwtMSp0LDFdLHRoaXMuX29iai5ub3JtYWxBcnJheT1bMCwwLDEsMSwwLDAsMSwxLDAsMCwxLDFdLHRoaXMuX29iai50ZXh0dXJlQXJyYXk9WzAsMCwwLDEsMSwwLDAsMSwxLDEsMCwxXSx0aGlzLl9vYmoudGV4dHVyZVVuaXRBcnJheT1bMCwwLDBdLHRoaXMuX29iai5pbmRleEFycmF5PVswLDEsMl0sdGhpcy5fb2JqfX0se2tleTpcImxvYWRRdWFkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj12b2lkIDA9PT1lPy41OmUsaT12b2lkIDA9PT10Py41OnQ7cmV0dXJuIHRoaXMuX29iaj17fSx0aGlzLl9vYmoudmVydGV4QXJyYXk9Wy1uLC1pLDAsMSxuLC1pLDAsMSxuLGksMCwxLC1uLGksMCwxXSx0aGlzLl9vYmoubm9ybWFsQXJyYXk9WzAsMCwxLDEsMCwwLDEsMSwwLDAsMSwxLDAsMCwxLDFdLHRoaXMuX29iai50ZXh0dXJlQXJyYXk9WzAsMCwwLDEsMSwwLDAsMSwxLDEsMCwxLDAsMSwwLDFdLHRoaXMuX29iai50ZXh0dXJlVW5pdEFycmF5PVswLDAsMCwwXSx0aGlzLl9vYmouaW5kZXhBcnJheT1bMCwxLDIsMCwyLDNdLHRoaXMuX29ian19LHtrZXk6XCJsb2FkQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JqPXt2ZXJ0ZXhBcnJheTpbXSxub3JtYWxBcnJheTpbXSx0ZXh0dXJlQXJyYXk6W10sdGV4dHVyZVVuaXRBcnJheTpbXSxpbmRleEFycmF5OltdfSx0aGlzLm9iakluZGV4PVtdLHRoaXMuaW5kZXhNYXg9MDtmb3IodmFyIHQ9dm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5zZWdtZW50cz9lLnNlZ21lbnRzOjYsbj12b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnJhZGl1cz9lLnJhZGl1czouNSxpPTM2MC90LG89MzYwL2kscj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5jb3MoKG5ldyBzLlV0aWxzKS5kZWdUb1JhZChlKSl9LmJpbmQodGhpcyksYT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5zaW4oKG5ldyBzLlV0aWxzKS5kZWdUb1JhZChlKSl9LmJpbmQodGhpcyksbD0xLHU9bztsPD11O2wrKyl7dmFyIGM9aSpsLGQ9JFYzKFtyKGMpKm4sMCxhKGMpKm5dKSxoPSRWMyhbcihjLWkpKm4sMCxhKGMtaSkqbl0pLGY9JFYzKFswLDAsMF0pLHA9aC5zdWJ0cmFjdChkKS5jcm9zcyhmLnN1YnRyYWN0KGQpKS5ub3JtYWxpemUoKSxnPSRWMyhbYy8zNjAsMCwwXSksdj0kVjMoWyhjLWkpLzM2MCwwLDBdKSxfPSRWMyhbMCwwLDBdKSxtPXRoaXMudGVzdElmSW5JbmRpY2VzKHRoaXMuX29iaixkLHAsZykseT10aGlzLnRlc3RJZkluSW5kaWNlcyh0aGlzLl9vYmosaCxwLHYpLGI9dGhpcy50ZXN0SWZJbkluZGljZXModGhpcy5fb2JqLGYscCxfKTt0aGlzLl9vYmouaW5kZXhBcnJheS5wdXNoKG0seSxiKX1yZXR1cm4gdGhpcy5fb2JqfX0se2tleTpcInRlc3RJZkluSW5kaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe2Zvcih2YXIgbz12b2lkIDAscj0wLHM9dGhpcy5vYmpJbmRleC5sZW5ndGg7cjxzO3IrKyl0aGlzLm9iakluZGV4W3JdLnYuZVswXT09PXQuZVswXSYmdGhpcy5vYmpJbmRleFtyXS52LmVbMV09PT10LmVbMV0mJnRoaXMub2JqSW5kZXhbcl0udi5lWzJdPT09dC5lWzJdJiYobz10aGlzLm9iakluZGV4W3JdLmkpO3JldHVybiB2b2lkIDA9PT1vJiYobz10aGlzLmluZGV4TWF4LHRoaXMub2JqSW5kZXgucHVzaCh7aTpvLHY6JFYzKFt0LmVbMF0sdC5lWzFdLHQuZVsyXV0pfSksdGhpcy5pbmRleE1heCsrLGUudmVydGV4QXJyYXkucHVzaCh0LmVbMF0sdC5lWzFdLHQuZVsyXSwxKSxlLm5vcm1hbEFycmF5LnB1c2gobi5lWzBdLG4uZVsxXSxuLmVbMl0sMSksZS50ZXh0dXJlQXJyYXkucHVzaCh0LmVbMF0rLjUsdC5lWzJdKy41LHQuZVsyXSsuNSwxKSxlLnRleHR1cmVVbml0QXJyYXkucHVzaCgwKSksb319LHtrZXk6XCJsb2FkQm94XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9vYmo9e307dmFyIGU9bmV3IEZsb2F0MzJBcnJheShbLjUsLjUsLjVdKTtyZXR1cm4gdGhpcy5fb2JqLnZlcnRleEFycmF5PVstMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsMSplWzBdLDEqZVsxXSwxKmVbMl0sMSwtMSplWzBdLDEqZVsxXSwxKmVbMl0sMSwtMSplWzBdLC0xKmVbMV0sLTEqZVsyXSwxLC0xKmVbMF0sMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sLTEqZVsxXSwtMSplWzJdLDEsLTEqZVswXSwxKmVbMV0sLTEqZVsyXSwxLC0xKmVbMF0sMSplWzFdLDEqZVsyXSwxLDEqZVswXSwxKmVbMV0sMSplWzJdLDEsMSplWzBdLDEqZVsxXSwtMSplWzJdLDEsLTEqZVswXSwtMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sLTEqZVsxXSwtMSplWzJdLDEsMSplWzBdLC0xKmVbMV0sMSplWzJdLDEsLTEqZVswXSwtMSplWzFdLDEqZVsyXSwxLDEqZVswXSwtMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sMSplWzFdLC0xKmVbMl0sMSwxKmVbMF0sMSplWzFdLDEqZVsyXSwxLDEqZVswXSwtMSplWzFdLDEqZVsyXSwxLC0xKmVbMF0sLTEqZVsxXSwtMSplWzJdLDEsLTEqZVswXSwtMSplWzFdLDEqZVsyXSwxLC0xKmVbMF0sMSplWzFdLDEqZVsyXSwxLC0xKmVbMF0sMSplWzFdLC0xKmVbMl0sMV0sdGhpcy5fb2JqLm5vcm1hbEFycmF5PVswLDAsMSwxLDAsMCwxLDEsMCwwLDEsMSwwLDAsMSwxLDAsMCwtMSwxLDAsMCwtMSwxLDAsMCwtMSwxLDAsMCwtMSwxLDAsMSwwLDEsMCwxLDAsMSwwLDEsMCwxLDAsMSwwLDEsMCwtMSwwLDEsMCwtMSwwLDEsMCwtMSwwLDEsMCwtMSwwLDEsMSwwLDAsMSwxLDAsMCwxLDEsMCwwLDEsMSwwLDAsMSwtMSwwLDAsMSwtMSwwLDAsMSwtMSwwLDAsMSwtMSwwLDAsMV0sdGhpcy5fb2JqLnRleHR1cmVBcnJheT1bMCwwLDAsMSwxLDAsMCwxLDEsMSwwLDEsMCwxLDAsMSwxLDAsMCwxLDEsMSwwLDEsMCwxLDAsMSwwLDAsMCwxLDAsMSwwLDEsMCwwLDAsMSwxLDAsMCwxLDEsMSwwLDEsMSwxLDAsMSwwLDEsMCwxLDAsMCwwLDEsMSwwLDAsMSwxLDAsMCwxLDEsMSwwLDEsMCwxLDAsMSwwLDAsMCwxLDAsMCwwLDEsMSwwLDAsMSwxLDEsMCwxLDAsMSwwLDFdLHRoaXMuX29iai50ZXh0dXJlVW5pdEFycmF5PVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sdGhpcy5fb2JqLmluZGV4QXJyYXk9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXSx0aGlzLl9vYmp9fSx7a2V5OlwibG9hZE9ialwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVwiXCIsaT1lLnNwbGl0KFwiL1wiKSxvPTAscj1pLmxlbmd0aC0xO288cjtvKyspbj1uK2lbb10rXCIvXCI7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbihcIkdFVFwiLGUsITApLHMucmVzcG9uc2VUeXBlPVwiYmxvYlwiLHMub25sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBGaWxlUmVhZGVyO3Qub25sb2FkPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC50YXJnZXQucmVzdWx0O3RoaXMubG9hZE9iakZyb21Tb3VyY2VUZXh0KHtzb3VyY2VUZXh0Omksb2JqRGlyZWN0b3J5Om59KSx2b2lkIDAhPT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKHRoaXMuX29iaix0aGlzLl90ZXh0dXJlcyl9LmJpbmQodGhpcyxlKSx0LnJlYWRBc1RleHQocy5yZXNwb25zZSl9LmJpbmQodGhpcyx0KSxzLnNlbmQobnVsbCl9fSx7a2V5OlwibG9hZE9iakZyb21Tb3VyY2VUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb2JqPXt9LHRoaXMuX3RleHR1cmVzPXt9O3ZhciB0PXZvaWQgMCxuPXZvaWQgMDt0PXZvaWQgMCE9PWUuc291cmNlVGV4dD9lLnNvdXJjZVRleHQ6dm9pZCAwLG49dm9pZCAwIT09ZS5vYmpEaXJlY3Rvcnk/ZS5vYmpEaXJlY3Rvcnk6dm9pZCAwO3ZhciBpPXQuc3BsaXQoXCJcXHJcXG5cIik7aWYoMT09PWkubGVuZ3RoJiYoaT10LnNwbGl0KFwiXFxuXCIpKSxudWxsIT1pWzBdLm1hdGNoKC9PQkovZ2ltKSl7dmFyIG89W10scj1bXSxzPVtdLGE9W10sbD1bXSx1PVtdLGM9W10sZD1bXSxoPVtdLGY9W10scD0wLGc9W10sdj0wLF89MCxtPSExLHk9W10sYj1bXSxFPVtdLEM9W10sVD1bXSx4PVtdLFA9W10sdz1bXSxMPVtdLFM9MCxBPTAsaz0wLE09W10sUj0wLE49e30sVT1bLTEsMF07Ti5fdW5uYW1lZD1VO2Zvcih2YXIgTz1cIlwiLEk9XCJcIixEPTAsRz1pLmxlbmd0aDtEPEc7RCsrKXt2YXIgRj1pW0RdLnJlcGxhY2UoL1xcdCsvZ2ksXCIgXCIpLnJlcGxhY2UoL1xccyskL2dpLFwiXCIpLnJlcGxhY2UoL1xccysvZ2ksXCIgXCIpO2lmKFwiI1wiIT09RlswXSl7dmFyIEI9Ri5zcGxpdChcIiBcIik7aWYoXCJtdGxsaWJcIj09PUJbMF0mJihPPUJbMV0pLFwiZ1wiPT09QlswXSYmKFU9W2cubGVuZ3RoLDBdLE5bQlsxXV09VSksXCJ2XCI9PT1CWzBdJiYoeVtTXT1wYXJzZUZsb2F0KEJbMV0pLGJbU109cGFyc2VGbG9hdChCWzJdKSxFW1NdPXBhcnNlRmxvYXQoQlszXSksUysrKSxcInZuXCI9PT1CWzBdJiYoQ1tBXT1wYXJzZUZsb2F0KEJbMV0pLFRbQV09cGFyc2VGbG9hdChCWzJdKSx4W0FdPXBhcnNlRmxvYXQoQlszXSksQSsrKSxcInZ0XCI9PT1CWzBdJiYoUFtrXT1wYXJzZUZsb2F0KEJbMV0pLHdba109cGFyc2VGbG9hdChCWzJdKSxMW2tdPXBhcnNlRmxvYXQoQlszXSksaysrKSxcInVzZW10bFwiPT09QlswXSYmKEk9QlsxXSx0aGlzLl90ZXh0dXJlc1twXT17ZmlsZVVybDpuK08sbWF0ZXJpYWxOYW1lOkl9LHArKyksXCJmXCI9PT1CWzBdKXs0IT09Qi5sZW5ndGgmJmNvbnNvbGUubG9nKFwiKioqIEVycm9yOiBmYWNlICdcIitGK1wiJyBub3QgaGFuZGxlZFwiKTtmb3IodmFyIFc9MTtXPDQ7KytXKXttPSEwO3ZhciBWPUJbV10uc3BsaXQoXCIvXCIpO2lmKHZvaWQgMD09PU1bQltXXV0pe3ZhciBqPXZvaWQgMCxZPXZvaWQgMCxIPXZvaWQgMDtpZigxPT09Vi5sZW5ndGgpWT1qPXBhcnNlSW50KFZbMF0pLTEsSD1qO2Vsc2V7aWYoMyE9PVYubGVuZ3RoKXJldHVybiBudWxsO2o9cGFyc2VJbnQoVlswXSktMSxIPXBhcnNlSW50KFZbMV0pLTEsWT1wYXJzZUludChWWzJdKS0xfWZbdl09cC0xLG9bdl09MCxyW3ZdPTAsc1t2XT0wLGo8RS5sZW5ndGgmJihvW3ZdPXlbal0sclt2XT1iW2pdLHNbdl09RVtqXSksY1t2XT0wLGRbdl09MCxoW3ZdPTAsSDxMLmxlbmd0aCYmKGNbdl09UFtIXSxkW3ZdPXdbSF0saFt2XT1MW0hdKSxhW3ZdPTAsbFt2XT0wLHVbdl09MSxZPHgubGVuZ3RoJiYoYVt2XT1DW1ldLGxbdl09VFtZXSx1W3ZdPXhbWV0pLHYrKyxNW0JbV11dPVIsUisrfWdbX109TVtCW1ddXSxfKyssVVsxXSsrfX19fWlmKCEwPT09bSl7dGhpcy5fb2JqLnZlcnRleEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoNCpvLmxlbmd0aCk7Zm9yKHZhciBYPTAsej1vLmxlbmd0aDtYPHo7WCsrKXt2YXIgSz00Klg7dGhpcy5fb2JqLnZlcnRleEFycmF5W0tdPW9bWF0sdGhpcy5fb2JqLnZlcnRleEFycmF5W0srMV09cltYXSx0aGlzLl9vYmoudmVydGV4QXJyYXlbSysyXT1zW1hdLHRoaXMuX29iai52ZXJ0ZXhBcnJheVtLKzNdPTF9dGhpcy5fb2JqLm5vcm1hbEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoNCphLmxlbmd0aCk7Zm9yKHZhciBxPTAsJD1hLmxlbmd0aDtxPCQ7cSsrKXt2YXIgWj00KnE7dGhpcy5fb2JqLm5vcm1hbEFycmF5W1pdPWFbcV0sdGhpcy5fb2JqLm5vcm1hbEFycmF5W1orMV09bFtxXSx0aGlzLl9vYmoubm9ybWFsQXJyYXlbWisyXT11W3FdLHRoaXMuX29iai5ub3JtYWxBcnJheVtaKzNdPTF9dGhpcy5fb2JqLnRleHR1cmVBcnJheT1uZXcgRmxvYXQzMkFycmF5KDQqYy5sZW5ndGgpO2Zvcih2YXIgUT0wLEo9Yy5sZW5ndGg7UTxKO1ErKyl7dmFyIGVlPTQqUTt0aGlzLl9vYmoudGV4dHVyZUFycmF5W2VlXT1jW1FdLHRoaXMuX29iai50ZXh0dXJlQXJyYXlbZWUrMV09ZFtRXSx0aGlzLl9vYmoudGV4dHVyZUFycmF5W2VlKzJdPWhbUV0sdGhpcy5fb2JqLnRleHR1cmVBcnJheVtlZSszXT0xfXRoaXMuX29iai50ZXh0dXJlVW5pdEFycmF5PWYsdGhpcy5fb2JqLmluZGV4QXJyYXk9Z319ZWxzZSBhbGVydChcIk5vdCBPQkogZmlsZVwiKX19XSksZX0oKTtpLk1lc2g9YSx0LmV4cG9ydHMuTWVzaD1hfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL1V0aWxzLmNsYXNzXCI6Mzh9XSwxODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9bi5Ob2RlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2kodGhpcyxlKSx0aGlzLl9jb21wb25lbnRzPXt9LHRoaXMuX25hbWU9bnVsbCx0aGlzLl9nbD1udWxsLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5vblRpY2s9bnVsbH1yZXR1cm4gbyhlLFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fbmFtZT1lLHRoaXMuX2dsPXR9fSx7a2V5OlwiYWRkQ29tcG9uZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fY29tcG9uZW50c1tlLnR5cGVdPWUsdGhpcy5fY29tcG9uZW50c1tlLnR5cGVdLmluaXRpYWxpemUodGhpcyx0aGlzLl9nbCl9fSx7a2V5OlwiZ2V0Q29tcG9uZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHNbZV19fSx7a2V5OlwiZ2V0Q29tcG9uZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHN9fSx7a2V5Olwic2V0RW5hYmxlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZWQ9ZX19LHtrZXk6XCJpc0VuYWJsZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfX0se2tleTpcInNldE5hbWVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9uYW1lPWV9fSx7a2V5OlwiZ2V0TmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hbWV9fV0pLGV9KCk7ZS5Ob2RlPXIsdC5leHBvcnRzLk5vZGU9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDE5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uR3JpZD12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuLi8uLi9VdGlscy5jbGFzc1wiKSxhPWUoXCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIiksbD1lKFwiLi4vLi4vQ29tcG9uZW50X0dQVS5jbGFzc1wiKSx1PWUoXCIuLi8uLi9NZXNoLmNsYXNzXCIpLGM9ZShcIi4uLy4uL0NvbnN0YW50c1wiKSxkPW4uR3JpZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7byh0aGlzLGUpLHRoaXMuX3NjZT10LHRoaXMuX3Byb2plY3Q9dGhpcy5fc2NlLmdldExvYWRlZFByb2plY3QoKSx0aGlzLl9nbD10aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0V2ViR0xDb250ZXh0KCksdGhpcy5fdXRpbHM9bmV3IHMuVXRpbHMsdGhpcy5ub2RlPW5ldyBOb2RlLHRoaXMubm9kZS5zZXROYW1lKFwiZ3JpZFwiKSx0aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuYWRkTm9kZSh0aGlzLm5vZGUpLHRoaXMubWVzaD0obmV3IHUuTWVzaCkubG9hZEJveCgpLHRoaXMuY29tcF90cmFuc2Zvcm09bmV3IGEuQ29tcG9uZW50VHJhbnNmb3JtLHRoaXMubm9kZS5hZGRDb21wb25lbnQodGhpcy5jb21wX3RyYW5zZm9ybSksdGhpcy5jb21wX3JlbmRlcmVyPW5ldyBsLkNvbXBvbmVudF9HUFUsdGhpcy5ub2RlLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfcmVuZGVyZXIpLHRoaXMuZ3JpZENvbG9yPSRWMyhbLjMsLjMsLjNdKX1yZXR1cm4gcihlLFt7a2V5OlwiZ2VuZXJhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuZ3JpZEVuYWJsZWQ9ITAsdGhpcy5zaXplPXZvaWQgMCE9PWUmJm51bGwhPT1lP2U6dGhpcy5zaXplLHRoaXMuc2VwYXJhdGlvbj12b2lkIDAhPT10JiZudWxsIT09dD90OnRoaXMuc2VwYXJhdGlvbix0aGlzLmNvdW50TGluZXM9dGhpcy5zaXplL3RoaXMuc2VwYXJhdGlvbisxLHRoaXMuY291bnRMaW5lcyo9Mjt2YXIgbj0tdGhpcy5zaXplLzIsaT10aGlzLnNpemUvMixvPS10aGlzLnNpemUvMixyPXRoaXMuc2l6ZS8yLHM9bixhPW8sbD1bXSx1PVtdLGQ9W107dGhpcy5pZD0wO2Zvcih2YXIgaD0wLGY9dGhpcy5jb3VudExpbmVzO2g8ZjtoKyspYTw9cj8obC5wdXNoKG4sMCxhLDEsaSwwLGEsMSksYSs9dGhpcy5zZXBhcmF0aW9uKToobC5wdXNoKHMsMCxvLDEscywwLHIsMSkscys9dGhpcy5zZXBhcmF0aW9uKSx1LnB1c2godGhpcy5ncmlkQ29sb3IuZVswXSx0aGlzLmdyaWRDb2xvci5lWzFdLHRoaXMuZ3JpZENvbG9yLmVbMl0sMSx0aGlzLmdyaWRDb2xvci5lWzBdLHRoaXMuZ3JpZENvbG9yLmVbMV0sdGhpcy5ncmlkQ29sb3IuZVsyXSwxKSxkLnB1c2godGhpcy5pZCx0aGlzLmlkKzEpLHRoaXMuaWQrPTI7bC5wdXNoKDAsMCwwLDEsMTAsMCwwLDEpLHUucHVzaCgxLDAsMCwxLDEsMCwwLDEpLGQucHVzaCh0aGlzLmlkLHRoaXMuaWQrMSksdGhpcy5pZCs9MixsLnB1c2goMCwwLDAsMSwwLDEwLDAsMSksdS5wdXNoKDAsMSwwLDEsMCwxLDAsMSksZC5wdXNoKHRoaXMuaWQsdGhpcy5pZCsxKSx0aGlzLmlkKz0yLGwucHVzaCgwLDAsMCwxLDAsMCwxMCwxKSx1LnB1c2goMCwwLDEsMSwwLDAsMSwxKSxkLnB1c2godGhpcy5pZCx0aGlzLmlkKzEpLHRoaXMuY29tcF9yZW5kZXJlci5zZXRHUFVGb3IodGhpcy5jb21wX3JlbmRlcmVyLmdsLHtcImZsb2F0NCphdHRyIHZlcnRleFBvc1wiOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LmJpbmQodGhpcyksXCJmbG9hdDQqYXR0ciB2ZXJ0ZXhDb2xvclwiOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LmJpbmQodGhpcyksaW5kaWNlczpmdW5jdGlvbigpe3JldHVybiBkfS5iaW5kKHRoaXMpLFwibWF0NCBQTWF0cml4XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudChjLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTikuZ2V0TWF0cml4KCkudHJhbnNwb3NlKCkuZX0uYmluZCh0aGlzKSxcIm1hdDQgY2FtZXJhV01hdHJpeFwiOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRBY3RpdmVDYW1lcmEoKS5nZXRDb21wb25lbnQoYy5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STV9UQVJHRVQpLmdldE1hdHJpeCgpLnRyYW5zcG9zZSgpLmV9LmJpbmQodGhpcyksXCJtYXQ0IG5vZGVXTWF0cml4XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmdldENvbXBvbmVudChjLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuVFJBTlNGT1JNKS5nZXRNYXRyaXhQb3NpdGlvbigpLnRyYW5zcG9zZSgpLmV9LmJpbmQodGhpcyl9LHt0eXBlOlwiR1JBUEhJQ1wiLGNvbmZpZzpbW1wiUkdCXCJdLFwidmFyeWluZyB2ZWM0IHZWQztcXG5cIixcInZlYzQgdnAgPSB2ZXJ0ZXhQb3NbXTtcXG52ZWM0IHZjID0gdmVydGV4Q29sb3JbXTtcXG52VkMgPSB2YztnbF9Qb3NpdGlvbiA9IFBNYXRyaXggKiBjYW1lcmFXTWF0cml4ICogbm9kZVdNYXRyaXggKiB2cDtcXG5cIixcInZhcnlpbmcgdmVjNCB2VkM7XFxuXCIsXCJyZXR1cm4gW3ZWQ107XFxuXCJdLGRyYXdNb2RlOjEsZGVwdGhUZXN0OiEwLGJsZW5kOiEwLGJsZW5kRXF1YXRpb246Yy5Db25zdGFudHMuQkxFTkRJTkdfRVFVQVRJT05fVFlQRVMuRlVOQ19BREQsYmxlbmRTcmNNb2RlOmMuQ29uc3RhbnRzLkJMRU5ESU5HX01PREVTLlNSQ19BTFBIQSxibGVuZERzdE1vZGU6Yy5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuT05FX01JTlVTX1NSQ19BTFBIQX0pLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJQTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJjYW1lcmFXTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJub2RlV01hdHJpeFwiLCEwKSx0aGlzLmNvbXBfcmVuZGVyZXIuZ2V0Q29tcG9uZW50QnVmZmVyQXJnKFwiUkdCXCIsdGhpcy5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudChjLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVKSl9fV0pLGV9KCk7aS5HcmlkPWQsdC5leHBvcnRzLkdyaWQ9ZH0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vLi4vQ29tcG9uZW50VHJhbnNmb3JtLmNsYXNzXCI6MTMsXCIuLi8uLi9Db21wb25lbnRfR1BVLmNsYXNzXCI6MTUsXCIuLi8uLi9Db25zdGFudHNcIjoxNixcIi4uLy4uL01lc2guY2xhc3NcIjoxNyxcIi4uLy4uL1V0aWxzLmNsYXNzXCI6Mzh9XSwyMDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlNpbXBsZUNhbWVyYT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIiksYT1lKFwiLi4vLi4vQ29tcG9uZW50UHJvamVjdGlvbi5jbGFzc1wiKSxsPWUoXCIuLi8uLi9Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCIpLHU9ZShcIi4uLy4uL0NvbXBvbmVudF9HUFUuY2xhc3NcIiksYz1lKFwiLi4vLi4vQ29tcG9uZW50S2V5Ym9hcmRFdmVudHMuY2xhc3NcIiksZD1lKFwiLi4vLi4vQ29tcG9uZW50TW91c2VFdmVudHMuY2xhc3NcIiksaD1lKFwiLi4vLi4vTm9kZS5jbGFzc1wiKSxmPWUoXCIuLi8uLi9Db25zdGFudHNcIikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXt2YXIgaT10aGlzO28odGhpcyxlKTt2YXIgcj10LHA9ci5nZXRMb2FkZWRQcm9qZWN0KCk7dGhpcy5fb25rZXlkb3duPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25rZXlkb3duJiZudWxsIT09bi5vbmtleWRvd24/bi5vbmtleWRvd246bnVsbCx0aGlzLl9vbmtleXVwPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25rZXl1cCYmbnVsbCE9PW4ub25rZXl1cD9uLm9ua2V5dXA6bnVsbCx0aGlzLl9vbm1vdXNlZG93bj12b2lkIDAhPT1uJiZ2b2lkIDAhPT1uLm9ubW91c2Vkb3duJiZudWxsIT09bi5vbm1vdXNlZG93bj9uLm9ubW91c2Vkb3duOm51bGwsdGhpcy5fb25tb3VzZXVwPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25tb3VzZXVwJiZudWxsIT09bi5vbm1vdXNldXA/bi5vbm1vdXNldXA6bnVsbCx0aGlzLl9vbm1vdXNlbW92ZT12b2lkIDAhPT1uJiZ2b2lkIDAhPT1uLm9ubW91c2Vtb3ZlJiZudWxsIT09bi5vbm1vdXNlbW92ZT9uLm9ubW91c2Vtb3ZlOm51bGwsdGhpcy5fb25tb3VzZXdoZWVsPXZvaWQgMCE9PW4mJnZvaWQgMCE9PW4ub25tb3VzZXdoZWVsJiZudWxsIT09bi5vbm1vdXNld2hlZWw/bi5vbm1vdXNld2hlZWw6bnVsbCx0aGlzLl91c2VBbHRLZXk9ITAsdGhpcy5hbHRLZXlQcmVzc2VkPSExLHRoaXMuX3ByZXZlbnRNb3ZlPSExLHRoaXMuY2FtZXJhPW5ldyBoLk5vZGUsdGhpcy5jYW1lcmEuc2V0TmFtZShcInNpbXBsZSBjYW1lcmFcIikscC5nZXRBY3RpdmVTdGFnZSgpLmFkZE5vZGUodGhpcy5jYW1lcmEpLHAuZ2V0QWN0aXZlU3RhZ2UoKS5zZXRBY3RpdmVDYW1lcmEodGhpcy5jYW1lcmEpLHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQ9bmV3IHMuQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0LHRoaXMuY2FtZXJhLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0KSx0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnNldFRhcmdldERpc3RhbmNlKC41KSx0aGlzLmNvbXBfcHJvamVjdGlvbj1uZXcgYS5Db21wb25lbnRQcm9qZWN0aW9uLHRoaXMuY2FtZXJhLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfcHJvamVjdGlvbiksdGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQ9bmV3IGwuQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldCx0aGlzLmNhbWVyYS5hZGRDb21wb25lbnQodGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQpLHRoaXMuY29tcF9zY3JlZW5FZmZlY3RzPW5ldyB1LkNvbXBvbmVudF9HUFUsdGhpcy5jYW1lcmEuYWRkQ29tcG9uZW50KHRoaXMuY29tcF9zY3JlZW5FZmZlY3RzKSx0aGlzLmNvbXBfc2NyZWVuRWZmZWN0cy5zZXRHUFVGb3IodGhpcy5jb21wX3NjcmVlbkVmZmVjdHMuZ2wse1wiZmxvYXQ0KiBSR0JcIjpmdW5jdGlvbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHIuZ2V0Q2FudmFzKCkud2lkdGgqci5nZXRDYW52YXMoKS53aWR0aCo0KX19LHt0eXBlOlwiS0VSTkVMXCIsbmFtZTpcIkNBTUVSQV9SR0JfS0VSTkVMXCIsdmlld1NvdXJjZTohMSxjb25maWc6W1wiblwiLHZvaWQgMCxcIlwiLFwidmVjNCBjb2xvciA9IFJHQltuXTtcXG5yZXR1cm4gY29sb3I7XFxuXCJdLGRyYXdNb2RlOjQsZGVwdGhUZXN0OiExLGJsZW5kOiExLGJsZW5kRXF1YXRpb246Zi5Db25zdGFudHMuQkxFTkRJTkdfRVFVQVRJT05fVFlQRVMuRlVOQ19BREQsYmxlbmRTcmNNb2RlOmYuQ29uc3RhbnRzLkJMRU5ESU5HX01PREVTLk9ORSxibGVuZERzdE1vZGU6Zi5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuWkVST30pLHRoaXMuY29tcF9zY3JlZW5FZmZlY3RzLmdwdWZHLm9uUG9zdFByb2Nlc3NLZXJuZWwoMCxmdW5jdGlvbigpe30pLHRoaXMuY29tcF9rZXlib2FyZEV2ZW50cz1uZXcgYy5Db21wb25lbnRLZXlib2FyZEV2ZW50cyx0aGlzLmNhbWVyYS5hZGRDb21wb25lbnQodGhpcy5jb21wX2tleWJvYXJkRXZlbnRzKSx0aGlzLmNvbXBfa2V5Ym9hcmRFdmVudHMub25rZXlkb3duKGZ1bmN0aW9uKGUpe3ZhciB0PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKTtcIldcIj09PXQmJmkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmZvcndhcmQoKSxcIlNcIj09PXQmJmkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmJhY2t3YXJkKCksXCJBXCIhPT10JiZcIiVcIiE9PXR8fGkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnN0cmFmZUxlZnQoKSxcIkRcIiE9PXQmJlwiJ1wiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RyYWZlUmlnaHQoKSxcIkVcIiE9PXQmJlwiJlwiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RyYWZlRnJvbnQoKSxcIkNcIiE9PXQmJlwiKFwiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RyYWZlQmFjaygpLFwiTFwiPT09dCYmaS5zZXRWaWV3KGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuTEVGVCksXCJSXCI9PT10JiZpLnNldFZpZXcoZi5Db25zdGFudHMuVklFV19UWVBFUy5SSUdIVCksXCJGXCI9PT10JiZpLnNldFZpZXcoZi5Db25zdGFudHMuVklFV19UWVBFUy5GUk9OVCksXCJCXCI9PT10JiZpLnNldFZpZXcoZi5Db25zdGFudHMuVklFV19UWVBFUy5CQUNLKSxcIlRcIj09PXQmJmkuc2V0VmlldyhmLkNvbnN0YW50cy5WSUVXX1RZUEVTLlRPUCksXCJQXCI9PT10JiZpLmNvbXBfcHJvamVjdGlvbi5zZXRQcm9qZWN0aW9uKGYuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuUEVSU1BFQ1RJVkUpLFwiT1wiPT09dCYmaS5jb21wX3Byb2plY3Rpb24uc2V0UHJvamVjdGlvbihmLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLk9SVEhPKSwhMD09PWUuYWx0S2V5JiYoaS5hbHRLZXlQcmVzc2VkPSEwKSxudWxsIT1pLl9vbmtleWRvd24mJmkuX29ua2V5ZG93bigpfSksdGhpcy5jb21wX2tleWJvYXJkRXZlbnRzLm9ua2V5dXAoZnVuY3Rpb24oZSl7dmFyIHQ9U3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1wiV1wiPT09dCYmaS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RvcEZvcndhcmQoKSxcIlNcIj09PXQmJmkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnN0b3BCYWNrd2FyZCgpLFwiQVwiIT09dCYmXCIlXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdG9wU3RyYWZlTGVmdCgpLFwiRFwiIT09dCYmXCInXCIhPT10fHxpLmNvbXBfY29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5zdG9wU3RyYWZlUmlnaHQoKSxcIkVcIiE9PXQmJlwiJlwiIT09dHx8aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc3RvcFN0cmFmZUZyb250KCksXCJDXCIhPT10JiZcIihcIiE9PXR8fGkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnN0b3BTdHJhZmVCYWNrKCksITE9PT1lLmFsdEtleSYmKGkuYWx0S2V5UHJlc3NlZD0hMSksbnVsbCE9aS5fb25rZXl1cCYmaS5fb25rZXl1cCgpfSk7dmFyIGc9bmV3IGQuQ29tcG9uZW50TW91c2VFdmVudHM7dGhpcy5jYW1lcmEuYWRkQ29tcG9uZW50KGcpLGcub25tb3VzZWRvd24oZnVuY3Rpb24oZSl7aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQubW91c2VEb3duKGUpLCEwPT09ZS5hbHRLZXkmJihpLmFsdEtleVByZXNzZWQ9ITApLG51bGwhPWkuX29ubW91c2Vkb3duJiZpLl9vbm1vdXNlZG93bigpfSksZy5vbm1vdXNldXAoZnVuY3Rpb24oZSl7aS5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQubW91c2VVcChlKSwhMT09PWUuYWx0S2V5JiYoaS5hbHRLZXlQcmVzc2VkPSExKSxudWxsIT1pLl9vbm1vdXNldXAmJmkuX29ubW91c2V1cCgpfSksZy5vbm1vdXNlbW92ZShmdW5jdGlvbihlLHQpe251bGwhPWkuX29ubW91c2Vtb3ZlJiZpLl9vbm1vdXNlbW92ZSgpLCExPT09aS5fcHJldmVudE1vdmUmJigoaS5jb21wX3Byb2plY3Rpb24uZ2V0UHJvamVjdGlvbigpPT09Zi5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5QRVJTUEVDVElWRXx8ITA9PT1pLl91c2VBbHRLZXkmJiEwPT09aS5hbHRLZXlQcmVzc2VkfHwhMT09PWkuX3VzZUFsdEtleSkmJmkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0Lm1vdXNlTW92ZShlKSwhMD09PWkuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmlzUmlnaHRCdG5BY3RpdmUoKSYmaS5jb21wX3Byb2plY3Rpb24uZ2V0UHJvamVjdGlvbigpPT09Zi5Db25zdGFudHMuUFJPSkVDVElPTl9UWVBFUy5PUlRITyYmITA9PT1pLmFsdEtleVByZXNzZWQmJih0LmVbMl0+MD9pLmNvbXBfcHJvamVjdGlvbi5zZXRGb3YoaS5jb21wX3Byb2plY3Rpb24uZ2V0Rm92KCkqKDErTWF0aC5hYnMoLjAwNSp0LmVbMl0pKSk6aS5jb21wX3Byb2plY3Rpb24uc2V0Rm92KGkuY29tcF9wcm9qZWN0aW9uLmdldEZvdigpLygxK01hdGguYWJzKC4wMDUqdC5lWzJdKSkpKSl9KSxnLm9ubW91c2V3aGVlbChmdW5jdGlvbihlLHQpe3ZvaWQgMCE9PWUud2hlZWxEZWx0YVkmJmUud2hlZWxEZWx0YVk+PTB8fHZvaWQgMCE9PWUuZGVsdGFZJiZlLmRlbHRhWTw9MD9pLmNvbXBfcHJvamVjdGlvbi5zZXRGb3YoaS5jb21wX3Byb2plY3Rpb24uZ2V0Rm92KCkvMS4xKTppLmNvbXBfcHJvamVjdGlvbi5zZXRGb3YoMS4xKmkuY29tcF9wcm9qZWN0aW9uLmdldEZvdigpKSxpLmNvbXBfcHJvamVjdGlvbi5nZXRQcm9qZWN0aW9uKCk9PT1mLkNvbnN0YW50cy5QUk9KRUNUSU9OX1RZUEVTLk9SVEhPJiYoaS5jb21wX3RyYW5zZm9ybVRhcmdldC5zZXRQb3NpdGlvblRhcmdldChpLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uVGFyZ2V0KCkuYWRkKHQpKSxpLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnNldFBvc2l0aW9uR29hbChpLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LmdldFBvc2l0aW9uR29hbCgpLmFkZCh0KSkpLG51bGwhPWkuX29ubW91c2V3aGVlbCYmaS5fb25tb3VzZXdoZWVsKCl9KX1yZXR1cm4gcihlLFt7a2V5Olwic2V0Vmlld1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLmNvbXBfcHJvamVjdGlvbi5zZXRQcm9qZWN0aW9uKGYuQ29uc3RhbnRzLlBST0pFQ1RJT05fVFlQRVMuT1JUSE8pLHRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQucmVzZXQoKSxlKXtjYXNlIGYuQ29uc3RhbnRzLlZJRVdfVFlQRVMuTEVGVDp0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0Lnlhdyg5MCk7YnJlYWs7Y2FzZSBmLkNvbnN0YW50cy5WSUVXX1RZUEVTLlJJR0hUOnRoaXMuY29tcF90cmFuc2Zvcm1UYXJnZXQueWF3KC05MCk7YnJlYWs7Y2FzZSBmLkNvbnN0YW50cy5WSUVXX1RZUEVTLkZST05UOmNhc2UgZi5Db25zdGFudHMuVklFV19UWVBFUy5CQUNLOmJyZWFrO2Nhc2UgZi5Db25zdGFudHMuVklFV19UWVBFUy5UT1A6dGhpcy5jb21wX3RyYW5zZm9ybVRhcmdldC5waXRjaCgtODkuOSk7YnJlYWs7Y2FzZSBmLkNvbnN0YW50cy5WSUVXX1RZUEVTLkJPVFRPTTp0aGlzLmNvbXBfdHJhbnNmb3JtVGFyZ2V0LnBpdGNoKDkwKX19fSx7a2V5Olwic2V0TGVmdEJ1dHRvbkFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnNldExlZnRCdXR0b25BY3Rpb24oZSl9fSx7a2V5Olwic2V0TWlkZGxlQnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc2V0TWlkZGxlQnV0dG9uQWN0aW9uKGUpfX0se2tleTpcInNldFJpZ2h0QnV0dG9uQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb21wX2NvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuc2V0UmlnaHRCdXR0b25BY3Rpb24oZSl9fSx7a2V5OlwiaXNBbHRLZXlFbmFibGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlQWx0S2V5fX0se2tleTpcImlzQWx0S2V5UHJlc3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWx0S2V5UHJlc3NlZH19LHtrZXk6XCJzZXRWZWxvY2l0eVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29tcF9jb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LnNldFZlbG9jaXR5KGUpfX0se2tleTpcInNldEZvdlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29tcF9wcm9qZWN0aW9uLnNldEZvdihlKX19LHtrZXk6XCJnZXRGb3ZcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBfcHJvamVjdGlvbi5nZXRGb3YoKX19XSxbe2tleTpcInByZXZlbnRNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fcHJldmVudE1vdmU9ZX19LHtrZXk6XCJ1c2VBbHRLZXlcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl91c2VBbHRLZXk9ZX19XSksZX0oKTtuLlNpbXBsZUNhbWVyYT1wLGkuU2ltcGxlQ2FtZXJhPXAsdC5leHBvcnRzLlNpbXBsZUNhbWVyYT1wfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi8uLi9Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCI6OSxcIi4uLy4uL0NvbXBvbmVudEtleWJvYXJkRXZlbnRzLmNsYXNzXCI6MTAsXCIuLi8uLi9Db21wb25lbnRNb3VzZUV2ZW50cy5jbGFzc1wiOjExLFwiLi4vLi4vQ29tcG9uZW50UHJvamVjdGlvbi5jbGFzc1wiOjEyLFwiLi4vLi4vQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCI6MTQsXCIuLi8uLi9Db21wb25lbnRfR1BVLmNsYXNzXCI6MTUsXCIuLi8uLi9Db25zdGFudHNcIjoxNixcIi4uLy4uL05vZGUuY2xhc3NcIjoxOH1dLDIxOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uU2ltcGxlTm9kZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuLi8uLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIiksYT1lKFwiLi4vLi4vQ29tcG9uZW50X0dQVS5jbGFzc1wiKSxsPWUoXCIuLi8uLi9WRlBfUkdCLmNsYXNzXCIpLHU9ZShcIi4uLy4uL0NvbnN0YW50c1wiKSxjPW4uU2ltcGxlTm9kZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7byh0aGlzLGUpLHRoaXMuX3NjZT10LHRoaXMuX3Byb2plY3Q9dGhpcy5fc2NlLmdldExvYWRlZFByb2plY3QoKSx0aGlzLm5vZGU9bmV3IE5vZGUsdGhpcy5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmFkZE5vZGUodGhpcy5ub2RlKSx0aGlzLl9tZXNoPW51bGw7dmFyIG49bmV3IHMuQ29tcG9uZW50VHJhbnNmb3JtO3RoaXMubm9kZS5hZGRDb21wb25lbnQobiksdGhpcy5jb21wX3JlbmRlcmVyPW5ldyBhLkNvbXBvbmVudF9HUFUsdGhpcy5ub2RlLmFkZENvbXBvbmVudCh0aGlzLmNvbXBfcmVuZGVyZXIpfXJldHVybiByKGUsW3trZXk6XCJzZXRNZXNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9tZXNoPWUsdGhpcy5jb21wX3JlbmRlcmVyLnNldEdQVUZvcih0aGlzLmNvbXBfcmVuZGVyZXIuZ2wse1wiZmxvYXQ0KmF0dHIgdmVydGV4UG9zXCI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fbWVzaC52ZXJ0ZXhBcnJheX0sXCJmbG9hdDQqYXR0ciB2ZXJ0ZXhOb3JtYWxcIjpmdW5jdGlvbigpe3JldHVybiB0Ll9tZXNoLm5vcm1hbEFycmF5fSxcImZsb2F0NCphdHRyIHZlcnRleFRleHR1cmVcIjpmdW5jdGlvbigpe3JldHVybiB0Ll9tZXNoLnRleHR1cmVBcnJheX0sXCJmbG9hdCphdHRyIHZlcnRleFRleHR1cmVVbml0XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fbWVzaC50ZXh0dXJlVW5pdEFycmF5fSxpbmRpY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX21lc2guaW5kZXhBcnJheX0sXCJtYXQ0IFBNYXRyaXhcIjpmdW5jdGlvbigpe3JldHVybiB0Ll9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KHUuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5QUk9KRUNUSU9OKS5nZXRNYXRyaXgoKS50cmFuc3Bvc2UoKS5lfSxcIm1hdDQgY2FtZXJhV01hdHJpeFwiOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRBY3RpdmVDYW1lcmEoKS5nZXRDb21wb25lbnQodS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STV9UQVJHRVQpLmdldE1hdHJpeCgpLnRyYW5zcG9zZSgpLmV9LFwibWF0NCBub2RlV01hdHJpeFwiOmZ1bmN0aW9uKCl7cmV0dXJuIHQubm9kZS5nZXRDb21wb25lbnQodS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLlRSQU5TRk9STSkuZ2V0TWF0cml4UG9zaXRpb24oKS50cmFuc3Bvc2UoKS5lfSxcImZsb2F0IG5vZGVzU2l6ZVwiOmZ1bmN0aW9uKCl7cmV0dXJuIDMwfSxcImZsb2F0NCogdGV4QWxiZWRvXCI6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fbWVzaC52ZXJ0ZXhBcnJheX19LHt0eXBlOlwiR1JBUEhJQ1wiLGNvbmZpZzpuZXcgbC5WRlBfUkdCKDEpLmdldFNyYygpLGRyYXdNb2RlOjQsZGVwdGhUZXN0OiEwLGJsZW5kOiEwLGJsZW5kRXF1YXRpb246dS5Db25zdGFudHMuQkxFTkRJTkdfRVFVQVRJT05fVFlQRVMuRlVOQ19BREQsYmxlbmRTcmNNb2RlOnUuQ29uc3RhbnRzLkJMRU5ESU5HX01PREVTLlNSQ19BTFBIQSxibGVuZERzdE1vZGU6dS5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMuT05FX01JTlVTX1NSQ19BTFBIQX0pLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJQTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJjYW1lcmFXTWF0cml4XCIsITApLHRoaXMuY29tcF9yZW5kZXJlci5zZXRBcmdVcGRhdGFibGUoXCJub2RlV01hdHJpeFwiLCEwKSx0aGlzLmNvbXBfcmVuZGVyZXIuZ2V0Q29tcG9uZW50QnVmZmVyQXJnKFwiUkdCXCIsdGhpcy5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVKSksdGhpcy5jb21wX3JlbmRlcmVyLmdwdWZHLm9uUHJlUHJvY2Vzc0dyYXBoaWMoMCxmdW5jdGlvbigpe30pfX0se2tleTpcInNldEltYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPW5ldyBJbWFnZTtuLm9ubG9hZD1mdW5jdGlvbigpe3QuY29tcF9yZW5kZXJlci5zZXRBcmcoXCJ0ZXhBbGJlZG9cIixmdW5jdGlvbigpe3JldHVybiBufSl9LG4uc3JjPWV9fV0pLGV9KCk7aS5TaW1wbGVOb2RlPWMsdC5leHBvcnRzLlNpbXBsZU5vZGU9Y30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vLi4vQ29tcG9uZW50VHJhbnNmb3JtLmNsYXNzXCI6MTMsXCIuLi8uLi9Db21wb25lbnRfR1BVLmNsYXNzXCI6MTUsXCIuLi8uLi9Db25zdGFudHNcIjoxNixcIi4uLy4uL1ZGUF9SR0IuY2xhc3NcIjozOX1dLDIyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1uLlByb2plY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aSh0aGlzLGUpLHRoaXMuc3RhZ2VzPVtdLHRoaXMuYWN0aXZlU3RhZ2U9bnVsbCx0aGlzLmdsPW51bGx9cmV0dXJuIG8oZSxbe2tleTpcInNldEFjdGl2ZVN0YWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmVTdGFnZT1lLHRoaXMuYWN0aXZlU3RhZ2Uuc2V0V2ViR0xDb250ZXh0KHRoaXMuZ2wpfX0se2tleTpcImdldEFjdGl2ZVN0YWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVTdGFnZX19LHtrZXk6XCJhZGRTdGFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3RhZ2VzLnB1c2goZSl9fSx7a2V5Olwic2V0V2ViR0xDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5nbD1lfX1dKSxlfSgpO2UuUHJvamVjdD1yLHQuZXhwb3J0cy5Qcm9qZWN0PXJ9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwyMzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlNDRT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL1N5c3RlbUV2ZW50cy5jbGFzc1wiKSxhPWUoXCIuL1V0aWxzLmNsYXNzXCIpLGw9ZShcIi4vVUkvVUkuY2xhc3NcIiksdT1lKFwiLi9Db25zdGFudHNcIiksYz1uLlNDRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnByb2plY3Q9bnVsbCx0aGlzLmRpbWVuc2lvbnM9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuZ2w9bnVsbCx0aGlzLl9VST1udWxsLHRoaXMuX2VuYWJsZVVJPW51bGwsdGhpcy5fZXZlbnRzPW51bGx9cmV0dXJuIHIoZSxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLnRhcmdldD12b2lkIDAhPT1lLnRhcmdldD9lLnRhcmdldDp2b2lkIDAsdGhpcy5kaW1lbnNpb25zPXZvaWQgMCE9PWUuZGltZW5zaW9ucz9lLmRpbWVuc2lvbnM6e3dpZHRoOjUxMixoZWlnaHQ6NTEyfSx0aGlzLl9lbmFibGVVST12b2lkIDAhPT1lLmVuYWJsZVVJJiZlLmVuYWJsZVVJLG51bGwhPXRoaXMudGFyZ2V0KXtpZih0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMudGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKSx0aGlzLnNldERpbWVuc2lvbnModGhpcy5kaW1lbnNpb25zLndpZHRoLHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpLHZvaWQgMCE9PWUuZ2wmJm51bGwhPT1lLmdsKXRoaXMuZ2w9ZS5nbDtlbHNlIGlmKCEodGhpcy5nbD1hLlV0aWxzLmdldFdlYkdMQ29udGV4dEZyb21DYW52YXModGhpcy5jYW52YXMpKSlyZXR1cm4gYWxlcnQoXCJObyBXZWJHTFJlbmRlcmluZ0NvbnRleHRcIiksITF9ZWxzZSBhbGVydChcIlRhcmdldCBESVYgcmVxdWlyZWRcIil9fSx7a2V5OlwibG9hZFByb2plY3RcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnByb2plY3Q9ZSx0aGlzLnByb2plY3Quc2V0V2ViR0xDb250ZXh0KHRoaXMuZ2wpLCEwPT09dGhpcy5fZW5hYmxlVUkmJih0aGlzLl9VST1uZXcgbC5VSSh0aGlzLnByb2plY3QpLnJlbmRlcih0aGlzLnRhcmdldCx0aGlzLmNhbnZhcykpLHRoaXMuX2V2ZW50cz1uZXcgcy5TeXN0ZW1FdmVudHModGhpcyx0aGlzLmNhbnZhcyksdGhpcy5fZXZlbnRzLmluaXRpYWxpemUoKX19LHtrZXk6XCJnZXRMb2FkZWRQcm9qZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0fX0se2tleTpcImdldENhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzfX0se2tleTpcImdldEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c319LHtrZXk6XCJzZXREaW1lbnNpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRpbWVuc2lvbnM9e3dpZHRoOmUsaGVpZ2h0OnR9LHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5kaW1lbnNpb25zLndpZHRoKSx0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KSxudWxsIT10aGlzLnByb2plY3QmJm51bGwhPXRoaXMucHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpKXt2YXIgbj10aGlzLnByb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRBY3RpdmVDYW1lcmEoKTtpZihudWxsIT1uKXt2YXIgaT1uLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTiksbz1uLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVKTtpLnNldFJlc29sdXRpb24odGhpcy5kaW1lbnNpb25zLndpZHRoLHRoaXMuZGltZW5zaW9ucy53aWR0aCksby5zZXRBcmcoXCJSR0JcIixmdW5jdGlvbigpe3JldHVybiBuZXcgRmxvYXQzMkFycmF5KHRoaXMuZGltZW5zaW9ucy53aWR0aCp0aGlzLmRpbWVuc2lvbnMud2lkdGgqNCl9LmJpbmQodGhpcykpfX19fSx7a2V5OlwiZ2V0RGltZW5zaW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGltZW5zaW9uc319XSksZX0oKTtpLlNDRT1jLHQuZXhwb3J0cy5TQ0U9Y30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9Db25zdGFudHNcIjoxNixcIi4vU3lzdGVtRXZlbnRzLmNsYXNzXCI6MjYsXCIuL1VJL1VJLmNsYXNzXCI6MzIsXCIuL1V0aWxzLmNsYXNzXCI6Mzh9XSwyNDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlN0YWdlPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vQ29uc3RhbnRzXCIpLGE9bi5TdGFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5ub2Rlcz1bXSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsLHRoaXMuc2VsZWN0ZWROb2RlPW51bGwsdGhpcy5wYXVzZWQ9ITEsdGhpcy5iYWNrZ3JvdW5kQ29sb3I9WzAsMCwwLDFdLHRoaXMuZ2w9bnVsbCx0aGlzLl9vbnRpY2s9bnVsbH1yZXR1cm4gcihlLFt7a2V5Olwic2V0QWN0aXZlQ2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmVDYW1lcmE9ZX19LHtrZXk6XCJnZXRBY3RpdmVDYW1lcmFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZUNhbWVyYX19LHtrZXk6XCJzZXRTZWxlY3RlZE5vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGVkTm9kZT1lfX0se2tleTpcImdldFNlbGVjdGVkTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWROb2RlfX0se2tleTpcImFkZE5vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm5vZGVzLnB1c2goZSksZS5pbml0aWFsaXplKG51bGwhPWUuZ2V0TmFtZSgpP2UuZ2V0TmFtZSgpOlwibm9kZSBcIisodGhpcy5ub2Rlcy5sZW5ndGgtMSksdGhpcy5nbCl9fSx7a2V5OlwicmVtb3ZlTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5ub2Rlcy5sZW5ndGg7dCsrKWlmKHRoaXMubm9kZXNbdF09PT1lKXt0aGlzLm5vZGVzLnNwbGljZSh0LDEpO2JyZWFrfX19LHtrZXk6XCJnZXROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXN9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb250aWNrPWUsdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5iYWNrZ3JvdW5kQ29sb3IpLHRoaXMudGljaygpfX0se2tleTpcInBhdXNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH19LHtrZXk6XCJzZXRXZWJHTENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmdsPWV9fSx7a2V5Olwic2V0QmFja2dyb3VuZENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9ZX19LHtrZXk6XCJnZXRCYWNrZ3JvdW5kQ29sb3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJhY2tncm91bmRDb2xvcn19LHtrZXk6XCJnZXRXZWJHTENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsfX0se2tleTpcInRpY2tcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuYWN0aXZlQ2FtZXJhKXt2b2lkIDAhPT10aGlzLl9vbnRpY2smJm51bGwhPT10aGlzLl9vbnRpY2smJnRoaXMuX29udGljaygpO3ZhciBlPXRoaXMuYWN0aXZlQ2FtZXJhLmdldENvbXBvbmVudChzLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTikuZ2V0UmVzb2x1dGlvbigpO3RoaXMuZ2wudmlld3BvcnQoMCwwLGUud2lkdGgsZS5oZWlnaHQpLHRoaXMuZ2wuY2xlYXJDb2xvcih0aGlzLmJhY2tncm91bmRDb2xvclswXSx0aGlzLmJhY2tncm91bmRDb2xvclsxXSx0aGlzLmJhY2tncm91bmRDb2xvclsyXSx0aGlzLmJhY2tncm91bmRDb2xvclszXSksdGhpcy5nbC5jbGVhckRlcHRoKDEpLHRoaXMuZ2wuZGVwdGhGdW5jKHRoaXMuZ2wuTEVRVUFMKTt2YXIgdD10aGlzLmFjdGl2ZUNhbWVyYS5nZXRDb21wb25lbnQocy5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLkdQVSk7dm9pZCAwIT09dCYmbnVsbCE9PXQmJnQuZ3B1ZkcuZmlsbEFyZyhcIlJHQlwiLFt0aGlzLmJhY2tncm91bmRDb2xvclswXSx0aGlzLmJhY2tncm91bmRDb2xvclsxXSx0aGlzLmJhY2tncm91bmRDb2xvclsyXSx0aGlzLmJhY2tncm91bmRDb2xvclszXV0pO2Zvcih2YXIgbj0wLGk9dGhpcy5ub2Rlcy5sZW5ndGg7bjxpO24rKylpZih0aGlzLm5vZGVzW25dIT09dGhpcy5hY3RpdmVDYW1lcmEpe2Zvcih2YXIgbyBpbiB0aGlzLm5vZGVzW25dLmdldENvbXBvbmVudHMoKSl7dmFyIHI9dGhpcy5ub2Rlc1tuXS5nZXRDb21wb25lbnQobyk7bnVsbCE9ci50aWNrJiZyLnRpY2soKX1udWxsIT10aGlzLm5vZGVzW25dLm9uVGljayYmdGhpcy5ub2Rlc1tuXS5vblRpY2soKX1mb3IodmFyIGE9MCxsPXRoaXMubm9kZXMubGVuZ3RoO2E8bDthKyspaWYodGhpcy5ub2Rlc1thXSE9PXRoaXMuYWN0aXZlQ2FtZXJhKWZvcih2YXIgdSBpbiB0aGlzLm5vZGVzW2FdLmdldENvbXBvbmVudHMoKSl7dmFyIGM9dGhpcy5ub2Rlc1thXS5nZXRDb21wb25lbnQodSk7aWYobnVsbCE9Yy5ncHVmRylmb3IodmFyIGQgaW4gYy5ncHVmRy52ZXJ0ZXhGcmFnbWVudFByb2dyYW1zKXt2YXIgaD1jLmdwdWZHLnZlcnRleEZyYWdtZW50UHJvZ3JhbXNbZF0sZj1XZWJDTEdMVXRpbHMuZ2V0T3V0cHV0QnVmZmVycyhoLGMuZ3B1ZkcuX2FyZ3NWYWx1ZXMpOyEwPT09aC5lbmFibGVkJiZudWxsIT1mJiYoYy5ncHVmRy5fZ2wuYmluZEZyYW1lYnVmZmVyKGMuZ3B1ZkcuX2dsLkZSQU1FQlVGRkVSLGZbMF0uZkJ1ZmZlciksYy5ncHVmRy5fZ2wuY2xlYXIoYy5ncHVmRy5fZ2wuREVQVEhfQlVGRkVSX0JJVCksYy5ncHVmRy5fZ2wuYmluZEZyYW1lYnVmZmVyKGMuZ3B1ZkcuX2dsLkZSQU1FQlVGRkVSLGZbMF0uZkJ1ZmZlclRlbXApLGMuZ3B1ZkcuX2dsLmNsZWFyKGMuZ3B1ZkcuX2dsLkRFUFRIX0JVRkZFUl9CSVQpKX19Zm9yKHZhciBwIGluIHRoaXMuYWN0aXZlQ2FtZXJhLmdldENvbXBvbmVudHMoKSl7dmFyIGc9dGhpcy5hY3RpdmVDYW1lcmEuZ2V0Q29tcG9uZW50KHApO251bGwhPWcudGljayYmZy50aWNrKCl9fX19XSksZX0oKTtpLlN0YWdlPWEsdC5leHBvcnRzLlN0YWdlPWF9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29uc3RhbnRzXCI6MTZ9XSwyNTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBuZXcgYShlKX1mdW5jdGlvbiByKGUpe3JldHVybiBuZXcgbChlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO24uJE0xNj1vLG4uJFYzPXI7dmFyIGE9bi5TdG9ybU0xNj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMuZT1udWxsLHRoaXMuZT12b2lkIDAhPT10JiZudWxsIT09dD9uZXcgRmxvYXQzMkFycmF5KHQpOm5ldyBGbG9hdDMyQXJyYXkoWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKX1yZXR1cm4gcyhlLFt7a2V5OlwieFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBvKHQgaW5zdGFuY2VvZiBlP1t0aGlzLmVbMF0qdC5lWzBdK3RoaXMuZVsxXSp0LmVbNF0rdGhpcy5lWzJdKnQuZVs4XSt0aGlzLmVbM10qdC5lWzEyXSx0aGlzLmVbMF0qdC5lWzFdK3RoaXMuZVsxXSp0LmVbNV0rdGhpcy5lWzJdKnQuZVs5XSt0aGlzLmVbM10qdC5lWzEzXSx0aGlzLmVbMF0qdC5lWzJdK3RoaXMuZVsxXSp0LmVbNl0rdGhpcy5lWzJdKnQuZVsxMF0rdGhpcy5lWzNdKnQuZVsxNF0sdGhpcy5lWzBdKnQuZVszXSt0aGlzLmVbMV0qdC5lWzddK3RoaXMuZVsyXSp0LmVbMTFdK3RoaXMuZVszXSp0LmVbMTVdLHRoaXMuZVs0XSp0LmVbMF0rdGhpcy5lWzVdKnQuZVs0XSt0aGlzLmVbNl0qdC5lWzhdK3RoaXMuZVs3XSp0LmVbMTJdLHRoaXMuZVs0XSp0LmVbMV0rdGhpcy5lWzVdKnQuZVs1XSt0aGlzLmVbNl0qdC5lWzldK3RoaXMuZVs3XSp0LmVbMTNdLHRoaXMuZVs0XSp0LmVbMl0rdGhpcy5lWzVdKnQuZVs2XSt0aGlzLmVbNl0qdC5lWzEwXSt0aGlzLmVbN10qdC5lWzE0XSx0aGlzLmVbNF0qdC5lWzNdK3RoaXMuZVs1XSp0LmVbN10rdGhpcy5lWzZdKnQuZVsxMV0rdGhpcy5lWzddKnQuZVsxNV0sdGhpcy5lWzhdKnQuZVswXSt0aGlzLmVbOV0qdC5lWzRdK3RoaXMuZVsxMF0qdC5lWzhdK3RoaXMuZVsxMV0qdC5lWzEyXSx0aGlzLmVbOF0qdC5lWzFdK3RoaXMuZVs5XSp0LmVbNV0rdGhpcy5lWzEwXSp0LmVbOV0rdGhpcy5lWzExXSp0LmVbMTNdLHRoaXMuZVs4XSp0LmVbMl0rdGhpcy5lWzldKnQuZVs2XSt0aGlzLmVbMTBdKnQuZVsxMF0rdGhpcy5lWzExXSp0LmVbMTRdLHRoaXMuZVs4XSp0LmVbM10rdGhpcy5lWzldKnQuZVs3XSt0aGlzLmVbMTBdKnQuZVsxMV0rdGhpcy5lWzExXSp0LmVbMTVdLHRoaXMuZVsxMl0qdC5lWzBdK3RoaXMuZVsxM10qdC5lWzRdK3RoaXMuZVsxNF0qdC5lWzhdK3RoaXMuZVsxNV0qdC5lWzEyXSx0aGlzLmVbMTJdKnQuZVsxXSt0aGlzLmVbMTNdKnQuZVs1XSt0aGlzLmVbMTRdKnQuZVs5XSt0aGlzLmVbMTVdKnQuZVsxM10sdGhpcy5lWzEyXSp0LmVbMl0rdGhpcy5lWzEzXSp0LmVbNl0rdGhpcy5lWzE0XSp0LmVbMTBdK3RoaXMuZVsxNV0qdC5lWzE0XSx0aGlzLmVbMTJdKnQuZVszXSt0aGlzLmVbMTNdKnQuZVs3XSt0aGlzLmVbMTRdKnQuZVsxMV0rdGhpcy5lWzE1XSp0LmVbMTVdXTpbMCwwLDAsdGhpcy5lWzBdKnQuZVswXSt0aGlzLmVbMV0qdC5lWzFdK3RoaXMuZVsyXSp0LmVbMl0sMCwwLDAsdGhpcy5lWzRdKnQuZVswXSt0aGlzLmVbNV0qdC5lWzFdK3RoaXMuZVs2XSp0LmVbMl0sMCwwLDAsdGhpcy5lWzhdKnQuZVswXSt0aGlzLmVbOV0qdC5lWzFdK3RoaXMuZVsxMF0qdC5lWzJdLDAsMCwwLHRoaXMuZVsxMl0qdC5lWzBdK3RoaXMuZVsxM10qdC5lWzFdK3RoaXMuZVsxNF0qdC5lWzJdXSl9fSx7a2V5OlwidHJhbnNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyhbdGhpcy5lWzBdLHRoaXMuZVs0XSx0aGlzLmVbOF0sdGhpcy5lWzEyXSx0aGlzLmVbMV0sdGhpcy5lWzVdLHRoaXMuZVs5XSx0aGlzLmVbMTNdLHRoaXMuZVsyXSx0aGlzLmVbNl0sdGhpcy5lWzEwXSx0aGlzLmVbMTRdLHRoaXMuZVszXSx0aGlzLmVbN10sdGhpcy5lWzExXSx0aGlzLmVbMTVdXSl9fSx7a2V5OlwiaW52ZXJzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9byh0aGlzLmUpLnRyYW5zcG9zZSgpLmUsdD1uZXcgRmxvYXQzMkFycmF5KDEyKSxuPW5ldyBGbG9hdDMyQXJyYXkoMTYpO3RbMF09ZVsxMF0qZVsxNV0sdFsxXT1lWzExXSplWzE0XSx0WzJdPWVbOV0qZVsxNV0sdFszXT1lWzExXSplWzEzXSx0WzRdPWVbOV0qZVsxNF0sdFs1XT1lWzEwXSplWzEzXSx0WzZdPWVbOF0qZVsxNV0sdFs3XT1lWzExXSplWzEyXSx0WzhdPWVbOF0qZVsxNF0sdFs5XT1lWzEwXSplWzEyXSx0WzEwXT1lWzhdKmVbMTNdLHRbMTFdPWVbOV0qZVsxMl0sblswXT10WzBdKmVbNV0rdFszXSplWzZdK3RbNF0qZVs3XSxuWzBdLT10WzFdKmVbNV0rdFsyXSplWzZdK3RbNV0qZVs3XSxuWzFdPXRbMV0qZVs0XSt0WzZdKmVbNl0rdFs5XSplWzddLG5bMV0tPXRbMF0qZVs0XSt0WzddKmVbNl0rdFs4XSplWzddLG5bMl09dFsyXSplWzRdK3RbN10qZVs1XSt0WzEwXSplWzddLG5bMl0tPXRbM10qZVs0XSt0WzZdKmVbNV0rdFsxMV0qZVs3XSxuWzNdPXRbNV0qZVs0XSt0WzhdKmVbNV0rdFsxMV0qZVs2XSxuWzNdLT10WzRdKmVbNF0rdFs5XSplWzVdK3RbMTBdKmVbNl0sbls0XT10WzFdKmVbMV0rdFsyXSplWzJdK3RbNV0qZVszXSxuWzRdLT10WzBdKmVbMV0rdFszXSplWzJdK3RbNF0qZVszXSxuWzVdPXRbMF0qZVswXSt0WzddKmVbMl0rdFs4XSplWzNdLG5bNV0tPXRbMV0qZVswXSt0WzZdKmVbMl0rdFs5XSplWzNdLG5bNl09dFszXSplWzBdK3RbNl0qZVsxXSt0WzExXSplWzNdLG5bNl0tPXRbMl0qZVswXSt0WzddKmVbMV0rdFsxMF0qZVszXSxuWzddPXRbNF0qZVswXSt0WzldKmVbMV0rdFsxMF0qZVsyXSxuWzddLT10WzVdKmVbMF0rdFs4XSplWzFdK3RbMTFdKmVbMl0sdFswXT1lWzJdKmVbN10sdFsxXT1lWzNdKmVbNl0sdFsyXT1lWzFdKmVbN10sdFszXT1lWzNdKmVbNV0sdFs0XT1lWzFdKmVbNl0sdFs1XT1lWzJdKmVbNV0sdFs2XT1lWzBdKmVbN10sdFs3XT1lWzNdKmVbNF0sdFs4XT1lWzBdKmVbNl0sdFs5XT1lWzJdKmVbNF0sdFsxMF09ZVswXSplWzVdLHRbMTFdPWVbMV0qZVs0XSxuWzhdPXRbMF0qZVsxM10rdFszXSplWzE0XSt0WzRdKmVbMTVdLG5bOF0tPXRbMV0qZVsxM10rdFsyXSplWzE0XSt0WzVdKmVbMTVdLG5bOV09dFsxXSplWzEyXSt0WzZdKmVbMTRdK3RbOV0qZVsxNV0sbls5XS09dFswXSplWzEyXSt0WzddKmVbMTRdK3RbOF0qZVsxNV0sblsxMF09dFsyXSplWzEyXSt0WzddKmVbMTNdK3RbMTBdKmVbMTVdLG5bMTBdLT10WzNdKmVbMTJdK3RbNl0qZVsxM10rdFsxMV0qZVsxNV0sblsxMV09dFs1XSplWzEyXSt0WzhdKmVbMTNdK3RbMTFdKmVbMTRdLG5bMTFdLT10WzRdKmVbMTJdK3RbOV0qZVsxM10rdFsxMF0qZVsxNF0sblsxMl09dFsyXSplWzEwXSt0WzVdKmVbMTFdK3RbMV0qZVs5XSxuWzEyXS09dFs0XSplWzExXSt0WzBdKmVbOV0rdFszXSplWzEwXSxuWzEzXT10WzhdKmVbMTFdK3RbMF0qZVs4XSt0WzddKmVbMTBdLG5bMTNdLT10WzZdKmVbMTBdK3RbOV0qZVsxMV0rdFsxXSplWzhdLG5bMTRdPXRbNl0qZVs5XSt0WzExXSplWzExXSt0WzNdKmVbOF0sblsxNF0tPXRbMTBdKmVbMTFdK3RbMl0qZVs4XSt0WzddKmVbOV0sblsxNV09dFsxMF0qZVsxMF0rdFs0XSplWzhdK3RbOV0qZVs5XSxuWzE1XS09dFs4XSplWzldK3RbMTFdKmVbMTBdK3RbNV0qZVs4XTt2YXIgaT1lWzBdKm5bMF0rZVsxXSpuWzFdK2VbMl0qblsyXStlWzNdKm5bM107cmV0dXJuIG8oW25bMF0qaSxuWzFdKmksblsyXSppLG5bM10qaSxuWzRdKmksbls1XSppLG5bNl0qaSxuWzddKmksbls4XSppLG5bOV0qaSxuWzEwXSppLG5bMTFdKmksblsxMl0qaSxuWzEzXSppLG5bMTRdKmksblsxNV0qaV0pfX0se2tleTpcImdldExlZnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiByKFt0aGlzLmVbMF0sdGhpcy5lWzRdLHRoaXMuZVs4XV0pLm5vcm1hbGl6ZSgpfX0se2tleTpcImdldFVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcihbdGhpcy5lWzFdLHRoaXMuZVs1XSx0aGlzLmVbOV1dKS5ub3JtYWxpemUoKX19LHtrZXk6XCJnZXRGb3J3YXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcihbdGhpcy5lWzJdLHRoaXMuZVs2XSx0aGlzLmVbMTBdXSkubm9ybWFsaXplKCl9fSx7a2V5Olwic2V0Um90YXRpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMCE9PW4mJm51bGwhPT1uJiZudWxsIT09bi5lWzBdP3ZvaWQgMD09PXR8fG51bGw9PT10fHwhMD09PXQ/dGhpcy54KG8oWzEsMCwwLDAsMCxNYXRoLmNvcyhlKSwtTWF0aC5zaW4oZSksMCwwLE1hdGguc2luKGUpLE1hdGguY29zKGUpLDAsMCwwLDAsMV0pKTpvKFsxLDAsMCwwLDAsTWF0aC5jb3MoZSksLU1hdGguc2luKGUpLDAsMCxNYXRoLnNpbihlKSxNYXRoLmNvcyhlKSwwLDAsMCwwLDFdKTp2b2lkIDAhPT1uJiZudWxsIT09biYmbnVsbCE9PW4uZVsxXT92b2lkIDA9PT10fHxudWxsPT09dHx8ITA9PT10P3RoaXMueChvKFtNYXRoLmNvcyhlKSwwLE1hdGguc2luKGUpLDAsMCwxLDAsMCwtTWF0aC5zaW4oZSksMCxNYXRoLmNvcyhlKSwwLDAsMCwwLDFdKSk6byhbTWF0aC5jb3MoZSksMCxNYXRoLnNpbihlKSwwLDAsMSwwLDAsLU1hdGguc2luKGUpLDAsTWF0aC5jb3MoZSksMCwwLDAsMCwxXSk6dm9pZCAwIT09biYmbnVsbCE9PW4mJm51bGwhPT1uLmVbMl0/dm9pZCAwPT09dHx8bnVsbD09PXR8fCEwPT09dD90aGlzLngobyhbTWF0aC5jb3MoZSksLU1hdGguc2luKGUpLDAsMCxNYXRoLnNpbihlKSxNYXRoLmNvcyhlKSwwLDAsMCwwLDEsMCwwLDAsMCwxXSkpOm8oW01hdGguY29zKGUpLC1NYXRoLnNpbihlKSwwLDAsTWF0aC5zaW4oZSksTWF0aC5jb3MoZSksMCwwLDAsMCwxLDAsMCwwLDAsMV0pOnZvaWQgMH19LHtrZXk6XCJzZXRSb3RhdGlvblhcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldFJvdGF0aW9uKGUsdCxyKFsxLDAsMF0pKX19LHtrZXk6XCJzZXRSb3RhdGlvbllcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldFJvdGF0aW9uKGUsdCxyKFswLDEsMF0pKX19LHtrZXk6XCJzZXRSb3RhdGlvblpcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldFJvdGF0aW9uKGUsdCxyKFswLDAsMV0pKX19LHtrZXk6XCJzZXRTY2FsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwIT09biYmbnVsbCE9PW4mJm51bGwhPT1uLmVbMF0/dm9pZCAwPT09dHx8bnVsbD09PXR8fCEwPT09dD90aGlzLngobyhbZSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pKTpvKFtlLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSk6dm9pZCAwIT09biYmbnVsbCE9PW4mJm51bGwhPT1uLmVbMV0/dm9pZCAwPT09dHx8bnVsbD09PXR8fCEwPT09dD90aGlzLngobyhbMSwwLDAsMCwwLGUsMCwwLDAsMCwxLDAsMCwwLDAsMV0pKTpvKFsxLDAsMCwwLDAsZSwwLDAsMCwwLDEsMCwwLDAsMCwxXSk6dm9pZCAwIT09biYmbnVsbCE9PW4mJm51bGwhPT1uLmVbMl0/dm9pZCAwPT09dHx8bnVsbD09PXR8fCEwPT09dD90aGlzLngobyhbMSwwLDAsMCwwLDEsMCwwLDAsMCxlLDAsMCwwLDAsMV0pKTpvKFsxLDAsMCwwLDAsMSwwLDAsMCwwLGUsMCwwLDAsMCwxXSk6dm9pZCAwfX0se2tleTpcInNldFNjYWxlWFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0U2NhbGUoZSx0LHIoWzEsMCwwXSkpfX0se2tleTpcInNldFNjYWxlWVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0U2NhbGUoZSx0LHIoWzAsMSwwXSkpfX0se2tleTpcInNldFNjYWxlWlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0U2NhbGUoZSx0LHIoWzAsMCwxXSkpfX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcihbdGhpcy5lWzNdLHRoaXMuZVs3XSx0aGlzLmVbMTFdXSl9fSx7a2V5Olwic2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lWzNdPWUuZVswXSx0aGlzLmVbN109ZS5lWzFdLHRoaXMuZVsxMV09ZS5lWzJdLHRoaXN9fV0sW3trZXk6XCJtYWtlTG9va0F0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxzLGEsbCx1LGMpe3ZhciBkPXIoW2UsdCxuXSksaD1yKFtpLHMsYV0pLGY9cihbbCx1LGNdKSxwPWQuc3VidHJhY3QoaCkubm9ybWFsaXplKCksZz1mLmNyb3NzKHApLm5vcm1hbGl6ZSgpLHY9cC5jcm9zcyhnKS5ub3JtYWxpemUoKSxfPW8oW2cuZVswXSxnLmVbMV0sZy5lWzJdLDAsdi5lWzBdLHYuZVsxXSx2LmVbMl0sMCxwLmVbMF0scC5lWzFdLHAuZVsyXSwwLDAsMCwwLDFdKSxtPW8oWzEsMCwwLC1lLDAsMSwwLC10LDAsMCwxLC1uLDAsMCwwLDFdKTtyZXR1cm4gXy54KG0pfX0se2tleTpcInNldFBlcnNwZWN0aXZlUHJvamVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPU1hdGgudGFuKGUqTWF0aC5QSS8zNjApKm4scz0tcixhPXQqcyxsPXQqcjtyZXR1cm4gbyhbMipuLyhsLWEpLDAsKGwrYSkvKGwtYSksMCwwLDIqbi8oci1zKSwocitzKS8oci1zKSwwLDAsMCwtKGkrbikvKGktbiksLTIqaSpuLyhpLW4pLDAsMCwtMSwwXSl9fSx7a2V5Olwic2V0T3J0aG9ncmFwaGljUHJvamVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkscixzKXtyZXR1cm4gbyhbMi8odC1lKSwwLDAsLSh0K2UpLyh0LWUpLDAsMi8oaS1uKSwwLC0oaStuKS8oaS1uKSwwLDAsLTIvKHMtciksLShzK3IpLyhzLXIpLDAsMCwwLDFdKX19XSksZX0oKTtlLlN0b3JtTTE2PWEsdC5leHBvcnRzLlN0b3JtTTE2PWEsZS4kTTE2PW8sdC5leHBvcnRzLiRNMTY9bzt2YXIgbD1uLlN0b3JtVjM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2kodGhpcyxlKSx0aGlzLmU9bmV3IEZsb2F0MzJBcnJheSh0KX1yZXR1cm4gcyhlLFt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIoW3RoaXMuZVswXStlLmVbMF0sdGhpcy5lWzFdK2UuZVsxXSx0aGlzLmVbMl0rZS5lWzJdXSl9fSx7a2V5OlwiY3Jvc3NcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcihbdGhpcy5lWzFdKmUuZVsyXS10aGlzLmVbMl0qZS5lWzFdLHRoaXMuZVsyXSplLmVbMF0tdGhpcy5lWzBdKmUuZVsyXSx0aGlzLmVbMF0qZS5lWzFdLXRoaXMuZVsxXSplLmVbMF1dKX19LHtrZXk6XCJkaXN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQoKHRoaXMuZVswXS1lLmVbMF0pKih0aGlzLmVbMF0tZS5lWzBdKSsodGhpcy5lWzFdLWUuZVsxXSkqKHRoaXMuZVsxXS1lLmVbMV0pKyh0aGlzLmVbMl0tZS5lWzJdKSoodGhpcy5lWzJdLWUuZVsyXSkpfX0se2tleTpcImRvdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVbMF0qZS5lWzBdK3RoaXMuZVsxXSplLmVbMV0rdGhpcy5lWzJdKmUuZVsyXX19LHtrZXk6XCJlcXVhbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVbMF09PT1lLmVbMF0mJnRoaXMuZVsxXT09PWUuZVsxXSYmdGhpcy5lWzJdPT09ZS5lWzJdfX0se2tleTpcIm1vZHVsdXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5zdW1Db21wb25lbnRTcXJzKCkpfX0se2tleTpcInN1bUNvbXBvbmVudFNxcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3FyQ29tcG9uZW50cygpO3JldHVybiBlWzBdK2VbMV0rZVsyXX19LHtrZXk6XCJzcXJDb21wb25lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiBlLnNldChbdGhpcy5lWzBdKnRoaXMuZVswXSx0aGlzLmVbMV0qdGhpcy5lWzFdLHRoaXMuZVsyXSp0aGlzLmVbMl1dKSxlfX0se2tleTpcInhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10IGluc3RhbmNlb2YgYTtpZih0IGluc3RhbmNlb2YgZSlyZXR1cm4gcihbdGhpcy5lWzBdKnQuZVswXSx0aGlzLmVbMV0qdC5lWzFdLHRoaXMuZVsyXSp0LmVbMl1dKTtpZihuKXt2YXIgaT1vKFsxLDAsMCx0aGlzLmVbMF0sMCwxLDAsdGhpcy5lWzFdLDAsMCwxLHRoaXMuZVsyXSwwLDAsMCwxXSk7cmV0dXJuIG8oW2kuZVswXSswKzArMCwwK2kuZVsxXSswKzAsMCtpLmVbMl0rMCxpLmVbMF0qdC5lWzBdK2kuZVsxXSp0LmVbMV0raS5lWzJdKnQuZVsyXStpLmVbM10saS5lWzRdKzArMCswLDAraS5lWzVdKzArMCwwK2kuZVs2XSswLGkuZVs0XSp0LmVbMF0raS5lWzVdKnQuZVsxXStpLmVbNl0qdC5lWzJdK2kuZVs3XSxpLmVbOF0rMCswKzAsMCtpLmVbOV0rMCswLDAraS5lWzEwXSswLGkuZVs4XSp0LmVbMF0raS5lWzldKnQuZVsxXStpLmVbMTBdKnQuZVsyXStpLmVbMTFdLGkuZVsxMl0rMCswKzAsMCtpLmVbMTNdKzArMCwwK2kuZVsxNF0rMCxpLmVbMTJdKnQuZVswXStpLmVbMTNdKnQuZVsxXStpLmVbMTRdKnQuZVsyXStpLmVbMTVdKnQuZVsxNV1dKX1yZXR1cm4gcihbdGhpcy5lWzBdKnQsdGhpcy5lWzFdKnQsdGhpcy5lWzJdKnRdKX19LHtrZXk6XCJyZWZsZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9cihbdGhpcy5lWzBdLHRoaXMuZVsxXSx0aGlzLmVbMl1dKSxuPXIoW2UuZVswXSxlLmVbMV0sZS5lWzJdXSksaT1uLngodC5kb3QobikpO3JldHVybiBpPWkueCgyKSxpPXQuc3VidHJhY3QoaSl9fSx7a2V5Olwic3VidHJhY3RcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gcihbdGhpcy5lWzBdLWUuZVswXSx0aGlzLmVbMV0tZS5lWzFdLHRoaXMuZVsyXS1lLmVbMl1dKX19LHtrZXk6XCJub3JtYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPTEvdGhpcy5tb2R1bHVzKCk7cmV0dXJuIHIoW3RoaXMuZVswXSplLHRoaXMuZVsxXSplLHRoaXMuZVsyXSplXSl9fV0pLGV9KCk7ZS5TdG9ybVYzPWwsdC5leHBvcnRzLlN0b3JtVjM9bCxlLiRWMz1yLHQuZXhwb3J0cy4kVjM9cn0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDI2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uU3lzdGVtRXZlbnRzPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHM9ZShcIi4vVXRpbHMuY2xhc3NcIiksYT1lKFwiLi9Db25zdGFudHNcIiksbD1uLlN5c3RlbUV2ZW50cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtvKHRoaXMsZSksdGhpcy5fc2NlPXQsdGhpcy5fcHJvamVjdD10aGlzLl9zY2UuZ2V0TG9hZGVkUHJvamVjdCgpLHRoaXMuX3RhcmdldD1uLHRoaXMuX3V0aWxzPW5ldyBzLlV0aWxzLHRoaXMubW91c2VQb3NYX29yaWc9MCx0aGlzLm1vdXNlUG9zWV9vcmlnPTAsdGhpcy5tb3VzZVBvc1g9MCx0aGlzLm1vdXNlUG9zWT0wLHRoaXMubW91c2VPbGRQb3NYPTAsdGhpcy5tb3VzZU9sZFBvc1k9MCx0aGlzLmRpdlBvc2l0aW9uWD0wLHRoaXMuZGl2UG9zaXRpb25ZPTAsdGhpcy5mb2N1c2VkPSExfXJldHVybiByKGUsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLmtleXVwTGlzdGVuZXIuYmluZCh0aGlzKSksdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIuYmluZCh0aGlzKSksdGhpcy5fdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMubW91c2V3aGVlbExpc3RlbmVyLmJpbmQodGhpcykpLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXBMaXN0ZW5lci5iaW5kKHRoaXMpLCExKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMubW91c2V1cExpc3RlbmVyLmJpbmQodGhpcyksITEpLHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5tb3VzZWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpLCExKSx0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm1vdXNlZG93bkxpc3RlbmVyLmJpbmQodGhpcykuYmluZCh0aGlzKSwhMSksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmVMaXN0ZW5lci5iaW5kKHRoaXMpLCExKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLm1vdXNlbW92ZUxpc3RlbmVyLmJpbmQodGhpcyksITEpLHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXt0aGlzLmZvY3VzZWQ9ITB9LmJpbmQodGhpcyksITEpLHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dGhpcy5mb2N1c2VkPSExfS5iaW5kKHRoaXMpLCExKX19LHtrZXk6XCJnZXRNb3VzZVBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLm1vdXNlUG9zWCx5OnRoaXMubW91c2VQb3NZfX19LHtrZXk6XCJ1cGRhdGVEaXZQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZGl2UG9zaXRpb25YPXMuVXRpbHMuZ2V0RWxlbWVudFBvc2l0aW9uKHRoaXMuX3NjZS5nZXRDYW52YXMoKSkueCx0aGlzLmRpdlBvc2l0aW9uWT1zLlV0aWxzLmdldEVsZW1lbnRQb3NpdGlvbih0aGlzLl9zY2UuZ2V0Q2FudmFzKCkpLnksdGhpcy5tb3VzZVBvc1g9ZS5jbGllbnRYLXRoaXMuZGl2UG9zaXRpb25YLHRoaXMubW91c2VQb3NZPWUuY2xpZW50WS10aGlzLmRpdlBvc2l0aW9uWSx0aGlzLm1vdXNlUG9zWF9vcmlnPXRoaXMubW91c2VQb3NYLHRoaXMubW91c2VQb3NZX29yaWc9dGhpcy5tb3VzZVBvc1ksdGhpcy5tb3VzZU9sZFBvc1g9dGhpcy5tb3VzZVBvc1gsdGhpcy5tb3VzZU9sZFBvc1k9dGhpcy5tb3VzZVBvc1l9fSx7a2V5OlwiY2FsbENvbXBvbmVudEV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMCE9PXRoaXMuX3Byb2plY3QmJm51bGwhPT10aGlzLl9wcm9qZWN0KXt2YXIgaT10aGlzLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCksbz1pLmdldEFjdGl2ZUNhbWVyYSgpLmdldENvbXBvbmVudChhLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTikscj1udWxsO2lmKHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9ET1dOJiZ0aGlzLnVwZGF0ZURpdlBvc2l0aW9uKG4pLHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9NT1ZFJiYodGhpcy5tb3VzZU9sZFBvc1g9dGhpcy5tb3VzZVBvc1gsdGhpcy5tb3VzZU9sZFBvc1k9dGhpcy5tb3VzZVBvc1ksdGhpcy5tb3VzZVBvc1g9bi5jbGllbnRYLXRoaXMuZGl2UG9zaXRpb25YLHRoaXMubW91c2VQb3NZPW4uY2xpZW50WS10aGlzLmRpdlBvc2l0aW9uWSxyPSRWMyhbdGhpcy5tb3VzZVBvc1gtdGhpcy5tb3VzZVBvc1hfb3JpZywwLHRoaXMubW91c2VQb3NZLXRoaXMubW91c2VQb3NZX29yaWddKSksdD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX1dIRUVMKXt0aGlzLnVwZGF0ZURpdlBvc2l0aW9uKG4pO3ZhciBzPW8uZ2V0Rm92KCksbD0odGhpcy5tb3VzZVBvc1gtdGhpcy5fc2NlLmdldENhbnZhcygpLndpZHRoLzIpL3RoaXMuX3NjZS5nZXRDYW52YXMoKS53aWR0aCpzKi4yLHU9KHRoaXMubW91c2VQb3NZLXRoaXMuX3NjZS5nZXRDYW52YXMoKS5oZWlnaHQvMikvdGhpcy5fc2NlLmdldENhbnZhcygpLmhlaWdodCpzKi4yOyh2b2lkIDAhPT1uLndoZWVsRGVsdGFZJiZuLndoZWVsRGVsdGFZPj0wfHx2b2lkIDAhPT1uLmRlbHRhWSYmbi5kZWx0YVk+PTApJiYobCo9LTEsdSo9LTEpO3ZhciBjPWkuZ2V0QWN0aXZlQ2FtZXJhKCkuZ2V0Q29tcG9uZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5UUkFOU0ZPUk1fVEFSR0VUKS5nZXRNYXRyaXgoKSxkPWMuZ2V0TGVmdCgpLngobCksaD1jLmdldFVwKCkueCh1KTtyPWQuYWRkKGgpfWZvcih2YXIgZj0wLHA9aS5nZXROb2RlcygpLmxlbmd0aDtmPHA7ZisrKWZvcih2YXIgZyBpbiBpLmdldE5vZGVzKClbZl0uZ2V0Q29tcG9uZW50cygpKXt2YXIgdj1pLmdldE5vZGVzKClbZl0uZ2V0Q29tcG9uZW50KGcpO3YudHlwZT09PWUmJih0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuS0VZX0RPV04mJm51bGwhPXYuX29ua2V5ZG93biYmITA9PT10aGlzLmZvY3VzZWQmJnYuX29ua2V5ZG93bihuKSx0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuS0VZX1VQJiZudWxsIT12Ll9vbmtleXVwJiZ2Ll9vbmtleXVwKG4pLHQ9PT1hLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9ET1dOJiZudWxsIT12Ll9vbm1vdXNlZG93biYmdi5fb25tb3VzZWRvd24obiksdD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX1VQJiZudWxsIT12Ll9vbm1vdXNldXAmJnYuX29ubW91c2V1cChuKSx0PT09YS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfTU9WRSYmbnVsbCE9di5fb25tb3VzZW1vdmUmJnYuX29ubW91c2Vtb3ZlKG4sciksdD09PWEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX1dIRUVMJiZudWxsIT12Ll9vbm1vdXNld2hlZWwmJnYuX29ubW91c2V3aGVlbChuLHIpKX19fX0se2tleTpcImtleWRvd25MaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbENvbXBvbmVudEV2ZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5LRVlCT0FSRF9FVkVOVFMsYS5Db25zdGFudHMuRVZFTlRfVFlQRVMuS0VZX0RPV04sZSl9fSx7a2V5Olwia2V5dXBMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbENvbXBvbmVudEV2ZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5LRVlCT0FSRF9FVkVOVFMsYS5Db25zdGFudHMuRVZFTlRfVFlQRVMuS0VZX1VQLGUpfX0se2tleTpcIm1vdXNlZG93bkxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsQ29tcG9uZW50RXZlbnQoYS5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTLk1PVVNFX0VWRU5UUyxhLkNvbnN0YW50cy5FVkVOVF9UWVBFUy5NT1VTRV9ET1dOLGUpfX0se2tleTpcIm1vdXNldXBMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbENvbXBvbmVudEV2ZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5NT1VTRV9FVkVOVFMsYS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfVVAsZSl9fSx7a2V5OlwibW91c2Vtb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxDb21wb25lbnRFdmVudChhLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuTU9VU0VfRVZFTlRTLGEuQ29uc3RhbnRzLkVWRU5UX1RZUEVTLk1PVVNFX01PVkUsZSl9fSx7a2V5OlwibW91c2V3aGVlbExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2FsbENvbXBvbmVudEV2ZW50KGEuQ29uc3RhbnRzLkNPTVBPTkVOVF9UWVBFUy5NT1VTRV9FVkVOVFMsYS5Db25zdGFudHMuRVZFTlRfVFlQRVMuTU9VU0VfV0hFRUwsZSl9fV0pLGV9KCk7aS5TeXN0ZW1FdmVudHM9bCx0LmV4cG9ydHMuU3lzdGVtRXZlbnRzPWx9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vQ29uc3RhbnRzXCI6MTYsXCIuL1V0aWxzLmNsYXNzXCI6Mzh9XSwyNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLHI9bi5BY3Rpb25IZWxwZXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2kodGhpcyxlKSx0aGlzLmZpcnN0Q29sdW1XaWR0aD1cIjQwJVwiLHRoaXMuc2Vjb25kQ29sdW1XaWR0aD1cIjYwJVwifXJldHVybiBvKGUsW3trZXk6XCJhZGRfYnRuXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVwiPGRpdj48YnV0dG9uIGlkPSdCVVRUT05JRF9cIit0K1wiJyBzdHlsZT0nd2lkdGg6MTAwJSc+XCIrdCtcIjwvYnV0dG9uPjwvZGl2PlwiO3RoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQoaSxlKTt2YXIgbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJVVFRPTklEX1wiK3QpO28uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0KXtlKHQpfS5iaW5kKHRoaXMsbixvKSl9fSx7a2V5OlwiYWRkX3ZhbHVlc0FuZEJ0blwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyKXtmb3IodmFyIHM9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrXCI7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OmhpZGRlbjtcXFwiPjxidXR0b24gaWQ9J0JVVFRPTklEX1wiK3QrXCInIHN0eWxlPSd3aWR0aDoxMDAlJz5cIit0Kyc8L2J1dHRvbj48L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrJztcIj4nLGE9MDthPGkubGVuZ3RoO2ErKylzKz0nPGlucHV0IHR5cGU9XCInK24rJ1wiIGlkPVwiSU5QVVRJRF8nK3QrXCJfXCIraVthXSsnXCIgc3RlcD1cIicrb1thXS8yMCsnXCIgdmFsdWU9XCInK29bYV0rJ1wiIHRpdGxlPVwiJytpW2FdKydcIiBzdHlsZT1cIndpZHRoOicrKDEwMC9pLmxlbmd0aC0xKSsnJVwiLz4nO3MrPVwiPC9kaXY+PC9kaXY+XCIsdGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChzLGUpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlVUVE9OSURfXCIrdCkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLG89MDtvPGkubGVuZ3RoO28rKyluLnB1c2goZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNJTlBVVElEX1wiK3QrXCJfXCIraVtvXSkuaW5uZXJIVE1MKTtlKG4pfS5iaW5kKHRoaXMscikpfX0se2tleTpcImFkZF9jaGVja2JveFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIHI9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJzt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6aGlkZGVuO1wiPicrdCsnPC9kaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5zZWNvbmRDb2x1bVdpZHRoKyc7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiSU5QVVRJRF8nK3QrJ1wiIC8+PC9kaXY+PC9kaXY+Jzt0aGlzLmNvbnN0cnVjdG9yLmFwcGVuZFN0cmluZ0NoaWxkKHIsZSk7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QpO3MuY2hlY2tlZD0hMD09PW58fDE9PT1uLHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0LG4peyExPT09bi5jaGVja2VkP3QoKTplKCl9LmJpbmQodGhpcyxpLG8scykpfX0se2tleTpcImFkZF9zZWxlY3RcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpLG8pe2Zvcih2YXIgcj0nPGRpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLmZpcnN0Q29sdW1XaWR0aCsnO3ZlcnRpY2FsLWFsaWduOnRvcDtvdmVyZmxvdzpoaWRkZW47XCI+Jyt0Kyc8L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrJztcIj48c2VsZWN0IGlkPVwiU0VMRUNUSURfJyt0KydcIiBzdHlsZT1cIndpZHRoOjEwMCVcIj4nLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9XCJcIjtpPT09bltzXSYmKGE9XCJzZWxlY3RlZD0nc2VsZWN0ZWQnXCIpLHIrPVwiPG9wdGlvbiB2YWx1ZT0nXCIrbltzXStcIicgXCIrYStcIj5cIituW3NdK1wiPC9vcHRpb24+XCJ9cis9XCI8L3NlbGVjdD48L2Rpdj48L2Rpdj5cIix0aGlzLmNvbnN0cnVjdG9yLmFwcGVuZFN0cmluZ0NoaWxkKHIsZSk7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJTRUxFQ1RJRF9cIit0KTtsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UodC5vcHRpb25zW3Quc2VsZWN0ZWRJbmRleF0udmFsdWUpfS5iaW5kKHRoaXMsbyxsKSl9fSx7a2V5OlwiYWRkX3NsaWRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLHMpe3ZhciBhPSc8ZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuZmlyc3RDb2x1bVdpZHRoKyc7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCsnO1wiPjxpbnB1dCBpZD1cIklOUFVUSURfJyt0KydYXCIgdHlwZT1cIm51bWJlclwiIFxcdFxcdG1pbj1cIicraSsnXCIgbWF4PVwiJytvKydcIiBzdGVwPVwiJytyKydcIiB2YWx1ZT1cIicrbisnXCIgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MjAlXCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1hfc2xpZGVyXCIgdHlwZT1cInJhbmdlXCIgXFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuKydcIiBzdHlsZT1cInZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo3OCVcIj48L2Rpdj48L2Rpdj4nO3RoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQoYSxlKTt2YXIgbD1mdW5jdGlvbihlLG4pe3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWFwiKS52YWx1ZTtlKHBhcnNlRmxvYXQoaSkpfSx1PWZ1bmN0aW9uKGUsdCl7dC5uZXh0U2libGluZy52YWx1ZT1wYXJzZUZsb2F0KHQudmFsdWUpLnRvRml4ZWQoMyksbChlKX0sYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlhcIik7Yy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdS5iaW5kKHRoaXMscyxjKSk7KGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJYX3NsaWRlclwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsZnVuY3Rpb24oZSx0KXt0LnByZXZpb3VzU2libGluZy52YWx1ZT1wYXJzZUZsb2F0KHQudmFsdWUpLnRvRml4ZWQoMyksbChlKX0uYmluZCh0aGlzLHMsYykpfX0se2tleTpcImFkZF8zZHNsaWRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLHMpe3ZhciBhPSc8ZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuZmlyc3RDb2x1bVdpZHRoKyc7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OmhpZGRlbjtcIj4nK3QrJzwvZGl2PjxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDonK3RoaXMuc2Vjb25kQ29sdW1XaWR0aCsnO1wiPjxpbnB1dCBpZD1cIklOUFVUSURfJyt0KydYXCIgdHlwZT1cIm51bWJlclwiIFxcdFxcdG1pbj1cIicraSsnXCIgbWF4PVwiJytvKydcIiBzdGVwPVwiJytyKydcIiB2YWx1ZT1cIicrblswXSsnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOnJlZDtjb2xvcjojRkZGO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoyMCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWF9zbGlkZXJcIiB0eXBlPVwicmFuZ2VcIiBcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK25bMF0rJ1wiIHN0eWxlPVwiYmFja2dyb3VuZDpyZWQ7Y29sb3I6I0ZGRjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6NzglXCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1lcIiB0eXBlPVwibnVtYmVyXCIgXFx0XFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuWzFdKydcIiBzdHlsZT1cImJhY2tncm91bmQ6Z3JlZW47Y29sb3I6I0ZGRjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MjAlXCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1lfc2xpZGVyXCIgdHlwZT1cInJhbmdlXCIgXFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuWzFdKydcIiBzdHlsZT1cImJhY2tncm91bmQ6Z3JlZW47Y29sb3I6I0ZGRjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6NzglXCI+PGlucHV0IGlkPVwiSU5QVVRJRF8nK3QrJ1pcIiB0eXBlPVwibnVtYmVyXCIgXFx0XFx0bWluPVwiJytpKydcIiBtYXg9XCInK28rJ1wiIHN0ZXA9XCInK3IrJ1wiIHZhbHVlPVwiJytuWzJdKydcIiBzdHlsZT1cImJhY2tncm91bmQ6Ymx1ZTtjb2xvcjojRkZGO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoyMCVcIj48aW5wdXQgaWQ9XCJJTlBVVElEXycrdCsnWl9zbGlkZXJcIiB0eXBlPVwicmFuZ2VcIiBcXHRtaW49XCInK2krJ1wiIG1heD1cIicrbysnXCIgc3RlcD1cIicrcisnXCIgdmFsdWU9XCInK25bMl0rJ1wiIHN0eWxlPVwiYmFja2dyb3VuZDpibHVlO2NvbG9yOiNGRkY7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjc4JVwiPjwvZGl2PjwvZGl2Pic7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChhLGUpO3ZhciBsPWZ1bmN0aW9uKGUsbil7ZShbcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlhcIikudmFsdWUpLHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJZXCIpLnZhbHVlKSxwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWlwiKS52YWx1ZSldKX0sdT1mdW5jdGlvbihlLHQpe3QubmV4dFNpYmxpbmcudmFsdWU9cGFyc2VGbG9hdCh0LnZhbHVlKS50b0ZpeGVkKDMpLGwoZSl9LGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJYXCIpO2MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHUuYmluZCh0aGlzLHMsYykpLChjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWVwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIix1LmJpbmQodGhpcyxzLGMpKSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix1LmJpbmQodGhpcyxzLGMpKSwoYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlpcIikpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdS5iaW5kKHRoaXMscyxjKSksYy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHUuYmluZCh0aGlzLHMsYykpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdS5iaW5kKHRoaXMscyxjKSk7dmFyIGQ9ZnVuY3Rpb24oZSx0KXt0LnByZXZpb3VzU2libGluZy52YWx1ZT1wYXJzZUZsb2F0KHQudmFsdWUpLnRvRml4ZWQoMyksbChlKX07KGM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlBVVElEX1wiK3QrXCJYX3NsaWRlclwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGQuYmluZCh0aGlzLHMsYykpLChjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0K1wiWV9zbGlkZXJcIikpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixkLmJpbmQodGhpcyxzLGMpKSwoYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCtcIlpfc2xpZGVyXCIpKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZC5iaW5kKHRoaXMscyxjKSl9fSx7a2V5OlwiYWRkX2NvbG9ycGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJztvdmVyZmxvdzpoaWRkZW47XCI+Jyt0Kyc8L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrJztcIj48aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJJTlBVVElEXycrdCsnXCIgdmFsdWU9XCInK24rJ1wiIHN0eWxlPVwid2lkdGg6MTAwJVwiPjwvZGl2PjwvZGl2Pic7dGhpcy5jb25zdHJ1Y3Rvci5hcHBlbmRTdHJpbmdDaGlsZChvLGUpO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5QVVRJRF9cIit0KTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UodC52YWx1ZSl9LmJpbmQodGhpcyxpLHIpKX19LHtrZXk6XCJhZGRfaW1hZ2VTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJztvdmVyZmxvdzpoaWRkZW47XCI+Jyt0Kyc8L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrXCI7XFxcIj48aW5wdXQgaWQ9J0lOUFVUSURfXCIrdCtcIicgdHlwZT0nZmlsZScgc3R5bGU9J2Rpc3BsYXk6bm9uZScvPjxkaXYgaWQ9J0RJVklEX1wiK3QrXCInIG9uY2xpY2s9JyQodGhpcykucHJldigpLmNsaWNrKCk7JyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtib3JkZXI6MXB4IHNvbGlkICNGRkYnPjwvZGl2PjwvZGl2PjwvZGl2PlwiO3RoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQoaSxlKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCkub25jaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRmlsZVJlYWRlcjtlLm9ubG9hZD1mdW5jdGlvbihlKXt2YXIgaT1uZXcgSW1hZ2U7aS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI0lOUFVUSURfXCIrdCkudmFsKCkuc3BsaXQoXCIvXCIpO2U9ZVtlLmxlbmd0aC0xXSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI0RJVklEX1wiK3QpLmFwcGVuZENoaWxkKGkpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjRElWSURfXCIrdCkuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKSxuKGkpfSxpLnNyYz1lLnRhcmdldC5yZXN1bHR9LGUucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGVzWzBdKX19fSx7a2V5OlwiYWRkX2ZpbGVTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9JzxkaXY+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOicrdGhpcy5maXJzdENvbHVtV2lkdGgrJztvdmVyZmxvdzpoaWRkZW47XCI+Jyt0Kyc8L2Rpdj48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6Jyt0aGlzLnNlY29uZENvbHVtV2lkdGgrXCI7XFxcIj48aW5wdXQgaWQ9J0lOUFVUSURfXCIrdCtcIicgdHlwZT0nZmlsZScgc3R5bGU9J2Rpc3BsYXk6bm9uZScvPjxkaXYgaWQ9J0RJVklEX1wiK3QrXCInIG9uY2xpY2s9JyQodGhpcykucHJldigpLmNsaWNrKCk7JyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtib3JkZXI6MXB4IHNvbGlkICNGRkYnPjwvZGl2PjwvZGl2PjwvZGl2PlwiO3RoaXMuY29uc3RydWN0b3IuYXBwZW5kU3RyaW5nQ2hpbGQoaSxlKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklOUFVUSURfXCIrdCkub25jaGFuZ2U9ZnVuY3Rpb24oKXtuKHRoaXMuZmlsZXNbMF0pfX19XSxbe2tleTpcImFwcGVuZFN0cmluZ0NoaWxkXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXZvaWQgMCE9PW4mJm51bGwhPT1uP246XCJlbmRcIixvPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQvaHRtbFwiKTtcImVuZFwiPT09aT90LmFwcGVuZENoaWxkKG8uYm9keS5maXJzdENoaWxkKTp0Lmluc2VydEJlZm9yZShvLmJvZHkuZmlyc3RDaGlsZCx0LmZpcnN0Q2hpbGQpfX1dKSxlfSgpO2UuQWN0aW9uSGVscGVycz1yLHQuZXhwb3J0cy5BY3Rpb25IZWxwZXJzPXJ9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwyODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLkRyYWdnYWJpbGx5Uz12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oZShcImRyYWdnYWJpbGx5XCIpKSxhPW4uRHJhZ2dhYmlsbHlTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO28odGhpcyxlKSx0aGlzLnN0ckF0dHJJRD10LmlkLHRoaXMub25TaG93PXZvaWQgMCE9PXQub25TaG93JiZudWxsIT09dC5vblNob3c/dC5vblNob3c6bnVsbDt2YXIgaT12b2lkIDAhPT10Lmh0bWwmJm51bGwhPT10Lmh0bWw/dC5odG1sOlwiXCI7dGhpcy53aW5kb3dFbmFibGVkPSEwLHRoaXMudGFyZ2V0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmFwcGVuZENoaWxkKHRoaXMudGFyZ2V0KSx0aGlzLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiU0VDbWVudVwiKSx0aGlzLnRhcmdldC5pbm5lckhUTUw9J1xcbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZToxMnB4OyBib3gtc2hhZG93OnJnYmEoMCwgMCwgMCwgMC42ODM1OTQpIDNweCAzcHggOHB4IDFweCxyZ2IoMjU1LCAyNTUsIDI1NSkgMCAwIDVweCAwIGluc2V0OyBib3JkZXItcmFkaXVzOjVweDtyZXNpemU6Ym90aDtvdmVyZmxvdzphdXRvO2JhY2tncm91bmQ6cmdiYSg1MCw1MCw1MCwwLjk1KTtcIj5cXG4gICAgICAgICAgICA8ZGl2IGlkPVwiZWxEU19QYW5lbFwiIHN0eWxlPVwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOjVweDsgd2lkdGg6MTAwJTsgYmFja2dyb3VuZDpyZ2JhKDIwMCwyMDAsMjAwLDAuNyk7IGN1cnNvcjptb3ZlO1xcdGRpc3BsYXk6dGFibGU7XCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6NXB4O2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6Ym9sZDtkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246bWlkZGxlO1wiPicrdC5wYW5lbHRpdGxlKyc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIndpZHRoOjMwcHg7XFx0cGFkZGluZzoycHg7IGRpc3BsYXk6dGFibGUtY2VsbDsgdmVydGljYWwtYWxpZ246bWlkZGxlO1wiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImVsRFNfVGl0bGVNaW5cIiBzdHlsZT1cImN1cnNvcjpwb2ludGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrXCI+JiM4ODYzOzwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImVsRFNfVGl0bGVDbG9zZVwiIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2tcIj4mIzg4NjQ7PC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCInK3RoaXMuc3RyQXR0cklEKydfY29udGVudFwiIHN0eWxlPVwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo1cHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjVweDsgbWluLXdpZHRoOjIyMHB4O1xcdGN1cnNvcjpkZWZhdWx0O1xcdHBhZGRpbmc6NXB4OyBjb2xvcjojRkZGOyAgb3ZlcmZsb3cteTphdXRvO1wiPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgJzt2YXIgcj1uZXcgcy5kZWZhdWx0KHRoaXMudGFyZ2V0LHtoYW5kbGU6XCIjZWxEU19QYW5lbFwifSk7aWYodGhpcy50YXJnZXQuc3R5bGUubGVmdD0xMDAtdGhpcy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCtcInB4XCIsdGhpcy50YXJnZXQuc3R5bGUudG9wPTEwMC10aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ArXCJweFwiLG51bGw9PT1pKXt2YXIgYT10aGlzLnRhcmdldDthLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdHJBdHRySUQrXCJfY29udGVudFwiKS5hcHBlbmRDaGlsZChhKX1lbHNlIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3RyQXR0cklEK1wiX2NvbnRlbnRcIikuaW5uZXJIVE1MPWk7dGhpcy50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNlbERTX1RpdGxlQ2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7bi5oaWRlKCl9KSx0aGlzLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI2VsRFNfVGl0bGVNaW5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXshMD09PW4ud2luZG93RW5hYmxlZD8obi53aW5kb3dTYXZlZFBvc0xlZnQ9bi50YXJnZXQuc3R5bGUubGVmdCxuLndpbmRvd1NhdmVkUG9zVG9wPW4udGFyZ2V0LnN0eWxlLnRvcCxuLnRhcmdldC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbi50YXJnZXQuc3R5bGUubGVmdD1cIjUwXCIsbi50YXJnZXQuc3R5bGUudG9wPVwiMFwiLG4udGFyZ2V0LnN0eWxlLndpZHRoPVwiMTUwcHhcIixuLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI1wiK24uc3RyQXR0cklEK1wiX2NvbnRlbnRcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixuLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI2VsRFNfVGl0bGVNaW5cIikuaW5uZXJIVE1MPVwiJiM4ODYyO1wiLG4ud2luZG93RW5hYmxlZD0hMSk6KG4udGFyZ2V0LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIixuLnRhcmdldC5zdHlsZS5sZWZ0PW4ud2luZG93U2F2ZWRQb3NMZWZ0LG4udGFyZ2V0LnN0eWxlLnRvcD1uLndpbmRvd1NhdmVkUG9zVG9wLG4udGFyZ2V0LnN0eWxlLndpZHRoPVwiOTUwcHhcIixuLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiI1wiK24uc3RyQXR0cklEK1wiX2NvbnRlbnRcIikuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsbi50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNlbERTX1RpdGxlTWluXCIpLmlubmVySFRNTD1cIiYjODg2MztcIixuLndpbmRvd0VuYWJsZWQ9ITApfSksci5vbihcInBvaW50ZXJVcFwiLGZ1bmN0aW9uKGUsdCl7bi50YXJnZXQuY2xpY2soKSxuLnVwWmluZGV4KCksZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmhpZGUoKX1yZXR1cm4gcihlLFt7a2V5OlwiYXBwZW5kU3RyaW5nQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dm9pZCAwIT09bj9uOlwiZW5kXCIsbz0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsXCJ0ZXh0L2h0bWxcIik7XCJlbmRcIj09PWk/dGhpcy50YXJnZXQuYXBwZW5kQ2hpbGQoby5ib2R5LmZpcnN0Q2hpbGQpOnRoaXMudGFyZ2V0Lmluc2VydEJlZm9yZShvLmJvZHkuZmlyc3RDaGlsZCx0aGlzLnRhcmdldC5maXJzdENoaWxkKX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLnVwWmluZGV4KCl9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50YXJnZXQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LHtrZXk6XCJ1cFppbmRleFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5TRUNtZW51XCIpLHQ9ITAsbj0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciBvLHI9ZS52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShvPXIubmV4dCgpKS5kb25lKTt0PSEwKW8udmFsdWUuc3R5bGUuekluZGV4PVwiMFwifWNhdGNoKGUpe249ITAsaT1lfWZpbmFsbHl7dHJ5eyF0JiZyLnJldHVybiYmci5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgaX19dGhpcy50YXJnZXQuc3R5bGUuekluZGV4PVwiOTlcIn19XSksZX0oKTtpLkRyYWdnYWJpbGx5Uz1hLHQuZXhwb3J0cy5EcmFnZ2FiaWxseVM9YX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se2RyYWdnYWJpbGx5OjF9XSwyOTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlBhbmVsTm9kZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuLi9Db25zdGFudHNcIiksYT1lKFwiLi9VSUNvbXBvbmVudEdQVS5jbGFzc1wiKSxsPWUoXCIuL0RyYWdnYWJpbGx5Uy5jbGFzc1wiKSx1PW4uUGFuZWxOb2RlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLnBhbmVsPW5ldyBsLkRyYWdnYWJpbGx5Uyh7aWQ6XCJQYW5lbEVkaXROb2RlXCIscGFuZWx0aXRsZTpcIk5PREVcIixodG1sOic8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGRcIiBpZD1cIkRJVklEX1N0b3JtRWRpdE5vZGVfbmFtZVwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiRElWSURfU3Rvcm1FZGl0Tm9kZV9lZGl0c1wiPjwvZGl2Pid9KSx0aGlzLnBhbmVsLnRhcmdldC5zdHlsZS53aWR0aD1cIjgwMHB4XCIsdGhpcy5lbENvbnRlbnROYW1lPXRoaXMucGFuZWwudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjRElWSURfU3Rvcm1FZGl0Tm9kZV9uYW1lXCIpLHRoaXMuZWxDb250ZW50PXRoaXMucGFuZWwudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjRElWSURfU3Rvcm1FZGl0Tm9kZV9lZGl0c1wiKX1yZXR1cm4gcihlLFt7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucGFuZWwuc2hvdygpLHRoaXMudXBkYXRlTmVhck5vZGUoZSl9fSx7a2V5OlwidXBkYXRlTmVhck5vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSl0aGlzLmVsQ29udGVudE5hbWUuaW5uZXJIVE1MPVwiXCIsdGhpcy5lbENvbnRlbnQuaW5uZXJIVE1MPVwiXCI7ZWxzZXtcIlwiIT09ZS5nZXROYW1lKCkmJih0aGlzLmVsQ29udGVudE5hbWUuaW5uZXJIVE1MPWUuZ2V0TmFtZSgpKSx0aGlzLmVsQ29udGVudC5pbm5lckhUTUw9XCJcIjtmb3IodmFyIHQgaW4gcy5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTKWZvcih2YXIgbiBpbiBlLmdldENvbXBvbmVudHMoKSlpZihuPT09cy5Db25zdGFudHMuQ09NUE9ORU5UX1RZUEVTW3RdLnRvU3RyaW5nKCkpe3ZhciBpPVwiPGRpdiBpZD0nRElWSURfY29tcG9uZW50X1wiK3QrXCInIGNsYXNzPSdjb21wb25lbnQgU3Rvcm1TaGFkb3cwMiBTdG9ybVJvdW5kJz5cIit0K1wiPC9kaXY+XCI7dGhpcy5lbENvbnRlbnQuaW5uZXJIVE1MKz1pLG49PT1zLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVLnRvU3RyaW5nKCk/bmV3IGEuVUlDb21wb25lbnRHUFUodCxlKTpzLkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuUFJPSkVDVElPTi50b1N0cmluZygpfX19fV0pLGV9KCk7aS5QYW5lbE5vZGU9dSx0LmV4cG9ydHMuUGFuZWxOb2RlPXV9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4uL0NvbnN0YW50c1wiOjE2LFwiLi9EcmFnZ2FiaWxseVMuY2xhc3NcIjoyOCxcIi4vVUlDb21wb25lbnRHUFUuY2xhc3NcIjozM31dLDMwOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uUGFuZWxOdW1iZXJHZW5lcmF0b3I9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscz1lKFwiLi9BY3Rpb25IZWxwZXJzLmNsYXNzXCIpLGE9KGZ1bmN0aW9uKGUpe2UmJmUuX19lc01vZHVsZX0oZShcImRyYWdnYWJpbGx5XCIpKSxlKFwiLi9EcmFnZ2FiaWxseVMuY2xhc3NcIikpLGw9bi5QYW5lbE51bWJlckdlbmVyYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5haD1uZXcgcy5BY3Rpb25IZWxwZXJzLHRoaXMucGFuZWw9bmV3IGEuRHJhZ2dhYmlsbHlTKHtpZDpcIkRJVklEX1BhbmVsTnVtYmVyR2VuZXJhdG9yXCIscGFuZWx0aXRsZTpcIk5VTUJFUiBHRU5FUkFUT1JcIn0pLHRoaXMucGFuZWwudGFyZ2V0LnN0eWxlLndpZHRoPVwiNTAwcHhcIn1yZXR1cm4gcihlLFt7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYW5lbC5zaG93KCksdGhpcy5zaG93TGlzdE9iamVjdHMoKX19LHtrZXk6XCJzaG93TGlzdE9iamVjdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRElWSURfUGFuZWxOdW1iZXJHZW5lcmF0b3JfY29udGVudFwiKTtlLmlubmVySFRNTD1cIlwiLHRoaXMuYWguYWRkX2ltYWdlU2VsZWN0aW9uKGUsXCJMT0FEX0lNR1wiLGZ1bmN0aW9uKHQpe2UuYXBwZW5kQ2hpbGQodCksZS5pbm5lckhUTUwrPXQud2lkdGgrXCJ4XCIrdC5oZWlnaHQrXCI9XCIrdC53aWR0aCp0LmhlaWdodCx0LnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCEwKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIixmdW5jdGlvbihlKXtlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPVwibW92ZVwiLGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsdC5zcmMpfSwhMSl9KTt2YXIgdD1mdW5jdGlvbih0LG4pe2Zvcih2YXIgaT1bXSxvPVtdLHI9dFswXSxzPTE7czx0WzFdO3MrKylyKj10WzBdO2Zvcih2YXIgYT10WzJdLGw9MDtsPHIqdFsyXTtsKyspe2lmKGE9PT10WzJdKXthPTAsbz1bXTtmb3IodmFyIHU9MDt1PG47dSsrKW8ucHVzaCgxLTIqTWF0aC5yYW5kb20oKSl9Zm9yKHZhciBjPTA7YzxuO2MrKylpLnB1c2gob1tjXSk7YSsrfXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZC5pbm5lckhUTUw9XCJhcnJcIixkLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCEwKSxlLmFwcGVuZENoaWxkKGQpLGQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGUsdCl7Y29uc29sZS5sb2coZSksdC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZD1cIm1vdmVcIix0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLGUpfS5iaW5kKHRoaXMsaSksITEpfS5iaW5kKHRoaXMpO3RoaXMuYWguYWRkX3ZhbHVlc0FuZEJ0bihlLFwiQ1JFQVRFX1JBTkRPTV9GTE9BVFwiLFwibnVtYmVyXCIsW1wibGVuZ3RoXCIsXCJkaW1lbnNpb25zXCIsXCJyZXBlYXRfRkxPQVRcIl0sWzEyOCwyLDE0XSxmdW5jdGlvbihlKXt0KGUsMSl9LmJpbmQodGhpcykpLHRoaXMuYWguYWRkX3ZhbHVlc0FuZEJ0bihlLFwiQ1JFQVRFX1JBTkRPTV9GTE9BVDRcIixcIm51bWJlclwiLFtcImxlbmd0aFwiLFwiZGltZW5zaW9uc1wiLFwicmVwZWF0X0ZMT0FUNFwiXSxbMTI4LDIsMTRdLGZ1bmN0aW9uKGUpe3QoZSw0KX0uYmluZCh0aGlzKSl9fV0pLGV9KCk7aS5QYW5lbE51bWJlckdlbmVyYXRvcj1sLHQuZXhwb3J0cy5QYW5lbE51bWJlckdlbmVyYXRvcj1sfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIjoyNyxcIi4vRHJhZ2dhYmlsbHlTLmNsYXNzXCI6MjgsZHJhZ2dhYmlsbHk6MX1dLDMxOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uUGFuZWxTdGFnZT12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL0RyYWdnYWJpbGx5Uy5jbGFzc1wiKSxhPW4uUGFuZWxTdGFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5wYW5lbD1uZXcgcy5EcmFnZ2FiaWxseVMoe2lkOlwiRElWSURfUGFuZWxTdGFnZVwiLHBhbmVsdGl0bGU6XCJTVEFHRVwifSksdGhpcy5wYW5lbC50YXJnZXQuc3R5bGUud2lkdGg9XCIyNTBweFwiLHRoaXMuZWxDb250ZW50PXRoaXMucGFuZWwudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIjRElWSURfUGFuZWxTdGFnZV9jb250ZW50XCIpfXJldHVybiByKGUsW3trZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMucGFuZWwuc2hvdygpLHRoaXMuc2hvd0xpc3RPYmplY3RzKGUsdCxuKX19LHtrZXk6XCJzaG93TGlzdE9iamVjdHNcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpczshZnVuY3Rpb24gZSh0LG4sbyl7aS5lbENvbnRlbnQuaW5uZXJIVE1MPVwiXCI7Zm9yKHZhciByPVwiXCIscz0wLGE9dC5sZW5ndGg7czxhO3MrKylyPVwiPGRpdiBpZD0nVERJRF9TdG9ybU9iamVjdE51bV9ub2Rlc1wiK3MrXCInIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiKyh2b2lkIDAhPT1uJiZuPT09dFtzXT9cIiM0NDRcIjpcIiMwMDBcIikrXCI7Y29sb3I6XCIrKCEwPT09dFtzXS5pc0VuYWJsZWQoKT9cIiNGRkZcIjpcIiM5OTlcIikrXCI7Jz5cIit0W3NdLmdldE5hbWUoKStcIjwvZGl2PlwiLGkuZWxDb250ZW50LmlubmVySFRNTCs9cjtmb3IodmFyIGw9MCx1PXQubGVuZ3RoO2w8dTtsKyspIWZ1bmN0aW9uKG4saSl7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJURElEX1N0b3JtT2JqZWN0TnVtX25vZGVzXCIrbik7ci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihpKXtyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cIiM0NDRcIixvKHRbbl0pLGUodCx0W25dLG8pfSl9KGwpfShlLHQsbiksdGhpcy5lbENvbnRlbnREaXY9dGhpcy5wYW5lbC50YXJnZXQucXVlcnlTZWxlY3RvcihcIiNESVZJRF9QYW5lbFN0YWdlX2NvbnRlbnQgZGl2XCIpLHRoaXMuZWxDb250ZW50RGl2LnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIix0aGlzLmVsQ29udGVudERpdi5zdHlsZS5ib3JkZXI9XCIxcHggc29saWQgIzQ0NFwiLHRoaXMuZWxDb250ZW50RGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpe2kuZWxDb250ZW50RGl2LnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCAjQ0NDXCJ9KSx0aGlzLmVsQ29udGVudERpdi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixmdW5jdGlvbigpe2kuZWxDb250ZW50RGl2LnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCAjNDQ0XCJ9KX19XSksZX0oKTtpLlBhbmVsU3RhZ2U9YSx0LmV4cG9ydHMuUGFuZWxTdGFnZT1hfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0RyYWdnYWJpbGx5Uy5jbGFzc1wiOjI4fV0sMzI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5VST12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxzPWUoXCIuL1BhbmVsU3RhZ2UuY2xhc3NcIiksYT1lKFwiLi9QYW5lbE5vZGUuY2xhc3NcIiksbD1lKFwiLi9QYW5lbE51bWJlckdlbmVyYXRvci5jbGFzc1wiKSx1PWUoXCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIiksYz1uLlVJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSksdGhpcy5fcHJvamVjdD10LHRoaXMucGFuZWxfU3RhZ2U9bnVsbCx0aGlzLnBhbmVsX05vZGU9bnVsbCx0aGlzLnBhbmVsX051bWJlckdlbmVyYXRvcj1udWxsfXJldHVybiByKGUsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT0nPGRpdiBzdHlsZT1cImZvbnQtc2l6ZToxMHB4O1wiPlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJUT1BNRU5VXycrZS5pZCsnX3ZpZXdfUGFuZWxTdGFnZVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXI7XCI+U3RhZ2UgLSA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGlkPVwiVE9QTUVOVV8nK2UuaWQrJ192aWV3X1BhbmVsTm9kZVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXI7XCI+Tm9kZSAtIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJUT1BNRU5VXycrZS5pZCsnX3ZpZXdfUGFuZWxOdW1iZXJHZW5lcmF0b3JcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO2N1cnNvcjpwb2ludGVyO1wiPk51bWJlciBHZW5lcmF0b3I8L2Rpdj5cXG5cXHRcXHQ8L2Rpdj4nO3UuQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZChpLGUsXCJpbml0XCIpLHRoaXMucGFuZWxfU3RhZ2U9bmV3IHMuUGFuZWxTdGFnZSx0aGlzLnBhbmVsX05vZGU9bmV3IGEuUGFuZWxOb2RlLHRoaXMucGFuZWxfTnVtYmVyR2VuZXJhdG9yPW5ldyBsLlBhbmVsTnVtYmVyR2VuZXJhdG9yLGUucXVlcnlTZWxlY3RvcihcIiNUT1BNRU5VX1wiK2UuaWQrXCJfdmlld19QYW5lbFN0YWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLG4ucGFuZWxfU3RhZ2Uuc2hvdyhuLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0Tm9kZXMoKSxuLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0U2VsZWN0ZWROb2RlKCksZnVuY3Rpb24oZSl7bi5fcHJvamVjdC5nZXRBY3RpdmVTdGFnZSgpLnNldFNlbGVjdGVkTm9kZShlKSxuLnBhbmVsX05vZGUuc2hvdyhuLl9wcm9qZWN0LmdldEFjdGl2ZVN0YWdlKCkuZ2V0U2VsZWN0ZWROb2RlKCkpfSl9KSxlLnF1ZXJ5U2VsZWN0b3IoXCIjVE9QTUVOVV9cIitlLmlkK1wiX3ZpZXdfUGFuZWxOb2RlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLG4ucGFuZWxfTm9kZS5zaG93KG4uX3Byb2plY3QuZ2V0QWN0aXZlU3RhZ2UoKS5nZXRTZWxlY3RlZE5vZGUoKSl9KSxlLnF1ZXJ5U2VsZWN0b3IoXCIjVE9QTUVOVV9cIitlLmlkK1wiX3ZpZXdfUGFuZWxOdW1iZXJHZW5lcmF0b3JcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksbi5wYW5lbF9OdW1iZXJHZW5lcmF0b3Iuc2hvdygpfSl9fV0pLGV9KCk7aS5VST1jLHQuZXhwb3J0cy5VST1jfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0FjdGlvbkhlbHBlcnMuY2xhc3NcIjoyNyxcIi4vUGFuZWxOb2RlLmNsYXNzXCI6MjksXCIuL1BhbmVsTnVtYmVyR2VuZXJhdG9yLmNsYXNzXCI6MzAsXCIuL1BhbmVsU3RhZ2UuY2xhc3NcIjozMX1dLDMzOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uVUlDb21wb25lbnRHUFU9dm9pZCAwO3ZhciByPWUoXCIuL1VJQ29tcG9uZW50R1BVX0luZGljZXMuY2xhc3NcIikscz1lKFwiLi9VSUNvbXBvbmVudEdQVV9Bcmd1bWVudC5jbGFzc1wiKSxhPWUoXCIuL1VJQ29tcG9uZW50R1BVX0tlcm5lbC5jbGFzc1wiKSxsPWUoXCIuL1VJQ29tcG9uZW50R1BVX1ZmcC5jbGFzc1wiKSx1PWUoXCIuLi9Db25zdGFudHNcIiksYz1lKFwiLi9BY3Rpb25IZWxwZXJzLmNsYXNzXCIpLGQ9bi5VSUNvbXBvbmVudEdQVT1mdW5jdGlvbiBlKHQsbil7byh0aGlzLGUpLHRoaXMuY29tcD1uLmdldENvbXBvbmVudCh1LkNvbnN0YW50cy5DT01QT05FTlRfVFlQRVMuR1BVKTt2YXIgaT10aGlzLmNvbXAuZ2V0QWxsQXJncygpLGQ9XCI8ZGl2IGlkPSdESVZJRF9cIit0K1wiJyBjbGFzcz0nY29tcG9uZW50X3NlY3Rpb24nPjxkaXYgaWQ9J0RJVklEX1wiK3QrXCJfYXJncycgc3R5bGU9J3dpZHRoOjMwMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrOyc+PC9kaXY+PGRpdiBpZD0nRElWSURfXCIrdCtcIl9rZXJuZWxzdmZwcycgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDsnPjwvZGl2PjwvZGl2PlwiO2MuQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZChkLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRElWSURfY29tcG9uZW50X1wiK3QpKSxuZXcgci5VSUNvbXBvbmVudEdQVV9JbmRpY2VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRElWSURfXCIrdCksbix0aGlzLmNvbXAsaSksbmV3IHMuVUlDb21wb25lbnRHUFVfQXJndW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9cIit0K1wiX2FyZ3NcIiksbix0aGlzLmNvbXAsaSksbmV3IGEuVUlDb21wb25lbnRHUFVfS2VybmVsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRElWSURfXCIrdCtcIl9rZXJuZWxzdmZwc1wiKSxuLHRoaXMuY29tcCxpKSxuZXcgbC5VSUNvbXBvbmVudEdQVV9WZnAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJESVZJRF9cIit0K1wiX2tlcm5lbHN2ZnBzXCIpLG4sdGhpcy5jb21wLGkpfTtpLlVJQ29tcG9uZW50R1BVPWQsdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVPWR9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4uL0NvbnN0YW50c1wiOjE2LFwiLi9BY3Rpb25IZWxwZXJzLmNsYXNzXCI6MjcsXCIuL1VJQ29tcG9uZW50R1BVX0FyZ3VtZW50LmNsYXNzXCI6MzQsXCIuL1VJQ29tcG9uZW50R1BVX0luZGljZXMuY2xhc3NcIjozNSxcIi4vVUlDb21wb25lbnRHUFVfS2VybmVsLmNsYXNzXCI6MzYsXCIuL1VJQ29tcG9uZW50R1BVX1ZmcC5jbGFzc1wiOjM3fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bi5VSUNvbXBvbmVudEdQVV9Bcmd1bWVudD1mdW5jdGlvbiBlKHQsbixvLHIpe3ZhciBzPXRoaXM7aSh0aGlzLGUpO3ZhciBhPVwiPGRpdiBpZD0nXCIrdC5pZCtcIl9hcmdzJyBzdHlsZT0nd2lkdGg6aW5oZXJpdDtkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtc2l6ZTo5cHg7Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MjUxcHg7Jz48ZGl2PkFSR1VNRU5UUzwvZGl2PjwvZGl2PlwiLGw9ITE7Zm9yKHZhciB1IGluIHIpe3ZhciBjPXJbdV07YSs9XCI8ZGl2IGlkPSdESVZJRF9cIit1K1wiX2FyZ3MnIHRpdGxlPSdcIitjK1wiJyBzdHlsZT0naGVpZ2h0OjEzcHg7YmFja2dyb3VuZC1jb2xvcjpcIisoITA9PT1sP1wicmdiYSgwLDAsMCwwLjApXCI6XCJyZ2JhKDAsMCwwLDAuMDcpXCIpK1wiJz5cIit1K1wiIDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0NIRUNLQk9YX1VQREFURV9cIit1K1wiJyB0aXRsZT0ndXBkYXRlIG9uIHRpY2snIHN0eWxlPSd3aWR0aDo4cHg7aGVpZ2h0OjhweDttYXJnaW46MDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGUnIC8+XCIsdm9pZCAwIT09YyYmbnVsbCE9PWMmJihjIGluc3RhbmNlb2YgV2ViQ0xHTEJ1ZmZlcj9hKz1cIiA8c3BhbiBzdHlsZT0nY29sb3I6cmdiKDE1MCwgMjU1LCAxNTApJz4ge1dlYkNMR0xCdWZmZXIgXCIrYy5sZW5ndGgrXCJ9PC9zcGFuPlwiOmMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fGMgaW5zdGFuY2VvZiBBcnJheT9hKz1cIiA8c3BhbiBzdHlsZT0nY29sb3I6cmdiKDE1MCwgMjU1LCAxNTApJz4ge1wiK2MuY29uc3RydWN0b3IubmFtZStcIiBcIitjLmxlbmd0aCtcIn08L3NwYW4+XCI6YSs9XCIgPHNwYW4gc3R5bGU9J2NvbG9yOnJnYigxNTAsIDI1NSwgMTUwKSc+IHs8c3Bhbj5cIitjLmNvbnN0cnVjdG9yLm5hbWUrXCIgXCIrYytcIn08L3NwYW4+XCIpLGErPVwiPC9kaXY+XCIsbD0hbH1hKz1cIjwvZGl2PlwiLEFjdGlvbkhlbHBlcnMuYXBwZW5kU3RyaW5nQ2hpbGQoYSx0KTtmb3IodmFyIGQgaW4gcil7cltkXTt2b2lkIDAhPT1vLmdldEFyZ3MoKVtkXSYmbnVsbCE9by5nZXRBcmdzKClbZF0udXBkYXRhYmxlJiZmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQ0hFQ0tCT1hfVVBEQVRFX1wiK2QpO2UuY2hlY2tlZD0hMD09PW8uZ2V0QXJncygpW2RdLnVwZGF0YWJsZSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQsbil7ITE9PT1lLmNoZWNrZWQ/dC5zZXRBcmdVcGRhdGFibGUobiwhMSk6dC5zZXRBcmdVcGRhdGFibGUobiwhMCl9LmJpbmQocyxvLGQpKX0oKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkRJVklEX1wiK2QrXCJfYXJnc1wiKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGUsdCl7dC5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpLHQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJtb3ZlXCIsZS5zdHlsZS5iYWNrZ3JvdW5kPVwicmdiYSgxNTAsIDI1NSwgMTUwLCAwLjMpXCJ9LmJpbmQodGhpcyxoKSwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsZnVuY3Rpb24oZSx0KXtlLnN0eWxlLmJhY2tncm91bmQ9XCJ0cmFuc3BhcmVudFwifS5iaW5kKHRoaXMsaCksITEpLGguYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixmdW5jdGlvbihlLHQsbixpKXtpLnN0b3BQcm9wYWdhdGlvbiYmKGkuc3RvcFByb3BhZ2F0aW9uKCksaS5wcmV2ZW50RGVmYXVsdCgpKSxlLnN0eWxlLmJhY2tncm91bmQ9XCJ0cmFuc3BhcmVudFwiO3ZhciBvPWkuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO2lmKFwiaW1hZ2VcIj09PShvLm1hdGNoKC8sL2kpP1wiYXJyYXlcIjpcImltYWdlXCIpKXt2YXIgcj1uZXcgSW1hZ2U7ci5vbmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe2Uuc2V0QXJnKHQsZnVuY3Rpb24oKXtyZXR1cm4gbn0uYmluZCh0aGlzKSl9LmJpbmQodGhpcyx0LG4sciksci5zcmM9b31lbHNlIHQuc2V0QXJnKG4sZnVuY3Rpb24oKXtyZXR1cm4gby5zcGxpdChcIixcIil9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMsaCxvLGQpLCExKX19O2UuVUlDb21wb25lbnRHUFVfQXJndW1lbnQ9byx0LmV4cG9ydHMuVUlDb21wb25lbnRHUFVfQXJndW1lbnQ9b30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDM1OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4uVUlDb21wb25lbnRHUFVfSW5kaWNlcz1mdW5jdGlvbiBlKHQsbixvLHIpe2kodGhpcyxlKTt2YXIgcz1cIjxkaXYgaWQ9J1wiK3QuaWQrXCJfaW5kaWNlcycgc3R5bGU9J2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpO3BhZGRpbmctbGVmdDozcHgnPjxkaXY+aW5kaWNlczwvZGl2PlwiLGE9by5nZXRCdWZmZXJzKCkuaW5kaWNlczt2b2lkIDAhPT1hJiZhIGluc3RhbmNlb2YgV2ViQ0xHTEJ1ZmZlciYmKHMrPVwiIDxzcGFuIHN0eWxlPSdjb2xvcjpncmV5Jz4ge1dlYkNMR0xCdWZmZXIgXCIrKFwiPHNwYW4gdGl0bGU9J1wiK2EuaW5EYXRhK1wiJz5cIithLmxlbmd0aCtcIjwvc3Bhbj5cIikrXCJ9PC9zcGFuPlwiKSxzKz1cIjwvZGl2PlwiLEFjdGlvbkhlbHBlcnMuYXBwZW5kU3RyaW5nQ2hpbGQocyx0KX07ZS5VSUNvbXBvbmVudEdQVV9JbmRpY2VzPW8sdC5leHBvcnRzLlVJQ29tcG9uZW50R1BVX0luZGljZXM9b30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDM2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uVUlDb21wb25lbnRHUFVfS2VybmVsPXZvaWQgMDt2YXIgcj1lKFwiLi4vQ29uc3RhbnRzXCIpLHM9bi5VSUNvbXBvbmVudEdQVV9LZXJuZWw9ZnVuY3Rpb24gZSh0LG4saSxzKXtvKHRoaXMsZSk7Zm9yKHZhciBhIGluIGkuZ3B1ZkcuZ2V0QWxsS2VybmVscygpKXt2YXIgbD1pLmdwdWZHLmdldEFsbEtlcm5lbHMoKVthXSx1PWwubmFtZSxjPVwiPGRpdiBpZD0nXCIrdC5pZCtcIl9cIit1K1wiX2tlcm5lbHMnIHN0eWxlPSdkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246dG9wO21pbi13aWR0aDoxMDBweDttYXgtd2lkdGg6MTAwcHg7Ym9yZGVyOjFweCBzb2xpZCAjMzMzOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjI1MHB4O292ZXJmbG93LXg6aGlkZGVuOyc+PGRpdj48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdFTkFCTEVfXCIrdStcIicgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4OycvPiBcIitsLm5hbWUrXCI8L2Rpdj48ZGl2PltcIisobnVsbCE9bC5vdXRwdXRbMF0/bC5vdXRwdXQ6XCJTQ1JFRU5cIikrXCJdPC9kaXY+PGRpdj5ERVBUSCBURVNUOiA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdFTkFCTEVfREVQVEhURVNUX1wiK3UrXCInIHN0eWxlPSdmb250LXNpemU6MTBweDsnPjwvZGl2PjxkaXY+QkxFTkQ6IDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9CTEVORF9cIit1K1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7Jz48L2Rpdj48ZGl2PkJMRU5UIEVRVUFUSU9OOiA8c2VsZWN0IGlkPSdCTEVORF9FUVVBVElPTl9cIit1K1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7bWF4LXdpZHRoOjcwcHg7Jz5cIjtmb3IodmFyIGQgaW4gci5Db25zdGFudHMuQkxFTkRJTkdfRVFVQVRJT05fVFlQRVMpYys9XCI8b3B0aW9uIHZhbHVlPSdcIitkK1wiJz5cIitkK1wiPC9vcHRpb24+XCI7Yys9XCI8L3NlbGVjdD48L2Rpdj48ZGl2PkJMRU5EIFNSQyAoRm9yZWdyb3VuZCk6IDxzZWxlY3QgaWQ9J0JMRU5EX3NvdXJjZV9cIit1K1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7bWF4LXdpZHRoOjcwcHg7Jz5cIjtmb3IodmFyIGggaW4gci5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMpYys9XCI8b3B0aW9uIHZhbHVlPSdcIitoK1wiJz5cIitoK1wiPC9vcHRpb24+XCI7Yys9XCI8L3NlbGVjdD48L2Rpdj48ZGl2PkJMRU5EIERTVCAoQmFja2dyb3VuZCk6IDxzZWxlY3QgaWQ9J0JMRU5EX2Rlc3RpbmF0aW9uX1wiK3UrXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgZiBpbiByLkNvbnN0YW50cy5CTEVORElOR19NT0RFUyljKz1cIjxvcHRpb24gdmFsdWU9J1wiK2YrXCInPlwiK2YrXCI8L29wdGlvbj5cIjtjKz1cIjwvc2VsZWN0PjwvZGl2PlwiLGMrPVwiPC9kaXY+XCI7dmFyIHA9ITE7Zm9yKHZhciBnIGluIHMpe3ZhciB2PXNbZ10sXz0hMTtmb3IodmFyIG0gaW4gbC5pbl92YWx1ZXMpaWYoZz09PW0pe189ITAsYys9XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTNweDtiYWNrZ3JvdW5kOnJnYmEoMTUwLDE1MCwyNTUsXCIrKCEwPT09cD8xOi45KStcIik7Y29sb3I6cmdiYSgwLDAsMCwwKTsnPjxzcGFuIHN0eWxlPSdib3JkZXItcmlnaHQ6MXB4IHNvbGlkIGdyZXk7YmFja2dyb3VuZC1jb2xvcjpcIisodm9pZCAwIT09dj9cIndoaXRlXCI6XCJibGFja1wiKStcIjsnPl88L3NwYW4+LVwiO2JyZWFrfSExPT09XyYmKGMrPVwiPGRpdiBzdHlsZT0naGVpZ2h0OjEzcHg7Y29sb3I6cmdiYSgwLDAsMCwwKTtiYWNrZ3JvdW5kLWNvbG9yOlwiKyghMD09PXA/XCJyZ2JhKDAsMCwwLDAuMClcIjpcInJnYmEoMCwwLDAsMC4wNylcIikrXCInPi1cIik7Zm9yKHZhciB5PVwiXCIsYj0wO2I8bC5vdXRwdXQubGVuZ3RoO2IrKylpZihnPT09bC5vdXRwdXRbYl0pe3k9XCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjpibGFjazsnPlVQREFURTwvZGl2PlwiO2JyZWFrfWMrPXkrXCI8L2Rpdj5cIixwPSFwfWMrPVwiPC9kaXY+XCIsQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZChjLHQpO3ZhciBFPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRU5BQkxFX1wiK3UpO0UuY2hlY2tlZD0hMD09PWwuZW5hYmxlZCxFLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUsdCl7ZS5lbmFibGVkPSEwPT09dC5jaGVja2VkfS5iaW5kKHRoaXMsbCxFKSksKEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFTkFCTEVfREVQVEhURVNUX1wiK3UpKS5jaGVja2VkPSEwPT09bC5kZXB0aFRlc3QsRS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlLHQpe2UuZGVwdGhUZXN0PSEwPT09dC5jaGVja2VkfS5iaW5kKHRoaXMsbCxFKSksKEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFTkFCTEVfQkxFTkRfXCIrdSkpLmNoZWNrZWQ9ITA9PT1sLmJsZW5kLEUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZSx0KXtlLmJsZW5kPSEwPT09dC5jaGVja2VkfS5iaW5kKHRoaXMsbCxFKSksRT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJMRU5EX0VRVUFUSU9OX1wiK3UpO2Zvcih2YXIgQz0wO0M8RS5vcHRpb25zLmxlbmd0aDtDKyspaWYoRS5vcHRpb25zW0NdLnZhbHVlPT09bC5ibGVuZEVxdWF0aW9uKXtFLnNlbGVjdGVkSW5kZXg9QzticmVha31FLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UuYmxlbmRFcXVhdGlvbj10Lm9wdGlvbnNbdC5zZWxlY3RlZEluZGV4XS52YWx1ZX0uYmluZCh0aGlzLGwsRSkpLEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCTEVORF9zb3VyY2VfXCIrdSk7Zm9yKHZhciBUPTA7VDxFLm9wdGlvbnMubGVuZ3RoO1QrKylpZihFLm9wdGlvbnNbVF0udmFsdWU9PT1sLmJsZW5kU3JjTW9kZSl7RS5zZWxlY3RlZEluZGV4PVQ7YnJlYWt9RS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSx0KXtlLmJsZW5kU3JjTW9kZT10Lm9wdGlvbnNbdC5zZWxlY3RlZEluZGV4XS52YWx1ZX0uYmluZCh0aGlzLGwsRSkpLEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCTEVORF9kZXN0aW5hdGlvbl9cIit1KTtmb3IodmFyIHg9MDt4PEUub3B0aW9ucy5sZW5ndGg7eCsrKWlmKEUub3B0aW9uc1t4XS52YWx1ZT09PWwuYmxlbmREc3RNb2RlKXtFLnNlbGVjdGVkSW5kZXg9eDticmVha31FLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UuYmxlbmREc3RNb2RlPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXhdLnZhbHVlfS5iaW5kKHRoaXMsbCxFKSl9fTtpLlVJQ29tcG9uZW50R1BVX0tlcm5lbD1zLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9LZXJuZWw9c30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vQ29uc3RhbnRzXCI6MTZ9XSwzNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlVJQ29tcG9uZW50R1BVX1ZmcD12b2lkIDA7dmFyIHI9ZShcIi4uL0NvbnN0YW50c1wiKSxzPW4uVUlDb21wb25lbnRHUFVfVmZwPWZ1bmN0aW9uIGUodCxuLGkscyl7dmFyIGE9dGhpcztvKHRoaXMsZSk7dmFyIGw9bnVsbDtmb3IodmFyIHUgaW4gaS5ncHVmRy5nZXRBbGxWZXJ0ZXhGcmFnbWVudFByb2dyYW0oKSkhZnVuY3Rpb24oZSl7dmFyIG49aS5ncHVmRy5nZXRBbGxWZXJ0ZXhGcmFnbWVudFByb2dyYW0oKVtlXSxvPW4ubmFtZSx1PVwiPGRpdiBpZD0nXCIrdC5pZCtcIl9cIitvK1wiX3Zwcycgc3R5bGU9J2Rpc3BsYXk6dGFibGUtY2VsbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7bWluLXdpZHRoOjEwMHB4O21heC13aWR0aDoxMDBweDtib3JkZXI6MXB4IHNvbGlkICMzMzM7Jz48ZGl2IHN0eWxlPSdoZWlnaHQ6MjUwcHg7b3ZlcmZsb3cteDpoaWRkZW47Jz48ZGl2PjxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9cIitvK1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7Jy8+IFwiK24ubmFtZStcIjwvZGl2PjxkaXY+W1wiKyhudWxsIT1uLm91dHB1dFswXT9uLm91dHB1dDpcIlNDUkVFTlwiKStcIl08L2Rpdj48ZGl2PmRyYXdNb2RlOiA8c2VsZWN0IGlkPSdEUkFXX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgYyBpbiByLkNvbnN0YW50cy5EUkFXX01PREVTKXUrPVwiPG9wdGlvbiB2YWx1ZT0nXCIrci5Db25zdGFudHMuRFJBV19NT0RFU1tjXStcIic+XCIrYytcIjwvb3B0aW9uPlwiO3UrPVwiPC9zZWxlY3Q+PC9kaXY+PGRpdj5ERVBUSCBURVNUOiA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIGlkPSdFTkFCTEVfREVQVEhURVNUX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDsnPjwvZGl2PjxkaXY+QkxFTkQ6IDxpbnB1dCB0eXBlPSdjaGVja2JveCcgaWQ9J0VOQUJMRV9CTEVORF9cIitvK1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7Jz48L2Rpdj48ZGl2PkJMRU5UIEVRVUFUSU9OOiA8c2VsZWN0IGlkPSdCTEVORF9FUVVBVElPTl9cIitvK1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7bWF4LXdpZHRoOjcwcHg7Jz5cIjtmb3IodmFyIGQgaW4gci5Db25zdGFudHMuQkxFTkRJTkdfRVFVQVRJT05fVFlQRVMpdSs9XCI8b3B0aW9uIHZhbHVlPSdcIitkK1wiJz5cIitkK1wiPC9vcHRpb24+XCI7dSs9XCI8L3NlbGVjdD48L2Rpdj48ZGl2PkJMRU5EIFNSQyAoRm9yZWdyb3VuZCk6IDxzZWxlY3QgaWQ9J0JMRU5EX3NvdXJjZV9cIitvK1wiJyBzdHlsZT0nZm9udC1zaXplOjEwcHg7bWF4LXdpZHRoOjcwcHg7Jz5cIjtmb3IodmFyIGggaW4gci5Db25zdGFudHMuQkxFTkRJTkdfTU9ERVMpdSs9XCI8b3B0aW9uIHZhbHVlPSdcIitoK1wiJz5cIitoK1wiPC9vcHRpb24+XCI7dSs9XCI8L3NlbGVjdD48L2Rpdj48ZGl2PkJMRU5EIERTVCAoQmFja2dyb3VuZCk6IDxzZWxlY3QgaWQ9J0JMRU5EX2Rlc3RpbmF0aW9uX1wiK28rXCInIHN0eWxlPSdmb250LXNpemU6MTBweDttYXgtd2lkdGg6NzBweDsnPlwiO2Zvcih2YXIgZiBpbiByLkNvbnN0YW50cy5CTEVORElOR19NT0RFUyl1Kz1cIjxvcHRpb24gdmFsdWU9J1wiK2YrXCInPlwiK2YrXCI8L29wdGlvbj5cIjt1Kz1cIjwvc2VsZWN0PjwvZGl2PlwiLHUrPVwiPC9kaXY+XCIsbD0hMTtmb3IodmFyIHAgaW4gcyl7dmFyIGc9c1twXSx2PSExO2Zvcih2YXIgXyBpbiBuLmluX3ZlcnRleF92YWx1ZXMpaWYocD09PV8pe3Y9ITAsdSs9XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTNweDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDE1MCwxNTAsXCIrKCEwPT09bD8xOi45KStcIik7Y29sb3I6cmdiYSgwLDAsMCwwKTsnPjxzcGFuIHN0eWxlPSdib3JkZXItcmlnaHQ6MXB4IHNvbGlkIGdyZXk7YmFja2dyb3VuZC1jb2xvcjpcIisodm9pZCAwIT09Zz9cIndoaXRlXCI6XCJibGFja1wiKStcIjsnPl88L3NwYW4+PHNwYW4gc3R5bGU9J2NvbG9yOmJsdWU7Jz5cIisoXCJmbG9hdDRfZnJvbVNhbXBsZXJcIj09PW4uaW5fdmVydGV4X3ZhbHVlc1tfXS50eXBlfHxcImZsb2F0X2Zyb21TYW1wbGVyXCI9PT1uLmluX3ZlcnRleF92YWx1ZXNbX10udHlwZT9cImZyb21TYW1wbGVyXCI6XCJcIikrXCI8L3NwYW4+LVwiO2JyZWFrfSExPT09diYmKHUrPVwiPGRpdiBzdHlsZT0naGVpZ2h0OjEzcHg7Y29sb3I6cmdiYSgwLDAsMCwwKTtiYWNrZ3JvdW5kLWNvbG9yOlwiKyghMD09PWw/XCJyZ2JhKDAsMCwwLDAuMClcIjpcInJnYmEoMCwwLDAsMC4wNylcIikrXCInPi1cIiksdSs9XCI8L2Rpdj5cIixsPSFsfXUrPVwiPC9kaXY+XCIsQWN0aW9uSGVscGVycy5hcHBlbmRTdHJpbmdDaGlsZCh1LHQpO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRU5BQkxFX1wiK28pO20uY2hlY2tlZD0hMD09PW4uZW5hYmxlZCxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUsdCl7ZS5lbmFibGVkPSEwPT09dC5jaGVja2VkfS5iaW5kKGEsbixtKSksbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkRSQVdfXCIrbyk7Zm9yKHZhciB5PTA7eTxtLm9wdGlvbnMubGVuZ3RoO3krKylpZihtLm9wdGlvbnNbeV0udmFsdWU9PT1uLmRyYXdNb2RlKXttLnNlbGVjdGVkSW5kZXg9eTticmVha31tLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQsaSl7Y29uc29sZS5sb2coaS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWUpLG4uZHJhd01vZGU9cGFyc2VJbnQoaS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWUpfS5iaW5kKGEsaSxvLG0pKSwobT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVOQUJMRV9ERVBUSFRFU1RfXCIrbykpLmNoZWNrZWQ9ITA9PT1uLmRlcHRoVGVzdCxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUsdCl7ZS5kZXB0aFRlc3Q9ITA9PT10LmNoZWNrZWR9LmJpbmQoYSxuLG0pKSwobT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVOQUJMRV9CTEVORF9cIitvKSkuY2hlY2tlZD0hMD09PW4uYmxlbmQsbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlLHQpe2UuYmxlbmQ9ITA9PT10LmNoZWNrZWR9LmJpbmQoYSxuLG0pKSxtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQkxFTkRfRVFVQVRJT05fXCIrbyk7Zm9yKHZhciBiPTA7YjxtLm9wdGlvbnMubGVuZ3RoO2IrKylpZihtLm9wdGlvbnNbYl0udmFsdWU9PT1uLmJsZW5kRXF1YXRpb24pe20uc2VsZWN0ZWRJbmRleD1iO2JyZWFrfW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZEVxdWF0aW9uPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXhdLnZhbHVlfS5iaW5kKGEsbixtKSksbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJMRU5EX3NvdXJjZV9cIitvKTtmb3IodmFyIEU9MDtFPG0ub3B0aW9ucy5sZW5ndGg7RSsrKWlmKG0ub3B0aW9uc1tFXS52YWx1ZT09PW4uYmxlbmRTcmNNb2RlKXttLnNlbGVjdGVkSW5kZXg9RTticmVha31tLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbihlLHQpe2UuYmxlbmRTcmNNb2RlPXQub3B0aW9uc1t0LnNlbGVjdGVkSW5kZXhdLnZhbHVlfS5iaW5kKGEsbixtKSksbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJMRU5EX2Rlc3RpbmF0aW9uX1wiK28pO2Zvcih2YXIgQz0wO0M8bS5vcHRpb25zLmxlbmd0aDtDKyspaWYobS5vcHRpb25zW0NdLnZhbHVlPT09bi5ibGVuZERzdE1vZGUpe20uc2VsZWN0ZWRJbmRleD1DO2JyZWFrfW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUsdCl7ZS5ibGVuZERzdE1vZGU9dC5vcHRpb25zW3Quc2VsZWN0ZWRJbmRleF0udmFsdWV9LmJpbmQoYSxuLG0pKSx1PVwiPGRpdiBpZD0nRElWSURfXCIrbytcIl9mcHMnIHN0eWxlPSdkaXNwbGF5OnRhYmxlLWNlbGw7dmVydGljYWwtYWxpZ246dG9wO21pbi13aWR0aDo1MHB4O21heC13aWR0aDo1MHB4O2JvcmRlcjoxcHggc29saWQgIzMzMzsnPjxkaXYgc3R5bGU9J2hlaWdodDoyNTBweDsnPlwiLHUrPVwiPC9kaXY+XCIsbD0hMTtmb3IodmFyIFQgaW4gcyl7dmFyIHg9c1tUXSxQPSExO2Zvcih2YXIgdyBpbiBuLmluX2ZyYWdtZW50X3ZhbHVlcylpZihUPT09dyl7UD0hMCx1Kz1cIjxkaXYgc3R5bGU9J2hlaWdodDoxM3B4O2JhY2tncm91bmQ6cmdiYSgxNTAsMTUwLDI1NSxcIisoITA9PT1sPzE6LjkpK1wiKTtjb2xvcjpyZ2JhKDAsMCwwLDApOyc+PHNwYW4gc3R5bGU9J2JvcmRlci1yaWdodDoxcHggc29saWQgZ3JleTtiYWNrZ3JvdW5kLWNvbG9yOlwiKyh2b2lkIDAhPT14P1wid2hpdGVcIjpcImJsYWNrXCIpK1wiOyc+Xzwvc3Bhbj4tXCI7YnJlYWt9ITE9PT1QJiYodSs9XCI8ZGl2IHN0eWxlPSdoZWlnaHQ6MTNweDtjb2xvcjpyZ2JhKDAsMCwwLDApO2JhY2tncm91bmQtY29sb3I6XCIrKCEwPT09bD9cInJnYmEoMCwwLDAsMC4wKVwiOlwicmdiYSgwLDAsMCwwLjA3KVwiKStcIic+LVwiKTtmb3IodmFyIEw9XCJcIixTPTA7UzxuLm91dHB1dC5sZW5ndGg7UysrKWlmKFQ9PT1uLm91dHB1dFtTXSl7TD1cIjxkaXYgc3R5bGU9J2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbG9yOmJsYWNrOyc+VVBEQVRFPC9kaXY+XCI7YnJlYWt9dSs9TCtcIjwvZGl2PlwiLGw9IWx9dSs9XCI8L2Rpdj5cIixBY3Rpb25IZWxwZXJzLmFwcGVuZFN0cmluZ0NoaWxkKHUsdCl9KHUpfTtpLlVJQ29tcG9uZW50R1BVX1ZmcD1zLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9WZnA9c30pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vQ29uc3RhbnRzXCI6MTZ9XSwzODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLlV0aWxzPXZvaWQgMDt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7ZShcIndlYmNsZ2xcIik7dmFyIGE9bi5VdGlscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksd2luZG93LnJlcXVlc3RBbmltRnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwxZTMvNjApfX1yZXR1cm4gcyhlLFt7a2V5OlwiZ2V0SW1hZ2VGcm9tQ2FudmFzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO24ub25sb2FkPWZ1bmN0aW9uKCl7dChuKX0sbi5zcmM9ZS50b0RhdGFVUkwoKX19LHtrZXk6XCJwYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49WzEvMjU1LDEvMjU1LDEvMjU1LDBdLGk9dCxvPWUuZnJhY3QoMjU1KmkpLHI9ZS5mcmFjdCgyNTUqbykscz1baSxvLHIsZS5mcmFjdCgyNTUqcildLGE9W3NbMV0qblswXSxzWzJdKm5bMV0sc1szXSpuWzJdLHNbM10qblszXV07cmV0dXJuW3NbMF0tYVswXSxzWzFdLWFbMV0sc1syXS1hWzJdLHNbM10tYVszXV19fSx7a2V5OlwidW5wYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIG49WzEsMS8yNTUsMS82NTAyNSwxLzE2NTgxMzc1XTtyZXR1cm4gZS5kb3Q0KHQsbil9fV0sW3trZXk6XCJnZXRDYW52YXNGcm9tVWludDhBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kud2lkdGg9dCxpLmhlaWdodD1uO2Zvcih2YXIgbz1pLmdldENvbnRleHQoXCIyZFwiKSxyPW8uY3JlYXRlSW1hZ2VEYXRhKHQsbikscz0wO3M8ci5kYXRhLmxlbmd0aDtzKyspci5kYXRhW3NdPWVbc107cmV0dXJuIG8ucHV0SW1hZ2VEYXRhKHIsMCwwKSxpfX0se2tleTpcImdldFVpbnQ4QXJyYXlGcm9tSFRNTEltYWdlRWxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC53aWR0aD1lLndpZHRoLHQuaGVpZ2h0PWUuaGVpZ2h0O3ZhciBuPXQuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBuLmRyYXdJbWFnZShlLDAsMCksbi5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpLmRhdGF9fSx7a2V5OlwiZ2V0VmVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24odCxuKXt2YXIgaT1lLmNhcnRlc2lhblRvU3BoZXJpY2FsKHQpLG89aS5sYXQscj1pLmxuZztyZXR1cm4gbys9biooMTgwKk1hdGgucmFuZG9tKCktOTApLHIrPW4qKDE4MCpNYXRoLnJhbmRvbSgpLTkwKSxlLnNwaGVyaWNhbFRvQ2FydGVzaWFuKDEsbyxyKX19LHtrZXk6XCJnZXRWZWN0b3JHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjMyBnZXRWZWN0b3IodmVjMyB2ZWNOb3JtYWwsIGZsb2F0IGRlZ3JlZXMsIHZlYzIgdmVjTm9pc2UpIHtcXG52ZWMzIG9iID0gY2FydGVzaWFuVG9TcGhlcmljYWwodmVjTm9ybWFsKTtmbG9hdCBhbmdsZUxhdCA9IG9iLnk7ZmxvYXQgYW5nbGVMbmcgPSBvYi56O2Zsb2F0IGRlc3ZMYXQgPSAodmVjTm9pc2UueCoxODAuMCktOTAuMDtmbG9hdCBkZXN2TG5nID0gKHZlY05vaXNlLnkqMTgwLjApLTkwLjA7YW5nbGVMYXQgKz0gKGRlZ3JlZXMqZGVzdkxhdCk7YW5nbGVMbmcgKz0gKGRlZ3JlZXMqZGVzdkxuZyk7cmV0dXJuIHNwaGVyaWNhbFRvQ2FydGVzaWFuKHZlYzMoMS4wLCBhbmdsZUxhdCwgYW5nbGVMbmcpKTt9XFxuXCJ9fSx7a2V5OlwiY2FydGVzaWFuVG9TcGhlcmljYWxcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1NYXRoLnNxcnQodC5lWzBdKnQuZVswXSt0LmVbMV0qdC5lWzFdK3QuZVsyXSp0LmVbMl0pO3JldHVybntyYWRpdXM6bixsYXQ6ZS5yYWRUb0RlZyhNYXRoLmFjb3ModC5lWzFdL24pKSxsbmc6ZS5yYWRUb0RlZyhNYXRoLmF0YW4yKHQuZVsyXSx0LmVbMF0pKX19fSx7a2V5OlwiY2FydGVzaWFuVG9TcGhlcmljYWxHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjMyBjYXJ0ZXNpYW5Ub1NwaGVyaWNhbCh2ZWMzIHZlY3QpIHtcXG5mbG9hdCByID0gc3FydCh2ZWN0LngqdmVjdC54ICsgdmVjdC55KnZlY3QueSArIHZlY3Queip2ZWN0LnopO2Zsb2F0IGFuZ2xlTGF0ID0gcmFkVG9EZWcoYWNvcyh2ZWN0LnkvcikpO2Zsb2F0IGFuZ2xlTG5nID0gcmFkVG9EZWcoYXRhbih2ZWN0LnosIHZlY3QueCkpO3JldHVybiB2ZWMzKHIsIGFuZ2xlTGF0LCBhbmdsZUxuZyk7fVxcblwifX0se2tleTpcInNwaGVyaWNhbFRvQ2FydGVzaWFuXCIsdmFsdWU6ZnVuY3Rpb24odCxuLGkpe3ZhciBvPXQscj1lLmRlZ1RvUmFkKG4pLHM9ZS5kZWdUb1JhZChpKSxhPW8qTWF0aC5zaW4ocikqTWF0aC5jb3MocyksbD1vKk1hdGguc2luKHIpKk1hdGguc2luKHMpLHU9bypNYXRoLmNvcyhyKTtyZXR1cm4gbmV3IFN0b3JtVjMoW2EsdSxsXSl9fSx7a2V5Olwic3BoZXJpY2FsVG9DYXJ0ZXNpYW5HTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVjMyBzcGhlcmljYWxUb0NhcnRlc2lhbih2ZWMzIHZlY3QpIHtcXG5mbG9hdCByID0gdmVjdC54O2Zsb2F0IGFuZ2xlTGF0ID0gZGVnVG9SYWQodmVjdC55KTtmbG9hdCBhbmdsZUxuZyA9IGRlZ1RvUmFkKHZlY3Queik7ZmxvYXQgeCA9IHIqc2luKGFuZ2xlTGF0KSpjb3MoYW5nbGVMbmcpO2Zsb2F0IHogPSByKnNpbihhbmdsZUxhdCkqc2luKGFuZ2xlTG5nKTtmbG9hdCB5ID0gcipjb3MoYW5nbGVMYXQpO3JldHVybiB2ZWMzKHgseSx6KTt9XFxuXCJ9fSx7a2V5OlwicmVmcmFjdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPW4vaSxyPS0xKnQuZG90KGUpLHM9MS1vKm8qKDEtcipyKTtyZXR1cm4gZS54KG8pLmFkZCh0LngobypyLU1hdGguc3FydChzKSkpfX0se2tleTpcImRlZ1RvUmFkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIDMuMTQxNTkqZS8xODB9fSx7a2V5OlwiZGVnVG9SYWRHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZmxvYXQgZGVnVG9SYWQoZmxvYXQgZGVnKSB7cmV0dXJuIChkZWcqMy4xNDE1OSkvMTgwLjA7fVwifX0se2tleTpcInJhZFRvRGVnXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUqKDE4MC8zLjE0MTU5KX19LHtrZXk6XCJyYWRUb0RlZ0dMU0xGdW5jdGlvblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJmbG9hdCByYWRUb0RlZyhmbG9hdCByYWQpIHtyZXR1cm4gcmFkKigxODAuMC8zLjE0MTU5KTt9XCJ9fSx7a2V5OlwiaGV4VG9SZ2JcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0vXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO2U9ZS5yZXBsYWNlKHQsZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIHQrdCtuK24raStpfSk7dmFyIG49L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGUpO3JldHVybiBuP3tyOnBhcnNlSW50KG5bMV0sMTYpLGc6cGFyc2VJbnQoblsyXSwxNiksYjpwYXJzZUludChuWzNdLDE2KX06bnVsbH19LHtrZXk6XCJyZ2JUb0hleFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwiI1wiKygxNjc3NzIxNisoZVsyXXxlWzFdPDw4fGVbMF08PDE2KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpfX0se2tleTpcImludnNxcnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gMS9lfX0se2tleTpcInNtb290aHN0ZXBcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYobjxlKXJldHVybiAwO2lmKG4+PXQpcmV0dXJuIDE7aWYoZT09PXQpcmV0dXJuLTE7dmFyIGk9KG4tZSkvKHQtZSk7cmV0dXJuIGkqaSooMy0yKmkpfX0se2tleTpcImRvdDRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXStlWzNdKnRbM119fSx7a2V5OlwiZnJhY3RcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT4wP2UtTWF0aC5mbG9vcihlKTplLU1hdGguY2VpbChlKX19LHtrZXk6XCJwYWNrR0xTTEZ1bmN0aW9uU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInZlYzQgcGFjayAoZmxvYXQgZGVwdGgpIHtjb25zdCB2ZWM0IGJpYXMgPSB2ZWM0KCAxLjAgLyAyNTUuMCwxLjAgLyAyNTUuMCwxLjAgLyAyNTUuMCwwLjApO2Zsb2F0IHIgPSBkZXB0aDtmbG9hdCBnID0gZnJhY3QociAqIDI1NS4wKTtmbG9hdCBiID0gZnJhY3QoZyAqIDI1NS4wKTtmbG9hdCBhID0gZnJhY3QoYiAqIDI1NS4wKTt2ZWM0IGNvbG91ciA9IHZlYzQociwgZywgYiwgYSk7cmV0dXJuIGNvbG91ciAtIChjb2xvdXIueXp3dyAqIGJpYXMpO31cIn19LHtrZXk6XCJ1bnBhY2tHTFNMRnVuY3Rpb25TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZmxvYXQgdW5wYWNrICh2ZWM0IGNvbG91cikge2NvbnN0IHZlYzQgYml0U2hpZnRzID0gdmVjNCgxLjAsMS4wIC8gMjU1LjAsMS4wIC8gKDI1NS4wICogMjU1LjApLDEuMCAvICgyNTUuMCAqIDI1NS4wICogMjU1LjApKTtyZXR1cm4gZG90KGNvbG91ciwgYml0U2hpZnRzKTt9XCJ9fSx7a2V5OlwicmF5VHJhdmVyc2FsSW5pdFNUUlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJmbG9hdCB3aCA9IGNlaWwoc3FydCh1UmVzb2x1dGlvbip1UmVzb2x1dGlvbip1UmVzb2x1dGlvbikpO1xcbmZsb2F0IGNzID0gdUdyaWRzaXplL3VSZXNvbHV0aW9uO1xcbmZsb2F0IGNocyA9IGNzLzIuMDtcXG5mbG9hdCB0ZXhlbFNpemUgPSAxLjAvKHdoLTEuMCk7XFxudmVjMyBnbCA9IHZlYzMoLSh1R3JpZHNpemUvMi4wKSwgLSh1R3JpZHNpemUvMi4wKSwgLSh1R3JpZHNpemUvMi4wKSk7XFxudmVjMyBfciA9IHZlYzModUdyaWRzaXplLCB1R3JpZHNpemUsIHVHcmlkc2l6ZSk7XFxudmVjMyBfclJlcyA9IHZlYzModVJlc29sdXRpb24sIHVSZXNvbHV0aW9uLCB1UmVzb2x1dGlvbik7XFxudmVjMyBfbGVuID0gX3IvX3JSZXM7XFxudmVjMyB3b3JsZFRvVm94ZWwodmVjMyB3b3JsZCkge1xcbnZlYzMgaWprID0gKHdvcmxkIC0gZ2wpIC8gX2xlbjtcXG5pamsgPSB2ZWMzKGZsb29yKGlqay54KSwgZmxvb3IoaWprLnkpLCBmbG9vcihpamsueikpO1xcbnJldHVybiBpams7XFxufVxcbmZsb2F0IHZveGVsVG9Xb3JsZFgoZmxvYXQgeCkge3JldHVybiB4ICogX2xlbi54ICsgZ2wueDt9XFxuZmxvYXQgdm94ZWxUb1dvcmxkWShmbG9hdCB5KSB7cmV0dXJuIHkgKiBfbGVuLnkgKyBnbC55O31cXG5mbG9hdCB2b3hlbFRvV29ybGRaKGZsb2F0IHopIHtyZXR1cm4geiAqIF9sZW4ueiArIGdsLno7fVxcblwifX0se2tleTpcInJheVRyYXZlcnNhbFNUUlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwidmVjMiBnZXRJZCh2ZWMzIHZveGVsKSB7XFxuaW50IHRleDNkSWQgPSAoaW50KHZveGVsLnkpKihpbnQodVJlc29sdXRpb24pKmludCh1UmVzb2x1dGlvbikpKSsoaW50KHZveGVsLnopKihpbnQodVJlc29sdXRpb24pKSkraW50KHZveGVsLngpO1xcbmZsb2F0IG51bSA9IGZsb2F0KHRleDNkSWQpL3doO1xcbmZsb2F0IGNvbCA9IGZyYWN0KG51bSkqd2g7XFxuZmxvYXQgcm93ID0gZmxvb3IobnVtKTtcXG5yZXR1cm4gdmVjMihjb2wqdGV4ZWxTaXplLCByb3cqdGV4ZWxTaXplKTtcXG59XFxudmVjNCBnZXRWb3hlbF9Db2xvcih2ZWMyIHRleFZlYywgdmVjMyB2b3hlbCwgdmVjMyBSYXlPcmlnaW4pIHtcXG52ZWM0IHJnYmEgPSB2ZWM0KDAuMCwwLjAsMC4wLDAuMCk7XFxudmVjNCB0ZXh0dXJlID0gc2FtcGxlcl92b3hlbENvbG9yW3ZlYzIodGV4VmVjLngsIHRleFZlYy55KV07XFxuaWYodGV4dHVyZS5hLzI1NS4wID4gMC41KSB7XFxucmdiYSA9IHZlYzQodGV4dHVyZS5yZ2IvMjU1LjAsZGlzdGFuY2UodmVjMyh2b3hlbFRvV29ybGRYKHZveGVsLngpLCB2b3hlbFRvV29ybGRYKHZveGVsLnkpLCB2b3hlbFRvV29ybGRYKHZveGVsLnopKSxSYXlPcmlnaW4pKTtcXG59XFxucmV0dXJuIHJnYmE7XFxufVxcbnZlYzQgZ2V0Vm94ZWxfUG9zKHZlYzIgdGV4VmVjKSB7XFxudmVjNCByZ2JhID0gdmVjNCgwLjAsMC4wLDAuMCwwLjApO1xcbnZlYzQgdGV4dHVyZSA9IHNhbXBsZXJfdm94ZWxQb3NbdmVjMih0ZXhWZWMueCwgdGV4VmVjLnkpXTtcXG5yZ2JhID0gdmVjNCggKCh0ZXh0dXJlLnh5ei8yNTUuMCkqdUdyaWRzaXplKS0odUdyaWRzaXplLzIuMCksIDEuMCk7XFxucmV0dXJuIHJnYmE7XFxufVxcbnZlYzQgZ2V0Vm94ZWxfTm9ybWFsKHZlYzIgdGV4VmVjKSB7XFxudmVjNCByZ2JhID0gdmVjNCgwLjAsMC4wLDAuMCwwLjApO1xcbnZlYzQgdGV4dHVyZSA9IHNhbXBsZXJfdm94ZWxOb3JtYWxbdmVjMih0ZXhWZWMueCwgdGV4VmVjLnkpXTtcXG5yZ2JhID0gdmVjNCgoKHRleHR1cmUucmdiLzI1NS4wKSoyLjApLTEuMCwgMS4wKTtcXG5yZXR1cm4gcmdiYTtcXG59XFxuc3RydWN0IFJheVRyYXZlcnNhbFJlc3BvbnNlIHt2ZWM0IHZveGVsQ29sb3I7dmVjNCB2b3hlbFBvczt2ZWM0IHZveGVsTm9ybWFsO307UmF5VHJhdmVyc2FsUmVzcG9uc2UgcmF5VHJhdmVyc2FsKHZlYzMgUmF5T3JpZ2luLCB2ZWMzIFJheURpcikge1xcbnZlYzQgZnZveGVsQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7dmVjNCBmdm94ZWxQb3MgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7dmVjNCBmdm94ZWxOb3JtYWwgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7dmVjMyB2b3hlbCA9IHdvcmxkVG9Wb3hlbChSYXlPcmlnaW4pO3ZlYzMgX2RpciA9IG5vcm1hbGl6ZShSYXlEaXIpO3ZlYzMgdE1heDtpZihSYXlEaXIueCA8IDAuMCkgdE1heC54ID0gKHZveGVsVG9Xb3JsZFgodm94ZWwueCktUmF5T3JpZ2luLngpL1JheURpci54O2lmKFJheURpci54ID4gMC4wKSB0TWF4LnggPSAodm94ZWxUb1dvcmxkWCh2b3hlbC54KzEuMCktUmF5T3JpZ2luLngpL1JheURpci54O2lmKFJheURpci55IDwgMC4wKSB0TWF4LnkgPSAodm94ZWxUb1dvcmxkWSh2b3hlbC55KS1SYXlPcmlnaW4ueSkvUmF5RGlyLnk7aWYoUmF5RGlyLnkgPCAwLjApIHRNYXgueSA9ICh2b3hlbFRvV29ybGRZKHZveGVsLnkrMS4wKS1SYXlPcmlnaW4ueSkvUmF5RGlyLnk7aWYoUmF5RGlyLnogPCAwLjApIHRNYXgueiA9ICh2b3hlbFRvV29ybGRaKHZveGVsLnopLVJheU9yaWdpbi56KS9SYXlEaXIuejtpZihSYXlEaXIueiA8IDAuMCkgdE1heC56ID0gKHZveGVsVG9Xb3JsZFoodm94ZWwueisxLjApLVJheU9yaWdpbi56KS9SYXlEaXIuejtmbG9hdCB0RGVsdGFYID0gX3IueC9hYnMoUmF5RGlyLngpO2Zsb2F0IHREZWx0YVkgPSBfci55L2FicyhSYXlEaXIueSk7ZmxvYXQgdERlbHRhWiA9IF9yLnovYWJzKFJheURpci56KTtmbG9hdCBzdGVwWCA9IDEuMDsgZmxvYXQgc3RlcFkgPSAxLjA7IGZsb2F0IHN0ZXBaID0gMS4wO1xcbmZsb2F0IG91dFggPSBfci54OyBmbG9hdCBvdXRZID0gX3IueTsgZmxvYXQgb3V0WiA9IF9yLno7XFxuaWYoUmF5RGlyLnggPCAwLjApIHtzdGVwWCA9IC0xLjA7IG91dFggPSAtMS4wO31pZihSYXlEaXIueSA8IDAuMCkge3N0ZXBZID0gLTEuMDsgb3V0WSA9IC0xLjA7fWlmKFJheURpci56IDwgMC4wKSB7c3RlcFogPSAtMS4wOyBvdXRaID0gLTEuMDt9dmVjNCBjb2xvciA9IHZlYzQoMC4wLDAuMCwwLjAsMC4wKTtcXG5ib29sIGMxOyBib29sIGMyOyBib29sIGMzOyBib29sIGlzT3V0O3ZlYzIgdmlkO2ZvcihpbnQgYyA9IDA7IGMgPCBcIitlK1wiKjI7IGMrKykge1xcbmMxID0gYm9vbCh0TWF4LnggPCB0TWF4LnkpO2MyID0gYm9vbCh0TWF4LnggPCB0TWF4LnopO2MzID0gYm9vbCh0TWF4LnkgPCB0TWF4LnopO2lzT3V0ID0gZmFsc2U7aWYgKGMxICYmIGMyKSB7dm94ZWwueCArPSBzdGVwWDtpZih2b3hlbC54PT1vdXRYKSBpc091dD10cnVlO3RNYXgueCArPSB0RGVsdGFYO30gZWxzZSBpZigoIChjMSAmJiAhYzIpIHx8ICghYzEgJiYgIWMzKSApKSB7dm94ZWwueiArPSBzdGVwWjtpZih2b3hlbC56PT1vdXRaKSBpc091dD10cnVlO3RNYXgueiArPSB0RGVsdGFaO30gZWxzZSBpZighYzEgJiYgYzMpIHt2b3hlbC55ICs9IHN0ZXBZO2lmKHZveGVsLnk9PW91dFkpIGlzT3V0PXRydWU7dE1heC55ICs9IHREZWx0YVk7fWlmKGlzT3V0ID09IHRydWUpIGJyZWFrO1xcbmVsc2Uge2lmKCh2b3hlbC54ID49IDAuMCAmJiB2b3hlbC54IDw9IF9yUmVzLnggJiYgdm94ZWwueSA+PSAwLjAgJiYgdm94ZWwueSA8PSBfclJlcy55ICYmIHZveGVsLnogPj0gMC4wICYmIHZveGVsLnogPD0gX3JSZXMueikpIHs7XFxudmlkID0gZ2V0SWQodm94ZWwpO3ZlYzQgdmNjID0gZ2V0Vm94ZWxfQ29sb3IodmlkLCB2b3hlbCwgUmF5T3JpZ2luKTtpZih2Y2MuYSAhPSAwLjApIHtmdm94ZWxDb2xvciA9IHZjYzticmVhaztcXG59fX19ZnZveGVsUG9zID0gZ2V0Vm94ZWxfUG9zKHZpZCk7ZnZveGVsTm9ybWFsID0gZ2V0Vm94ZWxfTm9ybWFsKHZpZCk7cmV0dXJuIFJheVRyYXZlcnNhbFJlc3BvbnNlKGZ2b3hlbENvbG9yLCBmdm94ZWxQb3MsIGZ2b3hlbE5vcm1hbCk7fVxcblwifX0se2tleTpcImlzUG93ZXJPZlR3b1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiAwPT0oZSZlLTEpfX0se2tleTpcIm5leHRIaWdoZXN0UG93ZXJPZlR3b1wiLHZhbHVlOmZ1bmN0aW9uKGUpey0tZTtmb3IodmFyIHQ9MTt0PDMyO3Q8PD0xKWV8PWU+PnQ7cmV0dXJuIGUrMX19LHtrZXk6XCJnZXRFbGVtZW50UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxuPTAsaT0wO1wib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOnIodCkpJiZ2b2lkIDAhPT10LnRhZ05hbWU7KWkrPXQub2Zmc2V0VG9wLG4rPXQub2Zmc2V0TGVmdCxcIkJPRFlcIj09PXQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYodD0wKSxcIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSYmXCJvYmplY3RcIj09PXIodC5vZmZzZXRQYXJlbnQpJiYodD10Lm9mZnNldFBhcmVudCk7cmV0dXJue3g6bix5Oml9fX0se2tleTpcImdldFdlYkdMQ29udGV4dEZyb21DYW52YXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBXZWJDTEdMVXRpbHMuZ2V0V2ViR0xDb250ZXh0RnJvbUNhbnZhcyhlLHQpfX0se2tleTpcImZ1bGxTY3JlZW5cIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ/ZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbj9kb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbj9kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk6ZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbj9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKCk6ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCl9fV0pLGV9KCk7aS5VdGlscz1hLHQuZXhwb3J0cy5VdGlscz1hfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7d2ViY2xnbDo2fV0sMzk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt0aGlzLmdldFNyYz1mdW5jdGlvbigpe3JldHVybltbXCJSR0JcIl0sXCJ2YXJ5aW5nIHZlYzQgdlZOO1xcbnZhcnlpbmcgdmVjNCB2VlQ7XFxudmFyeWluZyBmbG9hdCB2VlRVO1xcblwiLFwidmVjNCB2cCA9IHZlcnRleFBvc1tdO1xcbnZlYzQgdm4gPSB2ZXJ0ZXhOb3JtYWxbXTtcXG52ZWM0IHZ0ID0gdmVydGV4VGV4dHVyZVtdO1xcbmZsb2F0IHZ0dSA9IHZlcnRleFRleHR1cmVVbml0W107XFxudlZOID0gdm47dlZUID0gdnQ7dlZUVSA9IHZ0dTtnbF9Qb3NpdGlvbiA9IFBNYXRyaXggKiBjYW1lcmFXTWF0cml4ICogbm9kZVdNYXRyaXggKiB2cDtcXG5cIixcInZhcnlpbmcgdmVjNCB2Vk47XFxudmFyeWluZyB2ZWM0IHZWVDtcXG52YXJ5aW5nIGZsb2F0IHZWVFU7XFxuXCIsXCJ2ZWM0IHRleHR1cmVDb2xvciA9IHRleHR1cmUyRCh0ZXhBbGJlZG8sIHZWVC54eSk7XFxucmV0dXJuIFt0ZXh0dXJlQ29sb3JdO1xcblwiXX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5WRlBfUkdCPWksZS5WRlBfUkdCPWksdC5leHBvcnRzLlZGUF9SR0I9aX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDQwOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4pe1widXNlIHN0cmljdFwiO2UoXCIuL0FycmF5R2VuZXJhdG9yLmNsYXNzXCIpLGUoXCIuL0NvbXBvbmVudC5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRfR1BVLmNsYXNzXCIpLGUoXCIuL0NvbXBvbmVudENvbnRyb2xsZXJUcmFuc2Zvcm1UYXJnZXQuY2xhc3NcIiksZShcIi4vQ29tcG9uZW50S2V5Ym9hcmRFdmVudHMuY2xhc3NcIiksZShcIi4vQ29tcG9uZW50TW91c2VFdmVudHMuY2xhc3NcIiksZShcIi4vQ29tcG9uZW50UHJvamVjdGlvbi5jbGFzc1wiKSxlKFwiLi9Db21wb25lbnRUcmFuc2Zvcm0uY2xhc3NcIiksZShcIi4vQ29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0LmNsYXNzXCIpLGUoXCIuL0NvbnN0YW50c1wiKSxlKFwiLi9NZXNoLmNsYXNzXCIpLGUoXCIuL05vZGUuY2xhc3NcIiksZShcIi4vUHJvamVjdC5jbGFzc1wiKSxlKFwiLi9TQ0UuY2xhc3NcIiksZShcIi4vU3RhZ2UuY2xhc3NcIiksZShcIi4vU3Rvcm1NYXRoLmNsYXNzXCIpLGUoXCIuL1N5c3RlbUV2ZW50cy5jbGFzc1wiKSxlKFwiLi9VdGlscy5jbGFzc1wiKSxlKFwiLi9WRlBfUkdCLmNsYXNzXCIpLGUoXCIuL1ByZWZhYnMvR3JpZC9HcmlkLmNsYXNzXCIpLGUoXCIuL1ByZWZhYnMvU2ltcGxlQ2FtZXJhL1NpbXBsZUNhbWVyYS5jbGFzc1wiKSxlKFwiLi9QcmVmYWJzL1NpbXBsZU5vZGUvU2ltcGxlTm9kZS5jbGFzc1wiKSxlKFwiLi9VSS9EcmFnZ2FiaWxseVMuY2xhc3NcIiksZShcIi4vVUkvUGFuZWxOb2RlLmNsYXNzXCIpLGUoXCIuL1VJL1BhbmVsTnVtYmVyR2VuZXJhdG9yLmNsYXNzXCIpLGUoXCIuL1VJL1BhbmVsU3RhZ2UuY2xhc3NcIiksZShcIi4vVUkvVUkuY2xhc3NcIiksZShcIi4vVUkvVUlDb21wb25lbnRHUFUuY2xhc3NcIiksZShcIi4vVUkvVUlDb21wb25lbnRHUFVfQXJndW1lbnQuY2xhc3NcIiksZShcIi4vVUkvVUlDb21wb25lbnRHUFVfSW5kaWNlcy5jbGFzc1wiKSxlKFwiLi9VSS9VSUNvbXBvbmVudEdQVV9LZXJuZWwuY2xhc3NcIiksZShcIi4vVUkvVUlDb21wb25lbnRHUFVfVmZwLmNsYXNzXCIpLHQuZXhwb3J0cy5BcnJheUdlbmVyYXRvcj1uLkFycmF5R2VuZXJhdG9yPUFycmF5R2VuZXJhdG9yLHQuZXhwb3J0cy5Db21wb25lbnQ9bi5Db21wb25lbnQ9Q29tcG9uZW50LHQuZXhwb3J0cy5Db21wb25lbnRfR1BVPW4uQ29tcG9uZW50X0dQVT1Db21wb25lbnRfR1BVLHQuZXhwb3J0cy5Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0PW4uQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldD1Db21wb25lbnRDb250cm9sbGVyVHJhbnNmb3JtVGFyZ2V0LHQuZXhwb3J0cy5Db21wb25lbnRLZXlib2FyZEV2ZW50cz1uLkNvbXBvbmVudEtleWJvYXJkRXZlbnRzPUNvbXBvbmVudEtleWJvYXJkRXZlbnRzLHQuZXhwb3J0cy5Db21wb25lbnRNb3VzZUV2ZW50cz1uLkNvbXBvbmVudE1vdXNlRXZlbnRzPUNvbXBvbmVudE1vdXNlRXZlbnRzLHQuZXhwb3J0cy5Db21wb25lbnRQcm9qZWN0aW9uPW4uQ29tcG9uZW50UHJvamVjdGlvbj1Db21wb25lbnRQcm9qZWN0aW9uLHQuZXhwb3J0cy5Db21wb25lbnRUcmFuc2Zvcm09bi5Db21wb25lbnRUcmFuc2Zvcm09Q29tcG9uZW50VHJhbnNmb3JtLHQuZXhwb3J0cy5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQ9bi5Db21wb25lbnRUcmFuc2Zvcm1UYXJnZXQ9Q29tcG9uZW50VHJhbnNmb3JtVGFyZ2V0LHQuZXhwb3J0cy5Db25zdGFudHM9bi5Db25zdGFudHM9Q29uc3RhbnRzLHQuZXhwb3J0cy5NZXNoPW4uTWVzaD1NZXNoLHQuZXhwb3J0cy5Ob2RlPW4uTm9kZT1Ob2RlLHQuZXhwb3J0cy5Qcm9qZWN0PW4uUHJvamVjdD1Qcm9qZWN0LHQuZXhwb3J0cy5TQ0U9bi5TQ0U9U0NFLHQuZXhwb3J0cy5TdGFnZT1uLlN0YWdlPVN0YWdlLHQuZXhwb3J0cy5TdG9ybU0xNj1uLlN0b3JtTTE2PVN0b3JtTTE2LHQuZXhwb3J0cy5TdG9ybVYzPW4uU3Rvcm1WMz1TdG9ybVYzLHQuZXhwb3J0cy5TeXN0ZW1FdmVudHM9bi5TeXN0ZW1FdmVudHM9U3lzdGVtRXZlbnRzLHQuZXhwb3J0cy5VdGlscz1uLlV0aWxzPVV0aWxzLHQuZXhwb3J0cy5WRlBfUkdCPW4uVkZQX1JHQj1WRlBfUkdCLHQuZXhwb3J0cy5HcmlkPW4uR3JpZD1HcmlkLHQuZXhwb3J0cy5TaW1wbGVDYW1lcmE9bi5TaW1wbGVDYW1lcmE9U2ltcGxlQ2FtZXJhLHQuZXhwb3J0cy5TaW1wbGVOb2RlPW4uU2ltcGxlTm9kZT1TaW1wbGVOb2RlLHQuZXhwb3J0cy5EcmFnZ2FiaWxseVM9bi5EcmFnZ2FiaWxseVM9RHJhZ2dhYmlsbHlTLHQuZXhwb3J0cy5QYW5lbE5vZGU9bi5QYW5lbE5vZGU9UGFuZWxOb2RlLHQuZXhwb3J0cy5QYW5lbE51bWJlckdlbmVyYXRvcj1uLlBhbmVsTnVtYmVyR2VuZXJhdG9yPVBhbmVsTnVtYmVyR2VuZXJhdG9yLHQuZXhwb3J0cy5QYW5lbFN0YWdlPW4uUGFuZWxTdGFnZT1QYW5lbFN0YWdlLHQuZXhwb3J0cy5VST1uLlVJPVVJLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVT1uLlVJQ29tcG9uZW50R1BVPVVJQ29tcG9uZW50R1BVLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9Bcmd1bWVudD1uLlVJQ29tcG9uZW50R1BVX0FyZ3VtZW50PVVJQ29tcG9uZW50R1BVX0FyZ3VtZW50LHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9JbmRpY2VzPW4uVUlDb21wb25lbnRHUFVfSW5kaWNlcz1VSUNvbXBvbmVudEdQVV9JbmRpY2VzLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9LZXJuZWw9bi5VSUNvbXBvbmVudEdQVV9LZXJuZWw9VUlDb21wb25lbnRHUFVfS2VybmVsLHQuZXhwb3J0cy5VSUNvbXBvbmVudEdQVV9WZnA9bi5VSUNvbXBvbmVudEdQVV9WZnA9VUlDb21wb25lbnRHUFVfVmZwfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuL0FycmF5R2VuZXJhdG9yLmNsYXNzXCI6NyxcIi4vQ29tcG9uZW50LmNsYXNzXCI6OCxcIi4vQ29tcG9uZW50Q29udHJvbGxlclRyYW5zZm9ybVRhcmdldC5jbGFzc1wiOjksXCIuL0NvbXBvbmVudEtleWJvYXJkRXZlbnRzLmNsYXNzXCI6MTAsXCIuL0NvbXBvbmVudE1vdXNlRXZlbnRzLmNsYXNzXCI6MTEsXCIuL0NvbXBvbmVudFByb2plY3Rpb24uY2xhc3NcIjoxMixcIi4vQ29tcG9uZW50VHJhbnNmb3JtLmNsYXNzXCI6MTMsXCIuL0NvbXBvbmVudFRyYW5zZm9ybVRhcmdldC5jbGFzc1wiOjE0LFwiLi9Db21wb25lbnRfR1BVLmNsYXNzXCI6MTUsXCIuL0NvbnN0YW50c1wiOjE2LFwiLi9NZXNoLmNsYXNzXCI6MTcsXCIuL05vZGUuY2xhc3NcIjoxOCxcIi4vUHJlZmFicy9HcmlkL0dyaWQuY2xhc3NcIjoxOSxcIi4vUHJlZmFicy9TaW1wbGVDYW1lcmEvU2ltcGxlQ2FtZXJhLmNsYXNzXCI6MjAsXCIuL1ByZWZhYnMvU2ltcGxlTm9kZS9TaW1wbGVOb2RlLmNsYXNzXCI6MjEsXCIuL1Byb2plY3QuY2xhc3NcIjoyMixcIi4vU0NFLmNsYXNzXCI6MjMsXCIuL1N0YWdlLmNsYXNzXCI6MjQsXCIuL1N0b3JtTWF0aC5jbGFzc1wiOjI1LFwiLi9TeXN0ZW1FdmVudHMuY2xhc3NcIjoyNixcIi4vVUkvRHJhZ2dhYmlsbHlTLmNsYXNzXCI6MjgsXCIuL1VJL1BhbmVsTm9kZS5jbGFzc1wiOjI5LFwiLi9VSS9QYW5lbE51bWJlckdlbmVyYXRvci5jbGFzc1wiOjMwLFwiLi9VSS9QYW5lbFN0YWdlLmNsYXNzXCI6MzEsXCIuL1VJL1VJLmNsYXNzXCI6MzIsXCIuL1VJL1VJQ29tcG9uZW50R1BVLmNsYXNzXCI6MzMsXCIuL1VJL1VJQ29tcG9uZW50R1BVX0FyZ3VtZW50LmNsYXNzXCI6MzQsXCIuL1VJL1VJQ29tcG9uZW50R1BVX0luZGljZXMuY2xhc3NcIjozNSxcIi4vVUkvVUlDb21wb25lbnRHUFVfS2VybmVsLmNsYXNzXCI6MzYsXCIuL1VJL1VJQ29tcG9uZW50R1BVX1ZmcC5jbGFzc1wiOjM3LFwiLi9VdGlscy5jbGFzc1wiOjM4LFwiLi9WRlBfUkdCLmNsYXNzXCI6Mzl9XX0se30sWzQwXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVkZQX05PREVQSUNLRFJBRyA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxucmVxdWlyZSgnc2NlanMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFZGUF9OT0RFUElDS0RSQUcgPSBleHBvcnRzLlZGUF9OT0RFUElDS0RSQUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBWRlBfTk9ERVBJQ0tEUkFHKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZGUF9OT0RFUElDS0RSQUcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVkZQX05PREVQSUNLRFJBRywgbnVsbCwgW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2dldFNyYycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3JjKGdlb21ldHJ5TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1t1bmRlZmluZWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmVydGV4IGhlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ndW5pZm9ybSBzYW1wbGVyMkQgcG9zWFlaVztcXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucGFja0dMU0xGdW5jdGlvblN0cmluZygpICsgJ21hdDQgcm90YXRpb25NYXRyaXgodmVjMyBheGlzLCBmbG9hdCBhbmdsZSkgeycgKyAnYXhpcyA9IG5vcm1hbGl6ZShheGlzKTsnICsgJ2Zsb2F0IHMgPSBzaW4oYW5nbGUpOycgKyAnZmxvYXQgYyA9IGNvcyhhbmdsZSk7JyArICdmbG9hdCBvYyA9IDEuMCAtIGM7JyArICdyZXR1cm4gbWF0NChvYyAqIGF4aXMueCAqIGF4aXMueCArIGMsICAgICAgICAgICBvYyAqIGF4aXMueCAqIGF4aXMueSAtIGF4aXMueiAqIHMsICBvYyAqIGF4aXMueiAqIGF4aXMueCArIGF4aXMueSAqIHMsICAwLjAsJyArICdvYyAqIGF4aXMueCAqIGF4aXMueSArIGF4aXMueiAqIHMsICBvYyAqIGF4aXMueSAqIGF4aXMueSArIGMsICAgICAgICAgICBvYyAqIGF4aXMueSAqIGF4aXMueiAtIGF4aXMueCAqIHMsICAwLjAsJyArICdvYyAqIGF4aXMueiAqIGF4aXMueCAtIGF4aXMueSAqIHMsICBvYyAqIGF4aXMueSAqIGF4aXMueiArIGF4aXMueCAqIHMsICBvYyAqIGF4aXMueiAqIGF4aXMueiArIGMsICAgICAgICAgICAwLjAsJyArICcwLjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLjApOycgKyAnfScsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZlcnRleCBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2ZWMyIHhHZW9tZXRyeSA9IGdldF9nbG9iYWxfaWQoZGF0YVtdLngsIHVCdWZmZXJXaWR0aCwgJyArIGdlb21ldHJ5TGVuZ3RoLnRvRml4ZWQoMSkgKyAnKTsnICsgJ3ZlYzQgbm9kZVBvc2l0aW9uID0gcG9zWFlaV1t4R2VvbWV0cnldO1xcbicgKyAnbWF0NCBub2RlcG9zID0gbm9kZVdNYXRyaXg7JyArICdtYXQ0IG1tID0gcm90YXRpb25NYXRyaXgodmVjMygxLjAsMC4wLDAuMCksICgzLjE0MTYvMi4wKSozLjApOycgKyAnbm9kZXBvcyA9IG5vZGVwb3MqbW07JyArICdub2RlcG9zWzNdWzBdID0gbm9kZVBvc2l0aW9uLng7JyArICdub2RlcG9zWzNdWzFdID0gbm9kZVBvc2l0aW9uLnk7JyArICdub2RlcG9zWzNdWzJdID0gbm9kZVBvc2l0aW9uLno7JyArICd2Q29sb3IgPSBwYWNrKChkYXRhW10ueCsxLjApLzEwMDAwMDAuMCk7JyArICdpZih2Q29sb3IueCA9PSAxLjAgJiYgdkNvbG9yLnkgPT0gMS4wICYmIHZDb2xvci56ID09IDEuMCAmJiB2Q29sb3IudyA9PSAxLjApICcgKyAnbm9kZXBvc1szXVswXSA9IDEwMDAwLjA7JyArICdnbF9Qb3NpdGlvbiA9IFBNYXRyaXggKiBjYW1lcmFXTWF0cml4ICogbm9kZXBvcyAqIG5vZGVWZXJ0ZXhQb3NbXTtcXG4nICsgJ2dsX1BvaW50U2l6ZSA9IDEwLjA7XFxuJyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJhZ21lbnQgaGVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuJyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJhZ21lbnQgc291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyd2ZWMyIHggPSBnZXRfZ2xvYmFsX2lkKCk7JysgLy8gbm8gbmVlZGVkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZXR1cm4gW3ZDb2xvcl07XFxuJ107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBWRlBfTk9ERVBJQ0tEUkFHO1xufSgpO1xuXG5nbG9iYWwuVkZQX05PREVQSUNLRFJBRyA9IFZGUF9OT0RFUElDS0RSQUc7XG5tb2R1bGUuZXhwb3J0cy5WRlBfTk9ERVBJQ0tEUkFHID0gVkZQX05PREVQSUNLRFJBRzsiXX0=
